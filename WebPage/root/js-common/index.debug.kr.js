window._$TATIC_CONST_DEBUG=true;
!function(t,e,i){function n(){var e=t.L;o.noConflict=function(){return t.L=e,this},t.L=o}var o={version:"1.0.0-rc.2"};"object"==typeof module&&"object"==typeof module.exports?module.exports=o:"function"==typeof define&&define.amd&&define(o),"undefined"!=typeof t&&n(),o.Util={lastId:0,bind:function(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}},create:Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",extend:function(t){var e,i,n,o;for(i=1,n=arguments.length;i<n;++i){o=arguments[i];for(e in o)t[e]=o[e]}return t},falseFn:function(){return!1},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},indexOf:function(t,e){for(var i=0,n=t.length;i<n;++i)if(t[i]===e)return i;return-1},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},splitWords:function(t){return o.Util.trim(t).split(/\s+/)},stamp:function(t){return t._leaflet_id=t._leaflet_id||++o.Util.lastId,t._leaflet_id},template:function(t,e){return t.replace(o.Util.templateRe,function(t,n){var o=e[n];if(o===i)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o})},templateRe:/\{ *([ \w_\- ]+) *\}/g,throttle:function(t,e,i){var n,o,s,r;return r=function(){n=!1,o&&(s.apply(i,o),o=!1)},s=function(){n?o=arguments:(t.apply(i,arguments),setTimeout(r,e),n=!0)}},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},wrapNum:function(t,e,i){var n=e[1],o=e[0],s=n-o;return t===n&&i?t:((t-o)%s+s)%s+o},getParamString:function(t,e,i){var n=[];for(var o in t)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&e.indexOf("?")!==-1?"&":"?")+n.join("&")},setOptions:function(t,e){t.hasOwnProperty("options")||(t.options=t.options?o.Util.create(t.options):{});for(var i in e)t.options[i]=e[i];return t.options}},function(){function e(e){return t["webkit"+e]||t["moz"+e]||t["ms"+e]}function i(e){var i=+new Date,o=Math.max(0,16-(i-n));return n=i+o,t.setTimeout(e,o)}var n=0,s=t.requestAnimationFrame||e("RequestAnimationFrame")||i,r=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};o.Util.requestAnimFrame=function(e,n,r){return r&&s===i?void e.call(n):s.call(t,o.bind(e,n))},o.Util.cancelAnimFrame=function(e){e&&r.call(t,e)}}(),o.extend=o.Util.extend,o.bind=o.Util.bind,o.stamp=o.Util.stamp,o.setOptions=o.Util.setOptions,o.Class=function(){},o.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,n=o.Util.create(i);n.constructor=e,e.prototype=n;for(var s in this)this.hasOwnProperty(s)&&"prototype"!==s&&(e[s]=this[s]);return t.statics&&(o.extend(e,t.statics),delete t.statics),t.includes&&(o.Util.extend.apply(null,[n].concat(t.includes)),delete t.includes),n.options&&(t.options=o.Util.extend(o.Util.create(n.options),t.options)),o.extend(n,t),n._initHooks=[],n.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=n._initHooks.length;t<e;t++)n._initHooks[t].call(this)}},e},o.Class.include=function(t){return o.extend(this.prototype,t),this},o.Class.mergeOptions=function(t){return o.extend(this.prototype.options,t),this},o.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this},o.Evented=o.Class.extend({addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[o.stamp(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[o.stamp(t)],this},fire:function(t,e,i){if(!this.listens(t,i))return this;var n=o.Util.extend({},e,{type:t,target:this}),s=this._events;if(s){var r,a,h,l,u=s[t+"_idx"];if(s[t])for(h=s[t].slice(),r=0,a=h.length;r<a;++r)h[r].fn.call(this,n);for(l in u)u[l].fn.call(u[l].ctx,n)}return i&&this._propagateEvent(n),this},listens:function(t,e){var i=this._events;if(i&&(i[t]||i[t+"_len"]))return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},_off:function(t,e,i){var n,s,r,a,h=this._events,l=t+"_idx",u=t+"_len";if(h){if(!e){s=h[l];for(r in s)s[r].fn=o.Util.falseFn;for(s=h[t]||[],r=0,a=s.length;r<a;++r)s[r].fn=o.Util.falseFn;return delete h[t],delete h[l],void delete h[u]}var c,_=i&&i!==this&&o.stamp(i);if(_)c=o.stamp(e)+"_"+_,s=h[l],s&&s[c]&&(n=s[c],delete s[c],h[u]--);else if(s=h[t])for(r=0,a=s.length;r<a;++r)if(s[r].fn===e){n=s[r],s.splice(r,1);break}n&&(n.fn=o.Util.falseFn)}},off:function(t,e,i){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else{t=o.Util.splitWords(t);for(var s=0,r=t.length;s<r;++s)this._off(t[s],e,i)}else delete this._events;return this},_on:function(t,e,i){var n=this._events=this._events||{},s=i&&i!==this&&o.stamp(i);if(s){var r=t+"_idx",a=t+"_len",h=n[r]=n[r]||{},l=o.stamp(e)+"_"+s;h[l]||(h[l]={fn:e,ctx:i},n[a]=(n[a]||0)+1)}else n[t]=n[t]||[],n[t].push({fn:e})},on:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else{t=o.Util.splitWords(t);for(var s=0,r=t.length;s<r;++s)this._on(t[s],e,i)}return this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,o.extend({layer:t.target},t),!0)},once:function(t,e,i){if("object"==typeof t){for(var n in t)this.once(n,t[n],e);return this}var s=o.bind(function(){this.off(t,e,i).off(t,s,i)},this);return this.on(t,e,i).on(t,s,i)}});var s=o.Evented.prototype;s.addEventListener=s.on,s.removeEventListener=s.clearAllEventListeners=s.off,s.addOneTimeEventListener=s.once,s.fireEvent=s.fire,s.hasEventListeners=s.listens,o.Mixin={Events:s},function(){var i=navigator.userAgent.toLowerCase(),n=e.documentElement,s="ActiveXObject"in t,r=i.indexOf("webkit")!==-1,a=i.indexOf("phantom")!==-1,h=i.search("android [23]")!==-1,l=i.indexOf("chrome")!==-1,u=i.indexOf("gecko")!==-1&&!r&&!t.opera&&!s,c=0===navigator.platform.indexOf("Win"),_="undefined"!=typeof orientation||i.indexOf("mobile")!==-1,d=!t.PointerEvent&&t.MSPointerEvent,p=t.PointerEvent||d,m=s&&"transition"in n.style,f="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!h,g="MozPerspective"in n.style,v="OTransition"in n.style,y=!t.L_NO_TOUCH&&(p||"ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch);o.Browser={ie:s,ielt9:s&&!e.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in e),webkit:r,gecko:u,android:i.indexOf("android")!==-1,android23:h,chrome:l,safari:!l&&i.indexOf("safari")!==-1,win:c,ie3d:m,webkit3d:f,gecko3d:g,opera12:v,any3d:!t.L_DISABLE_3D&&(m||f||g)&&!v&&!a,mobile:_,mobileWebkit:_&&r,mobileWebkit3d:_&&f,mobileOpera:_&&t.opera,mobileGecko:_&&u,touch:!!y,msPointer:!!d,pointer:!!p,retina:(t.devicePixelRatio||t.screen.deviceXDPI/t.screen.logicalXDPI)>1}}(),o.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},o.Point.prototype={add:function(t){return this.clone()._add(o.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},clone:function(){return new o.Point(this.x,this.y)},contains:function(t){return t=o.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},distanceTo:function(t){t=o.point(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},equals:function(t){return t=o.point(t),t.x===this.x&&t.y===this.y},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},scaleBy:function(t){return new o.Point(this.x*t.x,this.y*t.y)},subtract:function(t){return this.clone()._subtract(o.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},unscaleBy:function(t){return new o.Point(this.x/t.x,this.y/t.y)},toString:function(){return"Point( "+o.Util.formatNum(this.x)+", "+o.Util.formatNum(this.y)+" )"}},o.point=function(t,e,n){return t instanceof o.Point?t:o.Util.isArray(t)?new o.Point(t[0],t[1]):t===i||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new o.Point(t.x,t.y):new o.Point(t,e,n)},o.Bounds=function(t,e){if(t){var i=e?[t,e]:t;this.extend(i[0]),this.extend(i[1])}},o.Bounds.prototype={contains:function(t){var e,i;return t="number"==typeof t[0]||t instanceof o.Point?o.point(t):o.bounds(t),t instanceof o.Bounds?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},extend:function(t){return t=o.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},intersects:function(t){t=o.bounds(t);var e=this.min,i=this.max,n=t.min,s=t.max,r=s.x>=e.x&&n.x<=i.x,a=s.y>=e.y&&n.y<=i.y;return r&&a},isValid:function(){return!(!this.min||!this.max)},overlaps:function(t){var e=this.min,i=this.max,n=t.min,o=t.max,s=o.x>e.x&&n.x<i.x;if(s)return s;var r=o.y>e.y&&n.y<i.y;return r?r:s&&r},getBottomLeft:function(){return new o.Point(this.min.x,this.max.y)},getCenter:function(t){return new o.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getSize:function(){return this.max.subtract(this.min)},getTopRight:function(){return new o.Point(this.max.x,this.min.y)}},o.bounds=function(t,e){return!t||t instanceof o.Bounds?t:new o.Bounds(t,e)},o.Transformation=function(t,e,i,n){this._a=t,this._b=e,this._c=i,this._d=n},o.Transformation.prototype={_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},transform:function(t,e){return this._transform(t.clone(),e)},untransform:function(t,e){return e=e||1,new o.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},o.DomUtil={get:function(t){return"string"==typeof t?e.getElementById(t):t},getStyle:function(t,i){var n=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!n||"auto"===n)&&e.defaultView){var o=e.defaultView.getComputedStyle(t,null);n=o?o[i]:null}return"auto"===n?null:n},create:function(t,i,n){var o=e.createElement(t);return o.className=i||"",n&&n.appendChild(o),o},remove:function(t){var e=t.parentNode;e&&e.removeChild(t)},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},toFront:function(t){t.parentNode.appendChild(t)},toBack:function(t){var e=t.parentNode;e.insertBefore(t,e.firstChild)},hasClass:function(t,e){if(t.classList!==i)return t.classList.contains(e);var n=o.DomUtil.getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==i)for(var n=o.Util.splitWords(e),s=0,r=n.length;s<r;s++)t.classList.add(n[s]);else if(!o.DomUtil.hasClass(t,e)){var a=o.DomUtil.getClass(t);o.DomUtil.setClass(t,(a?a+" ":"")+e)}},removeClass:function(t,e){t.classList!==i?t.classList.remove(e):o.DomUtil.setClass(t,o.Util.trim((" "+o.DomUtil.getClass(t)+" ").replace(" "+e+" "," ")))},setClass:function(t,e){t.className.baseVal===i?t.className=e:t.className.baseVal=e},getClass:function(t){return t.className.baseVal===i?t.className:t.className.baseVal},setOpacity:function(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&o.DomUtil._setOpacityIE(t,e)},_setOpacityIE:function(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(o){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"},testProp:function(t){for(var i=e.documentElement.style,n=0;n<t.length;n++)if(t[n]in i)return t[n];return!1},setTransform:function(t,e,i){var n=e||new o.Point(0,0);t.style[o.DomUtil.TRANSFORM]=(o.Browser.ie3d?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")},setPosition:function(t,e){t._leaflet_pos=e,o.Browser.any3d?o.DomUtil.setTransform(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos||new o.Point(0,0)}},function(){o.DomUtil.TRANSFORM=o.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var i=o.DomUtil.TRANSITION=o.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(o.DomUtil.TRANSITION_END="webkitTransition"===i||"OTransition"===i?i+"End":"transitionend","onselectstart"in e)o.DomUtil.disableTextSelection=function(){o.DomEvent.on(t,"selectstart",o.DomEvent.preventDefault)},o.DomUtil.enableTextSelection=function(){o.DomEvent.off(t,"selectstart",o.DomEvent.preventDefault)};else{var n=o.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);o.DomUtil.disableTextSelection=function(){if(n){var t=e.documentElement.style;this._userSelect=t[n],t[n]="none"}},o.DomUtil.enableTextSelection=function(){n&&(e.documentElement.style[n]=this._userSelect,delete this._userSelect)}}o.DomUtil.disableImageDrag=function(){o.DomEvent.on(t,"dragstart",o.DomEvent.preventDefault)},o.DomUtil.enableImageDrag=function(){o.DomEvent.off(t,"dragstart",o.DomEvent.preventDefault)},o.DomUtil.preventOutline=function(e){for(;e.tabIndex===-1;)e=e.parentNode;e&&e.style&&(o.DomUtil.restoreOutline(),this._outlineElement=e,this._outlineStyle=e.style.outline,e.style.outline="none",o.DomEvent.on(t,"keydown",o.DomUtil.restoreOutline,this))},o.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,o.DomEvent.off(t,"keydown",o.DomUtil.restoreOutline,this))}}(),o.LatLng=function(t,e,i){this.lat=+t,this.lng=+e},o.LatLng.MathPI180=Math.PI/180,o.LatLng.prototype={clone:function(){return new o.LatLng(this.lat,this.lng,this.alt)},distanceTo:function(t){return o.CRS.Earth.distance(this,o.latLng(t))},equals:function(t,e){t=o.latLng(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(e===i?1e-9:e)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(this.MathPI180*this.lat);return o.latLngBounds([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},toString:function(t){return"LatLng("+o.Util.formatNum(this.lat,t)+", "+o.Util.formatNum(this.lng,t)+")"},wrap:function(){return o.CRS.Earth.wrapLatLng(this)}},o.latLng=function(t,e,i){return t instanceof o.LatLng?t:new o.LatLng(t[0],t[1])},o.LatLngBounds=function(t,e){var i=[t,e];this.extend(i[0]),this.extend(i[1])},o.LatLngBounds.prototype={contains:function(t){t="number"==typeof t[0]||t instanceof o.LatLng?o.latLng(t):o.latLngBounds(t);var e,i,n=this._southWest,s=this._northEast;return t instanceof o.LatLngBounds?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=s.lat&&e.lng>=n.lng&&i.lng<=s.lng},equals:function(t){return!!t&&(t=o.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast()))},extend:function(t){var e,i,n=this._southWest,s=this._northEast;if(t instanceof o.LatLng)e=t,i=t;else{if(!(t instanceof o.LatLngBounds))return t?this.extend(o.latLng(t)||o.latLngBounds(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||s?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),s.lat=Math.max(i.lat,s.lat),s.lng=Math.max(i.lng,s.lng)):(this._southWest=new o.LatLng(e.lat,e.lng),this._northEast=new o.LatLng(i.lat,i.lng)),this},intersects:function(t){t=o.latLngBounds(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),s=t.getNorthEast();return latIntersects=s.lat>=e.lat&&n.lat<=i.lat,lngIntersects=s.lng>=e.lng&&n.lng<=i.lng,latIntersects&&lngIntersects},isValid:function(){return!(!this._southWest||!this._northEast)},overlaps:function(t){var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast();return latOverlaps=o.lat>e.lat&&n.lat<i.lat,latOverlaps?(lngOverlaps=o.lng>e.lng&&n.lng<i.lng,!!lngOverlaps||lngOverlaps):latOverlaps},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,s=Math.abs(e.lng-i.lng)*t;return new o.LatLngBounds(new o.LatLng(e.lat-n,e.lng-s),new o.LatLng(i.lat+n,i.lng+s))},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},getCenter:function(){return new o.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new o.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new o.LatLng(this.getSouth(),this.getEast())},getSouthWest:function(){return this._southWest},getEast:function(){return this._northEast.lng},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getNorth:function(){return this._northEast.lat}},o.latLngBounds=function(t,e){return t instanceof o.LatLngBounds?t:new o.LatLngBounds(t,e)},o.Projection={},o.Projection.LonLat={bounds:o.bounds([-180,-90],[180,90]),project:function(t){return new o.Point(t.lng,t.lat)},unproject:function(t){return new o.LatLng(t.y,t.x)}},o.Projection.SphericalMercator={bounds:function(){var t=6378137*Math.PI;return o.bounds([-t,-t],[t,t])}(),MathPI180:Math.PI/180,Math180PI:180/Math.PI,MathPI2:Math.PI/2,R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=this.MathPI180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),s=Math.sin(n*e);return new o.Point(this.R*t.lng*e,this.R*Math.log((1+s)/(1-s))/2)},unproject:function(t){var e=this.Math180PI;return new o.LatLng((2*Math.atan(Math.exp(t.y/this.R))-this.MathPI2)*e,t.x*e/this.R)}},o.CRS={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},unproject:function(t){return this.projection.unproject(t)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?o.Util.wrapNum(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?o.Util.wrapNum(t.lat,this.wrapLat,!0):t.lat,n=t.alt;return o.latLng(i,e,n)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t),n=this.transformation.transform(e.min,i),s=this.transformation.transform(e.max,i);return o.bounds(n,s)}},o.CRS.Simple=o.extend({},o.CRS,{projection:o.Projection.LonLat,infinite:!0,distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},scale:function(t){return Math.pow(2,t)},transformation:new o.Transformation(1,0,(-1),0),zoom:function(t){return Math.log(t)/Math.LN2}}),o.CRS.Earth=o.extend({},o.CRS,{MathPI180:Math.PI/180,R:6371e3,wrapLng:[-180,180],distance:function(t,e){var i=this.MathPI180,n=t.lat*i,o=e.lat*i,s=Math.sin(n)*Math.sin(o)+Math.cos(n)*Math.cos(o)*Math.cos((e.lng-t.lng)*i);return this.R*Math.acos(Math.min(s,1))}}),o.CRS.EPSG3857=o.extend({},o.CRS.Earth,{code:"EPSG:3857",projection:o.Projection.SphericalMercator,transformation:function(){var t=.5/(Math.PI*o.Projection.SphericalMercator.R);return new o.Transformation(t,.5,(-t),.5)}()}),o.CRS.EPSG900913=o.extend({},o.CRS.EPSG3857,{code:"EPSG:900913"}),o.CRS.EPSG4326=o.extend({},o.CRS.Earth,{code:"EPSG:4326",projection:o.Projection.LonLat,transformation:new o.Transformation(1/180,1,-1/180,.5)}),o.Map=o.Evented.extend({options:{crs:o.CRS.EPSG3857,center:i,zoom:i,minZoom:i,maxZoom:i,layers:[],maxBounds:i,renderer:i,fadeAnimation:!0,markerZoomAnimation:!0,trackResize:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;++t)this._handlers[t].disable()},remove:function(){this._initEvents(!0);try{delete this._container._leaflet}catch(t){this._container._leaflet=i}o.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");for(var e in this._layers)this._layers[e].remove();return this},_fireDOMEvent:function(t,e,i){if("click"===t.type){var n=o.Util.extend({},t);n.type="preclick",this._fireDOMEvent(n,n.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,e)),i.length)){var s=i[0];"contextmenu"===e&&s.listens(e,!0)&&o.DomEvent.preventDefault(t);var r={originalEvent:t};if("keypress"!==t.type){var a=s instanceof o.Marker;r.containerPoint=a?this.latLngToContainerPoint(s.getLatLng()):this.mouseEventToContainerPoint(t),r.layerPoint=this.containerPointToLayerPoint(r.containerPoint),r.latlng=a?s.getLatLng():this.layerPointToLatLng(r.layerPoint)}for(var h=0;h<i.length;++h)if(i[h].fire(e,r,!0),r.originalEvent._stopped||i[h].options.nonBubblingEvents&&o.Util.indexOf(i[h].options.nonBubblingEvents,e)!==-1)return}},_findEventTargets:function(t,e){for(var i,n=[],s="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,a=!1;r;){if(i=this._targets[o.stamp(r)],i&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){a=!0;break}if(i&&i.listens(e,!0)){if(s&&!o.DomEvent._isExternalTarget(r,t))break;if(n.push(i),s)break}if(r===this._container)break;r=r.parentNode}return n.length||a||s||!o.DomEvent._isExternalTarget(r,t)||(n=[this]),n},_handleDOMEvent:function(t){if(this._loaded&&!o.DomEvent._skipped(t)){var e="keypress"===t.type&&13===t.keyCode?"click":t.type;"mousedown"===e&&o.DomUtil.preventOutline(t.target||t.srcElement),this._fireDOMEvent(t,e)}},mouseEventToContainerPoint:function(t){return o.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_onResize:function(){o.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=o.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(o.point(t));return this.layerPointToLatLng(e)},containerPointToLayerPoint:function(t){return o.point(t).subtract(this._getMapPanePos())},createPane:function(t,e){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),n=o.DomUtil.create("div",i,e||this._mapPane);return t&&(this._panes[t]=n),n},distance:function(t,e){return this.options.crs.distance(o.latLng(t),o.latLng(e))},_draggableMoved:function(t){return t=t.options.draggable?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},fitBounds:function(t,e){if(t=o.latLngBounds(t),!t.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},initialize:function(t,e){e=o.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=o.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==i&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==i&&this.setView(o.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._addLayers(this.options.layers)},_initContainer:function(t){var e=this._container=o.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");o.DomEvent.addListener(e,"scroll",this._onScroll,this),e._leaflet=!0},_initEvents:function(e){if(o.DomEvent){this._targets={},this._targets[o.stamp(this._container)]=this;var i=e?"off":"on";o.DomEvent[i](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&o.DomEvent[i](t,"resize",this._onResize,this),o.Browser.any3d&&this.options.transform3DLimit&&this[i]("moveend",this._onMoveEnd)}},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&o.Browser.any3d,o.DomUtil.addClass(t,"leaflet-container"+(o.Browser.touch?" leaflet-touch":"")+(o.Browser.retina?" leaflet-retina":"")+(o.Browser.ielt9?" leaflet-oldie":"")+(o.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=o.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),o.DomUtil.setPosition(this._mapPane,new o.Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(o.DomUtil.addClass(t.markerPane,"leaflet-zoom-hide"),o.DomUtil.addClass(t.shadowPane,"leaflet-zoom-hide"))},invalidateSize:function(t){if(!this._loaded)return this;t=o.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),n=e.divideBy(2).round(),s=i.divideBy(2).round();return varoffset=n.subtract(s),offset.x||offset.y?(t.animate&&t.pan?this.panBy(offset):(t.pan&&this._rawPanBy(offset),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},layerPointToContainerPoint:function(t){return o.point(t).add(this._getMapPanePos())},layerPointToLatLng:function(t){var e=o.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(o.latLng(t)))},latLngToLayerPoint:function(t){var e=this.project(o.latLng(t))._round();return e._subtract(this.getPixelOrigin())},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),s=this.getSize().divideBy(2),r=new o.Bounds(n.subtract(s),n.add(s)),a=this._getBoundsOffset(r,i,e);return a.round().equals([0,0])?t:this.unproject(n.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new o.Bounds(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=o.Browser.any3d?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_move:function(t,e,n){e===i&&(e=this._zoom);var o=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(o||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},panBy:function(t){return this.fire("movestart"),this._rawPanBy(o.point(t)),this.fire("move"),this.fire("moveend")},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,o.latLngBounds(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},project:function(t,e){return e=e===i?this._zoom:e,this.options.crs.latLngToPoint(o.latLng(t),e)},_rawPanBy:function(t){o.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_resetView:function(t,e){o.DomUtil.setPosition(this._mapPane,new o.Point(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n)._move(t,e)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_stop:function(){return o.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},unproject:function(t,e){return e=e===i?this._zoom:e,this.options.crs.pointToLatLng(o.point(t),e)},wrapLatLng:function(t){return this.options.crs.wrapLatLng(o.latLng(t))},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},zoomIn:function(t,e){return t=t||(o.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(o.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new o.LatLngBounds(e,i)},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():o.latLngBounds(t);var i=o.point(e.paddingTopLeft||e.padding||[0,0]),n=o.point(e.paddingBottomRight||e.padding||[0,0]),s=this.getBoundsZoom(t,!1,i.add(n));s="number"==typeof e.maxZoom?Math.min(e.maxZoom,s):s;var r=n.subtract(i).divideBy(2),a=this.project(t.getSouthWest(),s),h=this.project(t.getNorthEast(),s),l=this.unproject(a.add(h).divideBy(2).add(r),s);return{center:l,zoom:s}},_getBoundsOffset:function(t,e,i){var n=o.bounds(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),s=n.min.subtract(t.min),r=n.max.subtract(t.max),a=this._rebound(s.x,-r.x),h=this._rebound(s.y,-r.y);return new o.Point(a,h)},getBoundsZoom:function(t,e,i){t=o.latLngBounds(t),i=o.point(i||[0,0]);var n=this.getZoom()||0,s=this.getMinZoom(),r=this.getMaxZoom(),a=t.getNorthWest(),h=t.getSouthEast(),l=this.getSize().subtract(i),u=this.project(h,n).subtract(this.project(a,n)),c=o.Browser.any3d?this.options.zoomSnap:1,_=Math.min(l.x/u.x,l.y/u.y);return n=this.getScaleZoom(_,n),c&&(n=Math.round(n/(c/100))*(c/100),n=e?Math.ceil(n/c)*c:Math.floor(n/c)*c),Math.max(s,Math.min(r,n))},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},getContainer:function(){return this._container},getMaxZoom:function(){return this.options.maxZoom===i?this._layersMaxZoom===i?1/0:this._layersMaxZoom:this.options.maxZoom},getMinZoom:function(){return this.options.minZoom===i?this._layersMinZoom||0:this.options.minZoom},_getMapPanePos:function(){return o.DomUtil.getPosition(this._mapPane)||new o.Point(0,0)},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new o.Bounds(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===i?this.getZoom():t)},getScaleZoom:function(t,e){var n=this.options.crs;return e=e===i?this._zoom:e,n.zoom(t*n.scale(e))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new o.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},_getTopLeftPoint:function(t,e){var n=t&&e!==i?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},getZoom:function(){return this._zoom},getZoomScale:function(t,e){var n=this.options.crs;return e=e===i?this._zoom:e,n.scale(t)/n.scale(e)},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},setMaxBounds:function(t){return t=o.latLngBounds(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setView:function(t,e){return e=e===i?this.getZoom():e,this._resetView(o.latLng(t),e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),s=this.getSize().divideBy(2),r=t instanceof o.Point?t:this.latLngToContainerPoint(t),a=r.subtract(s).multiplyBy(1-1/n),h=this.containerPointToLatLng(s.add(a));return this.setView(h,e,{zoom:i})}}),o.map=function(t,e){return new o.Map(t,e)},o.Layer=o.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[]},addInteractiveTarget:function(t){return this._map._targets[o.stamp(t)]=this,this},addTo:function(t){return t.addLayer(this),this},_layerAdd:function(t){var e=t.target;this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents&&e.on(this.getEvents(),this),this.onAdd(e)},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},removeInteractiveTarget:function(t){return delete this._map._targets[o.stamp(t)],this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)}}),o.Map.include({_addLayers:function(t){t=t?o.Util.isArray(t)?t:[t]:[];for(var e=0,i=t.length;e<i;++e)this.addLayer(t[e])},addLayer:function(t){var e=o.stamp(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[o.stamp(t)]=t,this._updateZoomLevels())},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},hasLayer:function(t){return!!t&&o.stamp(t)in this._layers},removeLayer:function(t){var e=o.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),t.getEvents&&this.off(t.getEvents(),t),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},_removeZoomLimit:function(t){var e=o.stamp(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-(1/0),n=this._getZoomSpan();for(var o in this._zoomBoundLayers){var s=this._zoomBoundLayers[o].options;t=s.minZoom===i?t:Math.min(t,s.minZoom),e=s.maxZoom===i?e:Math.max(e,s.maxZoom)}this._layersMaxZoom=e===-(1/0)?i:e,this._layersMinZoom=t===1/0?i:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange")}}),o.Projection.Mercator={bounds:o.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),MathPI180:Math.PI/180,Math180PI:180/Math.PI,MathPI2:Math.PI/2,MathPI4:Math.PI/4,R:6378137,R_MINOR:6356752.314245179,project:function(t){var e=this.MathPI180,i=this.R,n=t.lat*e,s=this.R_MINOR/i,r=Math.sqrt(1-s*s),a=r*Math.sin(n),h=Math.tan(this.MathPI4-n/2)/Math.pow((1-a)/(1+a),r/2);return n=-i*Math.log(Math.max(h,1e-10)),new o.Point(t.lng*e*i,n)},unproject:function(t){for(var e,i=this.Math180PI,n=this.R,s=this.R_MINOR/n,r=Math.sqrt(1-s*s),a=Math.exp(-t.y/n),h=this.MathPI2-2*Math.atan(a),l=0,u=.1;l<15&&Math.abs(u)>1e-7;++l)e=r*Math.sin(h),e=Math.pow((1-e)/(1+e),r/2),u=this.MathPI2-2*Math.atan(a*e)-h,h+=u;return new o.LatLng(h*i,t.x*i/n)}},o.CRS.EPSG3395=o.extend({},o.CRS.Earth,{code:"EPSG:3395",projection:o.Projection.Mercator,transformation:function(){var t=.5/(Math.PI*o.Projection.Mercator.R);return new o.Transformation(t,.5,(-t),.5)}()}),o.GridLayer=o.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:o.Browser.mobile,updateWhenZooming:!0,updateInterval:200,attribution:null,zIndex:1,bounds:null,minZoom:0,maxZoom:i,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._resetView()},onRemove:function(t){this._removeAllTiles(),o.DomUtil.remove(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},_addTile:function(t,e){var i=this._getTilePos(t),n=this._tileCoordsToKey(t),s=this.createTile(this._wrapCoords(t),o.bind(this._tileReady,this,t));this._initTile(s),this.createTile.length<2&&o.Util.requestAnimFrame(o.bind(this._tileReady,this,t,null,s)),o.DomUtil.setPosition(s,i),this._tiles[n]={el:s,coords:t,current:!0},e.appendChild(s),this.fire("tileloadstart",{tile:s,coords:t})},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},beforeAdd:function(t){t._addZoomLimit(this)},bringToBack:function(){return this._map&&(o.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},bringToFront:function(){return this._map&&(o.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},createTile:function(){return e.createElement("div")},_initContainer:function(){this._container||(this._container=o.DomUtil.create("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_initTile:function(t){o.DomUtil.addClass(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=o.Util.falseFn,t.onmousemove=o.Util.falseFn,o.Browser.ielt9&&this.options.opacity<1&&o.DomUtil.setOpacity(t,this.options.opacity),o.Browser.android&&!o.Browser.android23&&(t.style.WebkitBackfaceVisibility="hidden")},initialize:function(t){t=o.setOptions(this,t)},_invalidateAll:function(){for(var t in this._levels)o.DomUtil.remove(this._levels[t].el),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},isLoading:function(){return this._loading},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return o.latLngBounds(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_keyToTileCoords:function(t){var e=t.split(":"),i=new o.Point((+e[0]),(+e[1]));return i.z=+e[2],i},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new o.Bounds(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_removeTile:function(t){var e=this._tiles[t];e&&(o.DomUtil.remove(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_retainChildren:function(t,e,i,n){for(var s=2*t;s<2*t+2;++s)for(var r=2*e;r<2*e+2;++r){var a=new o.Point(s,r);a.z=i+1;var h=this._tileCoordsToKey(a),l=this._tiles[h];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i+1<n&&this._retainChildren(s,r,i+1,n))}},_retainParent:function(t,e,i,n){var s=Math.floor(t/2),r=Math.floor(e/2),a=i-1,h=new o.Point((+s),(+r));h.z=+a;var l=this._tileCoordsToKey(h),u=this._tiles[l];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),a>n&&this._retainParent(s,r,a,n))},_tileCoordsToBounds:function(t){var e=this._map,i=this.getTileSize();return nwPoint=t.scaleBy(i),sePoint=nwPoint.add(i),nw=e.wrapLatLng(e.unproject(nwPoint,t.z)),se=e.wrapLatLng(e.unproject(sePoint,t.z)),new o.LatLngBounds(nw,se)},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_tileReady:function(t,e,i){if(this._map){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var n=this._tileCoordsToKey(t);i=this._tiles[n],i&&(i.loaded=+new Date,this._map._fadeAnimated?(o.DomUtil.setOpacity(i.el,0),o.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=o.Util.requestAnimFrame(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),o.DomUtil.addClass(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t}),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),o.Browser.ielt9||!this._map._fadeAnimated?o.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(o.bind(this._pruneTiles,this),250)))}},_update:function(t){var n=this._map;if(n){var s=n.getZoom();if(t===i&&(t=n.getCenter()),this._tileZoom!==i){var r=this._getTiledPixelBounds(t),a=this._pxBoundsToTileRange(r),h=a.getCenter(),l=[],u=this.options.keepBuffer,c=new o.Bounds(a.getBottomLeft().subtract([u,-u]),a.getTopRight().add([u,-u]));for(var _ in this._tiles){var d=this._tiles[_].coords;d.z===this._tileZoom&&c.contains(o.point(d.x,d.y))||(this._tiles[_].current=!1)}if(Math.abs(s-this._tileZoom)>1)return void this._setView(t,s);for(var p=a.min.y;p<=a.max.y;p++)for(var m=a.min.x;m<=a.max.x;m++){var f=new o.Point(m,p);if(f.z=this._tileZoom,this._isValidTile(f)){var g=this._tiles[this._tileCoordsToKey(f)];g?g.current=!0:l.push(f)}}if(l.sort(function(t,e){return t.distanceTo(h)-e.distanceTo(h)}),0!==l.length){this._loading||(this._loading=!0,this.fire("loading"));var v=e.createDocumentFragment();for(m=0;m<l.length;++m)this._addTile(l[m],v);this._level.el.appendChild(v)}}}},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t===i)return i;for(var n in this._levels)this._levels[n].el.children.length||n===t?this._levels[n].el.style.zIndex=e-Math.abs(t-n):(o.DomUtil.remove(this._levels[n].el),this._removeTilesAtZoom(n),delete this._levels[n]);var s=this._levels[t],r=this._map;return s||(s=this._levels[t]={},s.el=o.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),s.el.style.zIndex=e,s.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),s.zoom=t,this._setZoomTransform(s,r.getCenter(),r.getZoom()),o.Util.falseFn(s.el.offsetWidth)),this._level=s,s},_updateOpacity:function(){if(this._map&&!o.Browser.ielt9){o.DomUtil.setOpacity(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var s=this._tiles[n];if(s.current&&s.loaded){var r=Math.min(1,(t-s.loaded)/200);o.DomUtil.setOpacity(s.el,r),r<1?e=!0:(s.active&&(i=!0),s.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(o.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=o.Util.requestAnimFrame(this._updateOpacity,this))}},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_wrapCoords:function(t){var e=new o.Point(this._wrapX?o.Util.wrapNum(t.x,this._wrapX):t.x,this._wrapY?o.Util.wrapNum(t.y,this._wrapY):t.y);return e.z=t.z,e},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),s=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*n);return new o.Bounds(s.subtract(r),s.add(r))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},getTileSize:function(){var t=this.options.tileSize;return t instanceof o.Point?t:new o.Point(t,t)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-(1/0),1/0),o=0,s=i.length;o<s;++o)e=i[o].style.zIndex,i[o]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},_setView:function(t,e,n,o){var s=Math.round(e);(this.options.maxZoom!==i&&s>this.options.maxZoom||this.options.minZoom!==i&&s<this.options.minZoom)&&(s=i);var r=this.options.updateWhenZooming&&s!==this._tileZoom;o&&!r||(this._tileZoom=s,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),s!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom);translate=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round(),o.Browser.any3d?o.DomUtil.setTransform(t.el,translate,n):o.DomUtil.setPosition(t.el,translate)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)}}),o.gridLayer=function(t){return new o.GridLayer(t)},o.TileLayer=o.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=o.setOptions(this,e),e.detectRetina&&o.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),o.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,i){var n=e.createElement("img");return o.DomEvent.on(n,"load",o.bind(this._tileOnLoad,this,i,n)),o.DomEvent.on(n,"error",o.bind(this._tileOnError,this,i,n)),this.options.crossOrigin&&(n.crossOrigin=""),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:o.Browser.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return o.Util.template(this._url,o.extend(e,this.options))},_tileOnLoad:function(t,e){o.Browser.ielt9?setTimeout(o.bind(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&(e.src=n),t(i,e)},getTileSize:function(){var t=this._map,e=o.GridLayer.prototype.getTileSize.call(this),i=this._tileZoom+this.options.zoomOffset,n=this.options.maxNativeZoom;return null!==n&&i>n?e.divideBy(t.getZoomScale(n,i)).round():e},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this.options,e=this._tileZoom;return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,null!==t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=o.Util.falseFn,e.onerror=o.Util.falseFn,e.complete||(e.src=o.Util.emptyImageUrl,o.DomUtil.remove(e)))}}),o.tileLayer=function(t,e){return new o.TileLayer(t,e)},o.TileLayer.WMS=o.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=o.extend({},this.defaultWmsParams);for(var n in e)n in this.options||(i[n]=e[n]);e=o.setOptions(this,e),i.width=i.height=e.tileSize*(e.detectRetina&&o.Browser.retina?2:1),this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,o.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),i=this._crs.project(e.getNorthWest()),n=this._crs.project(e.getSouthEast()),s=(this._wmsVersion>=1.3&&this._crs===o.CRS.EPSG4326?[n.y,i.x,i.y,n.x]:[i.x,n.y,n.x,i.y]).join(","),r=o.TileLayer.prototype.getTileUrl.call(this,t);return r+o.Util.getParamString(this.wmsParams,r,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return o.extend(this.wmsParams,t),e||this.redraw(),this}}),o.tileLayer.wms=function(t,e){return new o.TileLayer.WMS(t,e)},o.ImageOverlay=o.Layer.extend({options:{opacity:1,alt:"",interactive:!1,attribution:null,crossOrigin:!1},initialize:function(t,e,i){this._url=t,this._bounds=o.latLngBounds(e),o.setOptions(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(o.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){o.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&o.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&o.DomUtil.toBack(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=t,this._map&&this._reset(),this},getAttribution:function(){return this.options.attribution},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=o.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));t.onselectstart=o.Util.falseFn,t.onmousemove=o.Util.falseFn,t.onload=o.bind(this.fire,this,"load"),this.options.crossOrigin&&(t.crossOrigin=""),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngToNewLayerPoint(this._bounds.getNorthWest(),t.zoom,t.center);o.DomUtil.setTransform(this._image,i,e)},_reset:function(){var t=this._image,e=new o.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();o.DomUtil.setPosition(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){o.DomUtil.setOpacity(this._image,this.options.opacity)}}),o.imageOverlay=function(t,e,i){return new o.ImageOverlay(t,e,i)},o.Icon=o.Class.extend({initialize:function(t){o.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"==typeof n&&(n=[n,n]);var s=o.point(n),r=o.point("shadow"===e&&i.shadowAnchor||i.iconAnchor||s&&s.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),s&&(t.style.width=s.x+"px",t.style.height=s.y+"px")},_createImg:function(t,i){return i=i||e.createElement("img"),i.src=t,i},_getIconUrl:function(t){return o.Browser.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),o.icon=function(t){return new o.Icon(t)},o.Icon.Default=o.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];var i=o.Icon.Default.imagePath;if(!i)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return i+"/marker-"+t+(o.Browser.retina&&"icon"===t?"-2x":"")+".png"}}),o.Icon.Default.imagePath=function(){var t,i,n,o,s=e.getElementsByTagName("script"),r=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,i=s.length;t<i;t++)if(n=s[t].src||"",n.match(r))return o=n.split(r)[0],(o?o+"/":"")+"images"}(),o.Marker=o.Layer.extend({options:{icon:new o.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"]},initialize:function(t,e){o.setOptions(this,e),this._latlng=o.latLng(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._initIcon(),this.update()},onRemove:function(){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),this._removeIcon(),this._removeShadow()},getEvents:function(){var t={zoom:this.update,viewreset:this.update};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=o.latLng(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),t.alt&&(i.alt=t.alt)),o.DomUtil.addClass(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var s=t.icon.createShadow(this._shadow),r=!1;s!==this._shadow&&(this._removeShadow(),r=!0),s&&o.DomUtil.addClass(s,e),this._shadow=s,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),s&&r&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),o.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&o.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(t){o.DomUtil.setPosition(this._icon,t),this._shadow&&o.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(o.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),o.Handler.MarkerDrag)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new o.Handler.MarkerDrag(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;o.DomUtil.setOpacity(this._icon,t),this._shadow&&o.DomUtil.setOpacity(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),o.marker=function(t,e){return new o.Marker(t,e)},o.DivIcon=o.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&"DIV"===t.tagName?t:e.createElement("div"),n=this.options;if(i.innerHTML=n.html!==!1?n.html:"",n.bgPos){var s=o.point(n.bgPos);i.style.backgroundPosition=-s.x+"px "+-s.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}}),o.divIcon=function(t){return new o.DivIcon(t)},o.Map.mergeOptions({closePopupOnClick:!0}),o.DivOverlay=o.Layer.extend({options:{offset:[0,7],zoomAnimation:!0,className:"",pane:"popupPane"},initialize:function(t,e){o.setOptions(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&this.options.zoomAnimation,this._container||this._initLayout(),t._fadeAnimated&&o.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&o.DomUtil.setOpacity(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(o.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(o.bind(o.DomUtil.remove,o.DomUtil,this._container),200)):o.DomUtil.remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&o.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&o.DomUtil.toBack(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=o.point(this.options.offset),i=this._getAnchor();this._zoomAnimated?o.DomUtil.setPosition(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,s=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=s+"px"}},_getAnchor:function(){return[0,0]}}),o.Popup=o.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){o.DivOverlay.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source.on("preclick",o.DomEvent.stopPropagation))},onRemove:function(t){o.DivOverlay.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source.off("preclick",o.DomEvent.stopPropagation))},getEvents:function(){var t=o.DivOverlay.prototype.getEvents.call(this);return("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=o.DomUtil.create("div",t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"));if(this.options.closeButton){var i=this._closeButton=o.DomUtil.create("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",o.DomEvent.on(i,"click",this._onCloseButtonClick,this)}var n=this._wrapper=o.DomUtil.create("div",t+"-content-wrapper",e);this._contentNode=o.DomUtil.create("div",t+"-content",n),o.DomEvent.disableClickPropagation(n).disableScrollPropagation(this._contentNode).on(n,"contextmenu",o.DomEvent.stopPropagation),this._tipContainer=o.DomUtil.create("div",t+"-tip-container",e),this._tip=o.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,s=this.options.maxHeight,r="leaflet-popup-scrolled";s&&n>s?(e.height=s+"px",o.DomUtil.addClass(t,r)):o.DomUtil.removeClass(t,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);o.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=this._container.offsetHeight,i=this._containerWidth,n=new o.Point(this._containerLeft,-e-this._containerBottom);this._zoomAnimated&&n._add(o.DomUtil.getPosition(this._container));var s=t.layerPointToContainerPoint(n),r=o.point(this.options.autoPanPadding),a=o.point(this.options.autoPanPaddingTopLeft||r),h=o.point(this.options.autoPanPaddingBottomRight||r),l=t.getSize(),u=0,c=0;s.x+i+h.x>l.x&&(u=s.x+i-l.x+h.x),s.x-u-a.x<0&&(u=s.x-a.x),s.y+e+h.y>l.y&&(c=s.y+e-l.y+h.y),s.y-c-a.y<0&&(c=s.y-a.y),(u||c)&&t.fire("autopanstart").panBy([u,c])}},_onCloseButtonClick:function(t){this._close(),o.DomEvent.stop(t)}}),o.popup=function(t,e){return new o.Popup(t,e)},o.Map.include({openPopup:function(t,e,i){return t instanceof o.Popup||(t=new o.Popup(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),o.Layer.include({bindPopup:function(t,e){return t instanceof o.Popup?(o.setOptions(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new o.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this._originalPopupOffset=this._popup.options.offset,this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof o.Layer||(e=t,t=this),t instanceof o.FeatureGroup)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup.options.offset=this._popupAnchor(t),this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(this._popup&&this._map)return o.DomEvent.stop(t),e instanceof o.Path?void this.openPopup(t.layer||t.target,t.latlng):void(this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_popupAnchor:function(t){var e=t._getPopupAnchor?t._getPopupAnchor():[0,0],i=this._originalPopupOffset||o.Popup.prototype.options.offset;return o.point(e).add(i)},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),o.Marker.include({_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]}}),o.Tooltip=o.DivOverlay.extend({options:{pane:"tooltipPane",offset:[6,-6],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){o.DivOverlay.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){o.DivOverlay.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=o.DomUtil.create("div",e)},_updateLayout:function(){},_adjustPan:function(){},_updatePosition:function(){var t=this._map,e=t.latLngToLayerPoint(this._latlng),i=this._container,n=t.latLngToContainerPoint(t.getCenter()),s=t.layerPointToContainerPoint(e),r=this.options.direction,a=i.offsetWidth,h=i.offsetHeight,l=o.point(this.options.offset),u=this._getAnchor();"top"===r?e=e.add(o.point(-a/2,-h+l.y+u.y)):"bottom"===r?e=e.subtract(o.point(a/2,l.y)):"center"===r?e=e.subtract(o.point(a/2,h/2-u.y)):"right"===r||"auto"===r&&s.x<n.x?(r="right",e=e.add([l.x+u.x,u.y-h/2])):(r="left",e=e.subtract(o.point(l.x+a+u.x,h/2-u.y))),o.DomUtil.removeClass(i,"leaflet-tooltip-right"),o.DomUtil.removeClass(i,"leaflet-tooltip-left"),o.DomUtil.removeClass(i,"leaflet-tooltip-top"),o.DomUtil.removeClass(i,"leaflet-tooltip-bottom"),o.DomUtil.addClass(i,"leaflet-tooltip-"+r),o.DomUtil.setPosition(i,e)},setOpacity:function(t){this.options.opacity=t,this._container&&o.DomUtil.setOpacity(this._container,t)},_animateZoom:function(t){var e,i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this.options.offset&&(e=o.point(this.options.offset),i=i.add(e)),o.DomUtil.setPosition(this._container,i)},_getAnchor:function(){return o.point(this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),o.tooltip=function(t,e){return new o.Tooltip(t,e)},o.Map.include({openTooltip:function(t,e,i){return t instanceof o.Tooltip||(t=new o.Tooltip(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),o.Layer.include({bindTooltip:function(t,e){return t instanceof o.Tooltip?(o.setOptions(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=o.tooltip(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent||(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),o.Browser.touch&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof o.Layer||(e=t,t=this),t instanceof o.FeatureGroup)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(o.DomUtil.addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&(o.DomUtil.removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:i)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}}),o.Marker.include({_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),o.LayerGroup=o.Layer.extend({onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},addLayer:function(t){t.layerGroup=this;var e=this.getLayerId(t);return t.layerGroup.last_leaflet_id=e,this._layers[e]=t,this._map&&this._map.addLayer(t),this},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},initialize:function(t){this._layers={};var e,i;if(t)for(e=0,i=t.length;e<i;++e)this.addLayer(t[e])},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)i=this._layers[e],i[t]&&i[t].apply(i,n);return this},removeAllLayers:function(){var t=this.getLayers(),e=this.removeLayer,i=0,n=t.length;try{for(;i<n;++i)e(t[i])}catch(o){console.Error("L.LayerGroup removeAllLayers Error : "+o)}},removeLayer_Ori:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},removeLayer:function(t){return this._map.removeLayer(t),delete this._layers[t._leaflet_id],this},renewal__aLayers:function(){if(!(this._aLayers.length>5e3)){this._aLayers.length=0;for(var t in this._layers)this._aLayers.push(this._layers[t])}},getLayer:function(t){return this._layers[t]},getLayerId:function(t){return o.stamp(t)},getLayers:function(){if(this._aLayers.length>5e3)return this._aLayers;for(var t in this._layers)this._aLayers.push(this._layers[t]);return this._aLayers},getLayers_Obj:function(){return this._layers},setZIndex:function(t){return this.invoke("setZIndex",t)}}),o.layerGroup=function(t){var e=new o.LayerGroup(t);return e._aLayers=[],e},o.FeatureGroup=o.LayerGroup.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),o.LayerGroup.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},bringToBack:function(){return this.invoke("bringToBack")},bringToFront:function(){return this.invoke("bringToFront")},removeAllLayers:function(){var t=this.getLayers(),e=this.removeLayer,i=0,n=t.length;try{for(;i<n;++i)e(t[i])}catch(o){console.error("L.FeatureGroup.removeAllLayers Error : "+o)}},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),o.LayerGroup.prototype.removeLayer.call(this,t),this.fire("layerremove",{l:t})):this},getBounds:function(){var t,e=new o.LatLngBounds;for(var i in this._layers)t=this._layers[i],e.extend(t.getBounds?t.getBounds():t.getLatLng());return e},setStyle:function(t){return this.invoke("setStyle",t)}}),o.featureGroup=function(t){var e=new o.FeatureGroup(t);return e._aLayers=[],e},o.Renderer=o.Layer.extend({options:{padding:.1},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&o.DomUtil.addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update()},onRemove:function(){o.DomUtil.remove(this._container)},initialize:function(t){o.setOptions(this,t),o.stamp(this)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom)},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new o.Bounds(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=o.DomUtil.getPosition(this._container),s=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),a=this._map.project(t,e),h=a.subtract(r),l=s.multiplyBy(-i).add(n).add(s).subtract(h);o.Browser.any3d?o.DomUtil.setTransform(this._container,l,i):o.DomUtil.setPosition(this._container,l)},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t}}),o.Map.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&o.canvas()||o.svg()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||t===i)return!1;var e=this._paneRenderers[t];return e===i&&(e=o.SVG&&o.svg({pane:t})||o.Canvas&&o.canvas({pane:t}),this._paneRenderers[t]=e),e}}),o.Path=o.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){try{this._renderer._removePath(this)}catch(t){console.error("L.Path.onRemove Error : "+t)}},beforeAdd:function(t){this._renderer=t.getRenderer(this)},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(o.Browser.touch?10:0)},redraw:function(){try{this._renderer._updatePath(this)}catch(t){return console.error("L.Path.redraw Error : "+t),this}return this},_reset:function(){this._project(),this._update()},getElement:function(){return this._path},getEvents:function(){return{zoomend:this._project,moveend:this._update,viewreset:this._reset}},setStyle:function(t){return o.setOptions(this,t),this._renderer&&this._renderer._updateStyle(this),this}}),o.LineUtil={clipSegment:function(t,e,i,n,o){var s,r,a,h=n?this._lastCode:this._getBitCode(t,i),l=this._getBitCode(e,i);for(this._lastCode=l;;){if(!(h|l))return[t,e];if(h&l)return!1;s=h||l,r=this._getEdgeIntersection(t,e,s,i,o),a=this._getBitCode(r,i),s===h?(t=r,h=a):(e=r,l=a)}},closestPointOnSegment:function(t,e,i){return this._sqClosestPointOnSegment(t,e,i)},pointToSegmentDistance:function(t,e,i){return Math.sqrt(this._sqClosestPointOnSegment(t,e,i,!0))},_reducePoints:function(t,e){for(var i=[t[0]],n=1,o=0,s=t.length;n<s;++n)this._sqDist(t[n],t[o])>e&&(i.push(t[n]),o=n);return o<s-1&&i.push(t[s-1]),i},simplify:function(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=this._reducePoints(t,i),t=this._simplifyDP(t,i)},_simplifyDP:function(t,e){var n=t.length,o=typeof Uint8Array!=i+""?Uint8Array:Array,s=new o(n);s[0]=s[n-1]=1,this._simplifyDPStep(t,s,e,0,n-1);var r,a=[];for(r=0;r<n;++r)s[r]&&a.push(t[r]);return a},_simplifyDPStep:function(t,e,i,n,o){var s,r,a,h=0;for(r=n+1;r<=o-1;++r)a=this._sqClosestPointOnSegment(t[r],t[n],t[o],!0),a>h&&(s=r,h=a);h>i&&(e[s]=1,this._simplifyDPStep(t,e,i,n,s),this._simplifyDPStep(t,e,i,s,o))},_sqClosestPointOnSegment:function(t,e,i,n){var s,r=e.x,a=e.y,h=i.x-r,l=i.y-a,u=h*h+l*l;return u>0&&(s=((t.x-r)*h+(t.y-a)*l)/u,s>1?(r=i.x,a=i.y):s>0&&(r+=h*s,a+=l*s)),h=t.x-r,l=t.y-a,n?h*h+l*l:new o.Point(r,a)},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},_getBitCode:function(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i},_getEdgeIntersection:function(t,e,i,n,s){var r,a,h=e.x-t.x,l=e.y-t.y,u=n.min,c=n.max;return 8&i?(r=t.x+h*(c.y-t.y)/l,a=c.y):4&i?(r=t.x+h*(u.y-t.y)/l,a=u.y):2&i?(r=c.x,a=t.y+l*(c.x-t.x)/h):1&i&&(r=u.x,a=t.y+l*(u.x-t.x)/h),new o.Point(r,a,s)}},o.Polyline=o.Path.extend({options:{smoothFactor:1,noClip:!1},addLatLng:function(t,e){return e=e||this._defaultShape(),t=o.latLng(t),e.push(t),this._bounds.extend(t),this.redraw()},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,i,n,s,r,a,h,l=this._parts;for(e=0,n=0,s=this._rings.length;e<s;++e)for(h=this._rings[e],i=0,r=h.length;i<r-1;++i)a=o.LineUtil.clipSegment(h[i],h[i+1],t,i,!0),a&&(l[n]=l[n]||[],l[n].push(a[0]),a[1]===h[i+1]&&i!==r-2||(l[n].push(a[1]),n++))}},closestLayerPoint:function(t){for(var e,i,n=1/0,s=null,r=o.LineUtil._sqClosestPointOnSegment,a=0,h=this._parts.length;a<h;++a)for(var l=this._parts[a],u=1,c=l.length;u<c;++u){e=l[u-1],i=l[u];var _=r(t,e,i,!0);_<n&&(n=_,s=r(t,e,i))}return s&&(s.distance=Math.sqrt(n)),s},_convertLatLngs:function(t){for(var e=[],i=o.Polyline._flat(t),n=0,s=t.length;n<s;++n)i?(e[n]=o.latLng(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_defaultShape:function(){return o.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},initialize:function(t,e){o.setOptions(this,e),this._setLatLngs(t)},isEmpty:function(){return!this._latlngs.length},_project:function(){var t=new o.Bounds;this._rings.length=0,this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=new o.Point(5,5);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(e),t.max._add(e),this._pxBounds=t)},_rings:[],_projectLatlngs:function(t,e,i){var n,s,r=t[0]instanceof o.LatLng,a=t.length;if(r){for(s=[],n=0;n<a;++n)s[n]=this._map.latLngToLayerPoint(t[n]),i.extend(s[n]);e.push(s)}else for(n=0;n<a;++n)this._projectLatlngs(t[n],e,i)},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;++i)t[i]=o.LineUtil.simplify(t[i],e)},_update:function(){try{this._parts=this._rings,this._updatePath()}catch(t){console.error("L.Polyline._update Error : "+t)}},_updatePath:function(){this._renderer._updatePolyline_Stroke(this)},getBounds:function(){return this._bounds},getCenter:function(){var t,e,i,n,o,s,r,a=this._rings[0],h=a.length;if(!h)return null;for(t=0,e=0;t<h-1;++t)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,n=0;t<h-1;++t)if(o=a[t],s=a[t+1],i=o.distanceTo(s),n+=i,n>e)return r=(n-e)/i,this._map.layerPointToLatLng([s.x-r*(s.x-o.x),s.y-r*(s.y-o.y)])},_setLatLngs:function(t){this._bounds=new o.LatLngBounds,this._latlngs=this._convertLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()}}),o.polyline=function(t,e){return new o.Polyline(t,e)},o.Polyline._flat=function(t){return!o.Util.isArray(t[0])||"object"!=typeof t[0][0]&&"undefined"!=typeof t[0][0]},o.PolylineDash=o.Polyline.extend({_updatePath:function(){this._renderer._updatePolylineDash(this)}}),o.polylineDash=function(t,e){return new o.PolylineDash(t,e)},o.PolyUtil={},o.PolyUtil.clipPolygon=function(t,e,i){var n,s,r,a,h,l,u,c,_,d=[1,4,2,8],p=o.LineUtil;for(s=0,u=t.length;s<u;++s)t[s]._code=p._getBitCode(t[s],e);for(a=0;a<4;++a){for(c=d[a],n=[],s=0,u=t.length,r=u-1;s<u;r=s++)h=t[s],l=t[r],h._code&c?l._code&c||(_=p._getEdgeIntersection(l,h,c,e,i),_._code=p._getBitCode(_,e),n.push(_)):(l._code&c&&(_=p._getEdgeIntersection(l,h,c,e,i),_._code=p._getBitCode(_,e),n.push(_)),n.push(h));t=n}return t},o.Polygon=o.Polyline.extend({options:{fill:!0},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new o.Point(e,e);if(t=new o.Bounds(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var n,s=0,r=this._rings.length;s<r;++s)n=o.PolyUtil.clipPolygon(this._rings[s],t,!0),n.length&&this._parts.push(n)}},_convertLatLngs:function(t){var e=o.Polyline.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof o.LatLng&&e[0].equals(e[i-1])&&e.pop(),e},_defaultShape:function(){return o.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},_updatePath:function(){this._renderer._updatePolygon(this,!0)},getCenter:function(){var t,e,i,n,o,s,r,a,h,l=this._rings[0],u=l.length;if(!u)return null;for(s=r=a=0,t=0,e=u-1;t<u;e=t++)i=l[t],n=l[e],o=i.y*n.x-n.y*i.x,r+=(i.x+n.x)*o,a+=(i.y+n.y)*o,s+=3*o;return h=0===s?l[0]:[r/s,a/s],this._map.layerPointToLatLng(h)},_setLatLngs:function(t){o.Polyline.prototype._setLatLngs.call(this,t),o.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])}}),o.polygon=function(t,e){return new o.Polygon(t,e)},o.PolygonDash=o.Polygon.extend({_updatePath:function(){this._renderer._updatePolygonDash(this,!0)}}),o.polygonDash=function(t,e){return new o.PolygonDash(t,e)},o.Rectangle=o.Polygon.extend({_boundsToLatLngs:function(t){return t=o.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]},initialize:function(t,e){o.PolygonDash.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))}}),o.rectangle=function(t,e){return new o.Rectangle(t,e)},o.RectangleDash=o.PolygonDash.extend({_boundsToLatLngs:function(t,e){return latLngBounds=o.latLngBounds(t,e),[latLngBounds.getSouthWest(),latLngBounds.getNorthWest(),latLngBounds.getNorthEast(),latLngBounds.getSouthEast()]},initialize:function(t,e){o.PolygonDash.prototype.initialize.call(this,this._boundsToLatLngs(t[0],t[1]),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))}}),o.rectangleDash=function(t,e){return new o.RectangleDash(t,e)},o.CircleMarker=o.Path.extend({options:{fill:!0,radius:5},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},initialize:function(t,e){o.setOptions(this,e),this._latlng=o.latLng(t),this._radius=this.options.radius},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_update:function(){this._updatePath()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new o.Bounds(this._point.subtract(n),this._point.add(n))},_updatePath:function(){this._renderer._updateCircleMarker(this)},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new o.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:function(t){var e=t&&t.radius||this._radius;return o.Path.prototype.setStyle.call(this,t),this.setRadius(e),this},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getRadius:function(){return this._radius},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()}}),o.circleMarker=function(t,e){return new o.CircleMarker(t,e)},o.CircleMarkerDash=o.CircleMarker.extend({_updatePath:function(){this._renderer._updateCircleMarkerDash(this)}}),o.circleMarkerDash=function(t,e){return new o.CircleMarkerDash(t,e)},o.Circle=o.CircleMarker.extend({MathPI180:Math.PI/180,initialize:function(t,e,i){if("number"==typeof e&&(e=o.extend({},i,{radius:e})),o.setOptions(this,e),this._latlng=o.latLng(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===o.CRS.Earth.distance){var s=this.MathPI180,r=this._mRadius/o.CRS.Earth.R/s,a=i.project([e+r,t]),h=i.project([e-r,t]),l=a.add(h).divideBy(2),u=i.unproject(l).lat,c=Math.acos((Math.cos(r*s)-Math.sin(e*s)*Math.sin(u*s))/(Math.cos(e*s)*Math.cos(u*s)))/s;(isNaN(c)||0===c)&&(c=r/Math.cos(this.MathPI180*e)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(c)?0:Math.max(Math.round(l.x-i.project([u,t-c]).x),1),this._radiusY=Math.max(Math.round(l.y-a.y),1)}else{var _=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(_).x}this._updateBounds()},_updatePath:function(){this._renderer._updateCircle(this)},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new o.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:o.Path.prototype.setStyle,getRadius:function(){return this._mRadius},setRadius:function(t){return this._mRadius=t,this.redraw()}}),o.circle=function(t,e,i){return new o.Circle(t,e,i)},o.CircleDash=o.Circle.extend({_updatePath:function(){this._renderer._updateCircleDash(this)}}),o.circleDash=function(t,e,i){return new o.CircleDash(t,e,i)},o.SVG=o.Renderer.extend({getEvents:function(){var t=o.Renderer.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=o.SVG.create("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=o.SVG.create("g"),this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){o.Renderer.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),o.DomUtil.setPosition(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" "))}},_initPath:function(t){var e=t._path=o.SVG.create("path");t.options.className&&o.DomUtil.addClass(e,t.options.className),t.options.interactive&&o.DomUtil.addClass(e,"leaflet-interactive"),this._updateStyle(t)},_addPath:function(t){this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){o.DomUtil.remove(t._path),t.removeInteractiveTarget(t._path)},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,o.SVG.pointsToPath(t._parts,e))},_updateCircle:function(t){var e=t._point,i=t._radius,n=t._radiusY||i,o="a"+i+","+n+" 0 1,0 ",s=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+o+2*i+",0 "+o+2*-i+",0 ";this._setPath(t,s)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){o.DomUtil.toFront(t._path)},_bringToBack:function(t){o.DomUtil.toBack(t._path)}}),o.extend(o.SVG,{create:function(t){return e.createElementNS("http://www.w3.org/2000/svg",t)},pointsToPath:function(t,e){var i,n,s,r,a,h,l="";for(i=0,s=t.length;i<s;++i){for(a=t[i],l+="M"+a[0].x+" "+a[0].y,n=1,r=a.length;n<r;++n)h=a[n],l+="L"+h.x+" "+h.y;l+=e?o.Browser.svg?"z":"x":""}return l||"M0 0"}}),o.Browser.svg=!(!e.createElementNS||!o.SVG.create("svg").createSVGRect),o.svg=function(t){return o.Browser.svg||o.Browser.vml?new o.SVG(t):null},o.Browser.vml=!o.Browser.svg&&function(){try{var t=e.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&"object"==typeof i.adj}catch(n){return!1}}(),o.SVG.include(o.Browser.vml?{_initContainer:function(){this._container=o.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||o.Renderer.prototype._update.call(this)},_initPath:function(t){var e=t._container=o.SVG.create("shape");o.DomUtil.addClass(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=o.SVG.create("path"),e.appendChild(t._path),this._updateStyle(t)},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;o.DomUtil.remove(e),t.removeInteractiveTarget(e)},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,s=t._container;s.stroked=!!n.stroke,s.filled=!!n.fill,n.stroke?(e||(e=t._stroke=o.SVG.create("stroke")),s.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=o.Util.isArray(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(s.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=o.SVG.create("fill")),s.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(s.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){o.DomUtil.toFront(t._container)},_bringToBack:function(t){o.DomUtil.toBack(t._container)}}:{}),o.Browser.vml&&(o.SVG.create=function(){try{return e.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return e.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),o.Canvas=o.Renderer.extend({MathPI2:2*Math.PI,_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_handleMouseOut:function(t,e){var i=this._hoveredLayer;!i||"mouseout"!==t.type&&i._containsPoint(e)||(o.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){var i,n;for(i in this._drawnLayers)n=this._drawnLayers[i],n.options.interactive&&n._containsPoint(e)&&(o.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n);this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},onAdd:function(){o.Renderer.prototype.onAdd.call(this),this._layers=this._layers||{},this._draw()},_onClick:function(t){var e,i=this._map.mouseEventToLayerPoint(t),n=[];for(var s in this._layers)e=this._layers[s],e.options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(o.DomEvent._fakeStop(t),n.push(e));n.length&&this._fireEvent(n,t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseOut(t,e),this._handleMouseHover(t,e)}},_addPath:o.Util.falseFn,_bringToBack:o.Util.falseFn,_bringToFront:o.Util.falseFn,_draw:function(t){this._clear=t,b=this._redrawBounds,this._ctx.save(),this._ctx.beginPath();try{}catch(e){console.error("L.Canvas._draw Error : "+e)}var i;for(var n in this._layers)i=this._layers[n],(!b||i._pxBounds&&i._pxBounds.intersects(b))&&i._updatePath(),t&&i._removed&&(delete i._removed,delete this._layers[n]);this._ctx.restore()},_fillStroke:function(t,e){var i=this._clear,n=e.options;t.globalCompositeOperation=i?"destination-out":"source-over",n.fill&&(t.globalAlpha=i?1:n.fillOpacity,t.fillStyle=n.fillColor,t.fill(n.fillRule||"evenodd")),n.stroke&&(t.globalAlpha=i?1:n.opacity,e._prevWeight=t.lineWidth=i?e._prevWeight+1:n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_fillStroke_Fill:function(t,e){d=e.options,t.globalAlpha=d.fillOpacity,t.fillStyle=d.fillColor,t.fill(d.fillRule)},_fillStroke_Stroke:function(t,e){var i=this._clear,n=e.options;t.globalCompositeOperation=i?"destination-out":"source-over",t.globalAlpha=i?1:n.opacity,e._prevWeight=t.lineWidth=i?e._prevWeight+1:n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke()},_initContainer:function(){var t=this._container=e.createElement("canvas");o.DomEvent.on(t,"mousemove",o.Util.throttle(this._onMouseMove,32,this),this).on(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_initPath:function(t){this._updateDashArray(t),this._layers[o.stamp(t)]=t},_redraw:function(){this._redrawRequest=null,this._draw(!0),this._draw(),this._redrawBounds=null},_removePath:function(t){t._removed=!0,this._requestRedraw(t)},_requestRedraw:function(t){try{var e=t.options.weight+1;this._redrawBounds=this._redrawBounds||new o.Bounds,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e])),this._redrawRequest=this._redrawRequest||o.Util.requestAnimFrame(this._redraw,this)}catch(i){console.error("L.Canvas._requestRedraw Error : "+i)}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},o.Renderer.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=o.Browser.retina?2:1;o.DomUtil.setPosition(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",o.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y)}},_updateCircle:function(t){var e=t._point,i=this._ctx,n=t._radius,o=t._radiusY/n;this._drawnLayers[t._leaflet_id]=t,1!==o&&(i.save(),i.scale(1,o)),i.beginPath(),i.arc(e.x,e.y/o,n,0,this.MathPI2,!1),1!==o&&i.restore(),this._fillStroke(i,t)},_updateCircleDash:function(t){var e=t._point,i=this._ctx,n=t._radius,o=t._radiusY/n;this._drawnLayers[t._leaflet_id]=t,1!==o&&(i.save(),i.scale(1,o)),i.beginPath(),i.setLineDash(t.options._dashArray),i.arc(e.x,e.y/o,n,0,this.MathPI2,!1),1!==o&&i.restore(),this._fillStroke(i,t)},_updateCircleMarker:function(t){var e=t._point,i=this._ctx,n=t._radius;this._drawnLayers[t._leaflet_id]=t,i.beginPath(),i.arc(e.x,e.y/1,n,0,this.MathPI2,!1),this._fillStroke(i,t)},_updateCircleMarkerDash:function(t){var e=t._point,i=this._ctx,n=t._radius;this._drawnLayers[t._leaflet_id]=t,i.beginPath(),i.setLineDash(t.options._dashArray),i.arc(e.x,e.y/1,n,0,this.MathPI2,!1),this._fillStroke(i,t)},_updateDashArray:function(t){if(t.options.dashArray){var e,i=layer.options.dashArray.split(","),n=[];for(e=0;e<i.length;e++)n.push(Number(i[e]));t.options._dashArray=n}},_updatePath:function(t){this._redrawBounds=t._pxBounds,this._draw(!0),t._project(),t._update(),this._draw(),this._redrawBounds=null},_updatePoly:function(t,e){var i,n,o,s,r=t._parts,a=r.length,h=this._ctx;this._drawnLayers[t._leaflet_id]=t,h.beginPath();var l;for(i=0;i<a;++i){for(l=r[i],h.moveTo(l[0].x,l[0].y),n=1,o=r[i].length;n<o;++n)s=l[n],h.lineTo(s.x,s.y);e&&h.closePath()}this._fillStroke(h,t)},_updatePolygon:function(t){var e,i,n,o,s=t._parts,r=s.length,a=this._ctx;this._drawnLayers[t._leaflet_id]=t,a.beginPath();var h;for(e=0;e<r;++e){for(h=s[e],a.moveTo(h[0].x,h[0].y),i=1,n=s[e].length;i<n;++i)o=h[i],a.lineTo(o.x,o.y);a.closePath()}this._fillStroke(a,t)},_updatePolygonDash:function(t){var e,i,n,o,s=t._parts,r=s.length,a=this._ctx;this._drawnLayers[t._leaflet_id]=t,a.beginPath(),a.setLineDash(t.options._dashArray);var h;for(e=0;e<r;++e){for(h=s[e],a.moveTo(h[0].x,h[0].y),i=1,n=s[e].length;i<n;++i)o=h[i],a.lineTo(o.x,o.y);a.closePath()}this._fillStroke(a,t)},_updatePolyline:function(t){var e,i,n,o,s=t._parts,r=s.length,a=this._ctx;this._drawnLayers[t._leaflet_id]=t,a.beginPath();var h;for(e=0;e<r;++e)for(h=s[e],a.moveTo(h[0].x,h[0].y),i=1,n=s[e].length;i<n;++i)o=h[i],a.lineTo(o.x,o.y);this._fillStroke(a,t)},_updatePolyline_Stroke:function(t){var e,i,n,o,s=t._parts,r=s.length,a=this._ctx;this._drawnLayers[t._leaflet_id]=t,a.beginPath();var h;for(e=0;e<r;++e)for(h=s[e],a.moveTo(h[0].x,h[0].y),i=1,n=s[e].length;i<n;++i)o=h[i],a.lineTo(o.x,o.y);this._fillStroke_Stroke(a,t)},_updatePolylineDash:function(t){var e,i,n,o,s=t._parts,r=s.length,a=this._ctx;this._drawnLayers[t._leaflet_id]=t,a.beginPath(),a.setLineDash(t.options._dashArray);var h;for(e=0;e<r;++e)for(h=s[e],f0(h[0].x,h[0].y),i=1,n=s[e].length;i<n;++i)o=h[i],a.lineTo(o.x,o.y);this._fillStroke(a,t)},_updatePolylineDash_Stroke:function(t){var e,i,n,o,s=t._parts,r=s.length,a=this._ctx;this._drawnLayers[t._leaflet_id]=t,a.beginPath(),a.setLineDash(t.options._dashArray);var h;for(e=0;e<r;++e)for(h=s[e],f0(h[0].x,h[0].y),i=1,n=s[e].length;i<n;++i)o=h[i],a.lineTo(o.x,o.y);this._fillStroke_Stroke(a,t)},_updateStyle:function(t){this._requestRedraw(t)}}),o.Browser.canvas=function(){return!!e.createElement("canvas").getContext}(),o.canvas=function(t){return o.Browser.canvas?new o.Canvas(t):null},o.CircleMarker.prototype._containsPoint=function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()},o.Polygon.prototype._containsPoint=function(t){var e,i,n,s,r,a,h,l,u=!1;if(!this._pxBounds.contains(t))return!1;for(s=0,h=this._parts.length;s<h;s++)for(e=this._parts[s],r=0,l=e.length,a=l-1;r<l;a=r++)i=e[r],n=e[a],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(u=!u);return u||o.Polyline.prototype._containsPoint.call(this,t,!0)},o.Polyline.prototype._containsPoint=function(t,e){var i,n,s,r,a,h,l=this._clickTolerance();if(!this._pxBounds.contains(t))return!1;for(i=0,r=this._parts.length;i<r;++i)for(h=this._parts[i],n=0,a=h.length,s=a-1;n<a;s=n++)if((e||0!==n)&&o.LineUtil.pointToSegmentDistance(t,h[s],h[n])<=l)return!0;return!1},o.Canvas_Fast=o.Canvas.extend({_draw:function(t){this._clear=t},_fillStroke:function(t,e){d=e.options,d.fill&&(t.globalAlpha=d.fillOpacity,t.fillStyle=d.fillColor,t.fill(d.fillRule)),d.stroke&&(t.globalAlpha=d.opacity,e._prevWeight=t.lineWidth=d.weight,t.strokeStyle=d.color,t.lineCap=d.lineCap,t.lineJoin=d.lineJoin,t.stroke())},_fillStroke_Fill:function(t,e){d=e.options,t.globalAlpha=d.fillOpacity,t.fillStyle=d.fillColor,t.fill(d.fillRule)},_fillStroke_Stroke:function(t,e){d=e.options,t.globalAlpha=d.opacity,e._prevWeight=t.lineWidth=d.weight,t.strokeStyle=d.color,t.lineCap=d.lineCap,t.lineJoin=d.lineJoin,t.stroke()},_update:function(){this._drawnLayers={},o.Renderer.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=1;o.DomUtil.setPosition(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",this._ctx.translate(-t.min.x,-t.min.y)},_updateDashArray:function(t){},_updatePolygonDash:function(t){var e,i,n,o,s=t._parts,r=s.length,a=this._ctx;this._drawnLayers[t._leaflet_id]=t,a.beginPath(),a.setLineDash(t.options._dashArray);var h;for(e=0;e<r;++e){for(h=s[e],a.moveTo(h[0].x,h[0].y),i=1,n=s[e].length;i<n;++i)o=h[i],a.lineTo(o.x,o.y);a.closePath()}this._fillStroke(a,t)},_updatePolyline:function(t){var e,i,n,o,s=t._parts,r=s.length,a=this._ctx;this._drawnLayers[t._leaflet_id]=t,a.beginPath();var h;for(e=0;e<r;++e)for(h=s[e],a.moveTo(h[0].x,h[0].y),i=1,n=s[e].length;i<n;++i)o=h[i],a.lineTo(o.x,o.y);this._fillStroke(a,t)},_updatePolylineDash:function(t){var e,i,n,o,s=t._parts,r=s.length,a=this._ctx;this._drawnLayers[t._leaflet_id]=t,a.beginPath(),a.setLineDash(t.options._dashArray);var h;for(e=0;e<r;++e)for(h=s[e],f0(h[0].x,h[0].y),i=1,n=s[e].length;i<n;++i)o=h[i],a.lineTo(o.x,o.y);this._fillStroke(a,t)},_updatePolylineDash_Stroke:function(t){var e,i,n,o,s=t._parts,r=s.length,a=this._ctx;this._drawnLayers[t._leaflet_id]=t,a.beginPath(),a.setLineDash(t.options._dashArray);var h;for(e=0;e<r;++e)for(h=s[e],f0(h[0].x,h[0].y),i=1,n=s[e].length;i<n;++i)o=h[i],a.lineTo(o.x,o.y);this._fillStroke_Stroke(a,t)},_updatePolygon:function(t){var e,i,n,o=t._parts,s=o.length,r=this._ctx;this._drawnLayers[t._leaflet_id]=t,r.beginPath();var a;for(e=0;e<s;++e){for(a=o[e],r.moveTo(a[0].x,a[0].y),i=1,n=o[e].length;i<n;++i)r.lineTo(a[i].x,a[i].y);r.closePath()}this._fillStroke(r,t)},_updatePolyline_Stroke:function(t){var e,i,n,o=t._parts,s=o.length,r=this._ctx;this._drawnLayers[t._leaflet_id]=t,r.beginPath();var a;for(e=0;e<s;++e)for(a=o[e],r.moveTo(a[0].x,a[0].y),i=1,n=o[e].length;i<n;++i)r.lineTo(a[i].x,a[i].y);this._fillStroke_Stroke(r,t)},_updateStyle:function(t){this._requestRedraw(t)}}),o.canvas_Fast=function(t){return o.Browser.canvas?new o.Canvas_Fast(t):null},o.GeoJSON=o.FeatureGroup.extend({initialize:function(t,e){o.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,s=o.Util.isArray(t)?t:t.features;if(s){for(e=0,i=s.length;e<i;e++)n=s[e],(n.geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var a=o.GeoJSON.geometryToLayer(t,r);return a?(a.feature=o.GeoJSON.asFeature(t),a.defaultOptions=a.options,this.resetStyle(a),r.onEachFeature&&r.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=o.Util.extend({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),o.extend(o.GeoJSON,{geometryToLayer:function(t,e){var i,n,s,r,a="Feature"===t.type?t.geometry:t,h=a?a.coordinates:null,l=[],u=e&&e.pointToLayer,c=e&&e.coordsToLatLng||this.coordsToLatLng;if(!h&&!a)return null;switch(a.type){case"Point":return i=c(h),u?u(t,i):new o.Marker(i);case"MultiPoint":for(s=0,r=h.length;s<r;s++)i=c(h[s]),l.push(u?u(t,i):new o.Marker(i));return new o.FeatureGroup(l);case"LineString":case"MultiLineString":return n=this.coordsToLatLngs(h,"LineString"===a.type?0:1,c),new o.Polyline(n,e);case"Polygon":case"MultiPolygon":return n=this.coordsToLatLngs(h,"Polygon"===a.type?1:2,c),new o.Polygon(n,e);case"GeometryCollection":for(s=0,r=a.geometries.length;s<r;s++){var _=this.geometryToLayer({geometry:a.geometries[s],type:"Feature",properties:t.properties},e);_&&l.push(_)}return new o.FeatureGroup(l);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new o.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,i){for(var n,o=[],s=0,r=t.length;s<r;s++)n=e?this.coordsToLatLngs(t[s],e-1,i):(i||this.coordsToLatLng)(t[s]),o.push(n);return o},latLngToCoords:function(t){return t.alt!==i?[t.lng,t.lat,t.alt]:[t.lng,t.lat]},latLngsToCoords:function(t,e,i){for(var n=[],s=0,r=t.length;s<r;s++)n.push(e?o.GeoJSON.latLngsToCoords(t[s],e-1,i):o.GeoJSON.latLngToCoords(t[s]));return!e&&i&&n.push(n[0]),n},getFeature:function(t,e){return t.feature?o.extend({},t.feature,{geometry:e}):o.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var r={toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"Point",coordinates:o.GeoJSON.latLngToCoords(this.getLatLng())})}};o.Marker.include(r),o.Circle.include(r),o.CircleMarker.include(r),o.Polyline.prototype.toGeoJSON=function(){var t=!o.Polyline._flat(this._latlngs),e=o.GeoJSON.latLngsToCoords(this._latlngs,t?1:0);return o.GeoJSON.getFeature(this,{type:(t?"Multi":"")+"LineString",coordinates:e})},o.Polygon.prototype.toGeoJSON=function(){var t=!o.Polyline._flat(this._latlngs),e=t&&!o.Polyline._flat(this._latlngs[0]),i=o.GeoJSON.latLngsToCoords(this._latlngs,e?2:t?1:0,!0);return t||(i=[i]),o.GeoJSON.getFeature(this,{type:(e?"Multi":"")+"Polygon",coordinates:i})},o.LayerGroup.include({toMultiPoint:function(){var t=[];return this.eachLayer(function(e){t.push(e.toGeoJSON().geometry.coordinates)}),o.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint();var e="GeometryCollection"===t,i=[];return this.eachLayer(function(t){if(t.toGeoJSON){var n=t.toGeoJSON();i.push(e?n.geometry:o.GeoJSON.asFeature(n))}}),e?o.GeoJSON.getFeature(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}}),o.geoJSON=function(t,e){return new o.GeoJSON(t,e)},o.geoJson=o.geoJSON;var a="_leaflet_events";o.DomEvent={on:function(t,e,i,n){if("object"==typeof e)for(var s in e)this._on(t,s,e[s],i);else{e=o.Util.splitWords(e);for(var r=0,a=e.length;r<a;r++)this._on(t,e[r],i,n)}return this},off:function(t,e,i,n){if("object"==typeof e)for(var s in e)this._off(t,s,e[s],i);else{e=o.Util.splitWords(e);for(var r=0,a=e.length;r<a;r++)this._off(t,e[r],i,n)}return this},_on:function(e,i,n,s){var r=i+o.stamp(n)+(s?"_"+o.stamp(s):"");if(e[a]&&e[a][r])return this;var h=function(i){return n.call(s||e,i||t.event)},l=h;return o.Browser.pointer&&0===i.indexOf("touch")?this.addPointerListener(e,i,h,r):o.Browser.touch&&"dblclick"===i&&this.addDoubleTapListener?this.addDoubleTapListener(e,h,r):"addEventListener"in e?"mousewheel"===i?e.addEventListener("onwheel"in e?"wheel":"mousewheel",h,!1):"mouseenter"===i||"mouseleave"===i?(h=function(i){i=i||t.event,o.DomEvent._isExternalTarget(e,i)&&l(i)},e.addEventListener("mouseenter"===i?"mouseover":"mouseout",h,!1)):("click"===i&&o.Browser.android&&(h=function(t){return o.DomEvent._filterClick(t,l)}),e.addEventListener(i,h,!1)):"attachEvent"in e&&e.attachEvent("on"+i,h),e[a]=e[a]||{},e[a][r]=h,this},_off:function(t,e,i,n){var s=e+o.stamp(i)+(n?"_"+o.stamp(n):""),r=t[a]&&t[a][s];return r?(o.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,s):o.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,s):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r),t[a][s]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,o.DomEvent._skipped(t),this},disableScrollPropagation:function(t){return o.DomEvent.on(t,"mousewheel",o.DomEvent.stopPropagation)},disableClickPropagation:function(t){var e=o.DomEvent.stopPropagation;return o.DomEvent.on(t,o.Draggable.START.join(" "),e),o.DomEvent.on(t,{click:o.DomEvent._fakeStop,dblclick:e})},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return o.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new o.Point(t.clientX,t.clientY);var i=e.getBoundingClientRect();return new o.Point(t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop)},_wheelPxFactor:o.Browser.win&&o.Browser.chrome?2:o.Browser.gecko?t.devicePixelRatio:1,getWheelDelta:function(t){return t.deltaY&&0===t.deltaMode?-t.deltaY/o.DomEvent._wheelPxFactor:t.deltaY&&1===t.deltaMode?18*-t.deltaY:t.deltaY&&2===t.deltaMode?52*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?18*-t.detail:t.detail?t.detail/-32765*52:0},_skipEvents:{},_fakeStop:function(t){o.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_isExternalTarget:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(n){return!1}return i!==t},_filterClick:function(t,e){var i=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,n=o.DomEvent._lastClick&&i-o.DomEvent._lastClick;return n&&n>100&&n<500||t.target._simulatedClick&&!t._simulated?void o.DomEvent.stop(t):(o.DomEvent._lastClick=i,void e(t))}},o.DomEvent.addListener=o.DomEvent.on,o.DomEvent.removeListener=o.DomEvent.off,o.Draggable=o.Evented.extend({options:{clickTolerance:3},statics:{START:o.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e,i){this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(o.DomEvent.on(this._dragStartTarget,o.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(o.DomEvent.off(this._dragStartTarget,o.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&(this._moved=!1,!o.DomUtil.hasClass(this._element,"leaflet-zoom-anim")&&!(o.Draggable._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&this._enabled&&(o.Draggable._dragging=!0,this._preventOutline&&o.DomUtil.preventOutline(this._element),o.DomUtil.disableImageDrag(),o.DomUtil.disableTextSelection(),!this._moving))){this.fire("down");var i=t.touches?t.touches[0]:t;this._startPoint=new o.Point(i.clientX,i.clientY),o.DomEvent.on(e,o.Draggable.MOVE[t.type],this._onMove,this).on(e,o.Draggable.END[t.type],this._onUp,this)}},_onMove:function(i){if(!i._simulated){if(i.touches&&i.touches.length>1)return void(this._moved=!0);var n=i.touches&&1===i.touches.length?i.touches[0]:i,s=new o.Point(n.clientX,n.clientY),r=s.subtract(this._startPoint);(r.x||r.y)&&(Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(o.DomEvent.preventDefault(i),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=o.DomUtil.getPosition(this._element).subtract(r),o.DomUtil.addClass(e.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,t.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),o.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,o.Util.cancelAnimFrame(this._animRequest),this._lastEvent=i,this._animRequest=o.Util.requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),o.DomUtil.setPosition(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){if(!t._simulated){o.DomUtil.removeClass(e.body,"leaflet-dragging"),this._lastTarget&&(o.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var i in o.Draggable.MOVE)o.DomEvent.off(e,o.Draggable.MOVE[i],this._onMove,this).off(e,o.Draggable.END[i],this._onUp,this);o.DomUtil.enableImageDrag(),o.DomUtil.enableTextSelection(),this._moved&&this._moving&&(o.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,o.Draggable._dragging=!1}}}),o.Handler=o.Class.extend({enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},enabled:function(){return!!this._enabled},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},initialize:function(t){this._map=t}}),o.Map.mergeOptions({dragging:!0,inertia:!o.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),o.Map.Drag=o.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new o.Draggable(t._mapPane,t._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}o.DomUtil.addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){o.DomUtil.removeClass(this._map._container,"leaflet-grab"),o.DomUtil.removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var t=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=o.latLngBounds(this._map.options.maxBounds);this._offsetLimit=o.bounds(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,s=(n+e+i)%t-e-i,r=Math.abs(o+i)<Math.abs(s+i)?o:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=r},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{var s=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,a=i.easeLinearity,h=s.multiplyBy(a/r),l=h.distanceTo([0,0]),u=Math.min(i.inertiaMaxSpeed,l),c=h.multiplyBy(u/l),_=u/(i.inertiaDeceleration*a),d=c.multiplyBy(-_/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),o.Util.requestAnimFrame(function(){e.panBy(d,{duration:_,easeLinearity:a,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}}),o.Map.addInitHook("addHandler","dragging",o.Map.Drag),o.Map.mergeOptions({doubleClickZoom:!0}),o.Map.DoubleClickZoom=o.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,o=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}}),o.Map.addInitHook("addHandler","doubleClickZoom",o.Map.DoubleClickZoom),o.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:50}),o.Map.ScrollWheelZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){o.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=o.DomEvent.getWheelDelta(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o.bind(this._performZoom,this),n),o.DomEvent.stop(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,s=i?Math.ceil(o/i)*i:o,r=t._limitZoom(e+(this._delta>0?s:-s))-e;this._delta=0,this._startTime=null,r&&("center"===t.options.scrollWheelZoom?t.setZoom(e+r):t.setZoomAround(this._lastMousePos,e+r))}}),o.Map.addInitHook("addHandler","scrollWheelZoom",o.Map.ScrollWheelZoom),o.extend(o.DomEvent,{_touchstart:o.Browser.msPointer?"MSPointerDown":o.Browser.pointer?"pointerdown":"touchstart",_touchend:o.Browser.msPointer?"MSPointerUp":o.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,i){function n(t){var e;if(e=o.Browser.pointer?o.DomEvent._pointersCount:t.touches.length,!(e>1)){var i=Date.now(),n=i-(r||i);a=t.touches?t.touches[0]:t,h=n>0&&n<=l,r=i}}function s(){if(h&&!a.cancelBubble){if(o.Browser.pointer){var t,i,n={};for(i in a)t=a[i],n[i]=t&&t.bind?t.bind(a):t;a=n}a.type="dblclick",e(a),r=null}}var r,a,h=!1,l=250,u="_leaflet_",c=this._touchstart,_=this._touchend;return t[u+c+i]=n,t[u+_+i]=s,t[u+"dblclick"+i]=e,t.addEventListener(c,n,!1),t.addEventListener(_,s,!1),o.Browser.edge||t.addEventListener("dblclick",e,!1),this},removeDoubleTapListener:function(t,e){var i="_leaflet_",n=t[i+this._touchstart+e],s=t[i+this._touchend+e],r=t[i+"dblclick"+e];return t.removeEventListener(this._touchstart,n,!1),t.removeEventListener(this._touchend,s,!1),o.Browser.edge||t.removeEventListener("dblclick",r,!1),this}}),o.extend(o.DomEvent,{POINTER_DOWN:o.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:o.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:o.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:o.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(t,e,i,n){return"touchstart"===e?this._addPointerStart(t,i,n):"touchmove"===e?this._addPointerMove(t,i,n):"touchend"===e&&this._addPointerEnd(t,i,n),this},removePointerListener:function(t,e,i){var n=t["_leaflet_"+e+i];return"touchstart"===e?t.removeEventListener(this.POINTER_DOWN,n,!1):"touchmove"===e?t.removeEventListener(this.POINTER_MOVE,n,!1):"touchend"===e&&(t.removeEventListener(this.POINTER_UP,n,!1),t.removeEventListener(this.POINTER_CANCEL,n,!1)),this},_addPointerStart:function(t,i,n){var s=o.bind(function(t){if("mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(this.TAG_WHITE_LIST.indexOf(t.target.tagName)<0))return;o.DomEvent.preventDefault(t)}this._handlePointer(t,i)},this);if(t["_leaflet_touchstart"+n]=s,t.addEventListener(this.POINTER_DOWN,s,!1),!this._pointerDocListener){var r=o.bind(this._globalPointerUp,this);e.documentElement.addEventListener(this.POINTER_DOWN,o.bind(this._globalPointerDown,this),!0),e.documentElement.addEventListener(this.POINTER_MOVE,o.bind(this._globalPointerMove,this),!0),e.documentElement.addEventListener(this.POINTER_UP,r,!0),e.documentElement.addEventListener(this.POINTER_CANCEL,r,!0),this._pointerDocListener=!0}},_globalPointerDown:function(t){this._pointers[t.pointerId]=t,this._pointersCount++},_globalPointerMove:function(t){this._pointers[t.pointerId]&&(this._pointers[t.pointerId]=t)},_globalPointerUp:function(t){delete this._pointers[t.pointerId],this._pointersCount--},_handlePointer:function(t,e){t.touches=[];for(var i in this._pointers)t.touches.push(this._pointers[i]);t.changedTouches=[t],e(t)},_addPointerMove:function(t,e,i){var n=o.bind(function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&this._handlePointer(t,e)},this);t["_leaflet_touchmove"+i]=n,t.addEventListener(this.POINTER_MOVE,n,!1)},_addPointerEnd:function(t,e,i){var n=o.bind(function(t){this._handlePointer(t,e)},this);t["_leaflet_touchend"+i]=n,t.addEventListener(this.POINTER_UP,n,!1),t.addEventListener(this.POINTER_CANCEL,n,!1)}}),o.Map.mergeOptions({touchZoom:o.Browser.touch&&!o.Browser.android23,bounceAtZoomLimits:!0}),o.Map.TouchZoom=o.Handler.extend({addHooks:function(){o.DomUtil.addClass(this._map._container,"leaflet-touch-zoom"),o.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){o.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom"),o.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(t.touches&&2===t.touches.length&&!i._animatingZoom&&!this._zooming){var n=i.mouseEventToContainerPoint(t.touches[0]),s=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),"center"!==i.options.touchZoom&&(this._pinchStartLatLng=i.containerPointToLatLng(n.add(s)._divideBy(2))),this._startDist=n.distanceTo(s),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),o.DomEvent.on(e,"touchmove",this._onTouchMove,this).on(e,"touchend",this._onTouchEnd,this),o.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]),s=i.distanceTo(n)/this._startDist;if(this._zoom=e.getScaleZoom(s,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&s<1||this._zoom>e.getMaxZoom()&&s>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===s)return}else{var r=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(1===s&&0===r.x&&0===r.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),o.Util.cancelAnimFrame(this._animRequest);var a=o.bind(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=o.Util.requestAnimFrame(a,this,!0),o.DomEvent.preventDefault(t)}},_onTouchEnd:function(){return this._moved&&this._zooming?(this._zooming=!1,o.Util.cancelAnimFrame(this._animRequest),o.DomEvent.off(e,"touchmove",this._onTouchMove).off(e,"touchend",this._onTouchEnd),void(this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.snapZoom):this._map._resetView(this._center,this._map._limitZoom(this._zoom)))):void(this._zooming=!1)}}),o.Map.addInitHook("addHandler","touchZoom",o.Map.TouchZoom),o.Map.mergeOptions({tap:!0,tapTolerance:15}),o.Map.Tap=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(o.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var i=t.touches[0],n=i.target;this._startPos=this._newPos=new o.Point(i.clientX,i.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&o.DomUtil.addClass(n,"leaflet-active"),this._holdTimeout=setTimeout(o.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",i))},this),1e3),this._simulateEvent("mousedown",i),o.DomEvent.on(e,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),o.DomEvent.off(e,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var i=t.changedTouches[0],n=i.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&o.DomUtil.removeClass(n,"leaflet-active"),this._simulateEvent("mouseup",i),this._isTapValid()&&this._simulateEvent("click",i)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new o.Point(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(i,n){var o=e.createEvent("MouseEvents");o._simulated=!0,n.target._simulatedClick=!0,o.initMouseEvent(i,!0,!0,t,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(o)}}),o.Browser.touch&&!o.Browser.pointer&&o.Map.addInitHook("addHandler","tap",o.Map.Tap),o.Map.mergeOptions({boxZoom:!0}),o.Map.BoxZoom=o.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){o.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){o.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(t){return!(!t.shiftKey||1!==t.which&&1!==t.button)&&(this._resetState(),o.DomUtil.disableTextSelection(),o.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(t),void o.DomEvent.on(e,{contextmenu:o.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=o.DomUtil.create("div","leaflet-zoom-box",this._container),o.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new o.Bounds(this._point,this._startPoint),i=e.getSize();o.DomUtil.setPosition(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(o.DomUtil.remove(this._box),o.DomUtil.removeClass(this._container,"leaflet-crosshair")),o.DomUtil.enableTextSelection(),o.DomUtil.enableImageDrag(),o.DomEvent.off(e,{contextmenu:o.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){setTimeout(o.bind(this._resetState,this),0);var e=new o.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),o.Map.addInitHook("addHandler","boxZoom",o.Map.BoxZoom),o.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80}),o.Map.Keyboard=o.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),o.DomEvent.on(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),o.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=e.body,n=e.documentElement,o=i.scrollTop||n.scrollTop,s=i.scrollLeft||n.scrollLeft;this._map._container.focus(),t.scrollTo(s,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;e<i;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;e<i;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;e<i;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;e<i;e++)n[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;e<i;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;e<i;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){o.DomEvent.on(e,"keydown",this._onKeyDown,this)},_removeHooks:function(){o.DomEvent.off(e,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;e=this._panKeys[i],t.shiftKey&&(e=o.point(e).multiplyBy(3)),n.panBy(e),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i)return;n.closePopup()}o.DomEvent.stop(t)}}}),o.Map.addInitHook("addHandler","keyboard",o.Map.Keyboard),o.Handler.MarkerDrag=o.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new o.Draggable(t,t,(!0))),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),o.DomUtil.addClass(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&o.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,i=e._shadow,n=o.DomUtil.getPosition(e._icon),s=e._map.layerPointToLatLng(n);i&&o.DomUtil.setPosition(i,n),e._latlng=s,t.latlng=s,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),o.Control=o.Class.extend({options:{position:"topright"},initialize:function(t){o.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return o.DomUtil.addClass(e,"leaflet-control"),i.indexOf("bottom")!==-1?n.insertBefore(e,n.firstChild):n.appendChild(e),this},remove:function(){return this._map?(o.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),o.control=function(t){return new o.Control(t)},o.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,s){var r=i+t+" "+i+s;e[t+s]=o.DomUtil.create("div",r,n)}var e=this._controlCorners={},i="leaflet-",n=this._controlContainer=o.DomUtil.create("div",i+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){o.DomUtil.remove(this._controlContainer)}}),o.Control.Zoom=o.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=o.DomUtil.create("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){this._disabled||this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){this._disabled||this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,s){var r=o.DomUtil.create("a",i,n);return r.innerHTML=t,r.href="#",r.title=e,o.DomEvent.on(r,"mousedown dblclick",o.DomEvent.stopPropagation).on(r,"click",o.DomEvent.stop).on(r,"click",s,this).on(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";o.DomUtil.removeClass(this._zoomInButton,e),o.DomUtil.removeClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&o.DomUtil.addClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&o.DomUtil.addClass(this._zoomInButton,e)}}),o.Map.mergeOptions({zoomControl:!0}),o.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new o.Control.Zoom,this.addControl(this.zoomControl))}),o.control.zoom=function(t){return new o.Control.Zoom(t)},o.Control.Attribution=o.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){o.setOptions(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=o.DomUtil.create("div","leaflet-control-attribution"),o.DomEvent&&o.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}}),o.Map.mergeOptions({attributionControl:!0}),o.Map.addInitHook(function(){this.options.attributionControl&&(new o.Control.Attribution).addTo(this)}),o.control.attribution=function(t){return new o.Control.Attribution(t)},o.Control.Scale=o.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=o.DomUtil.create("div",e),n=this.options;return this._addScales(n,e+"-line",i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=o.DomUtil.create("div",e,i)),t.imperial&&(this._iScale=o.DomUtil.create("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,n,o=3.2808399*t;o>5280?(e=o/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(o),this._updateScale(this._iScale,n+" ft",n/o))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),o.control.scale=function(t){return new o.Control.Scale(t)},o.Control.Layers=o.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1},initialize:function(t,e,i){o.setOptions(this,i),this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var n in t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){return this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this),this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(o.stamp(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){o.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(o.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):o.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return o.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=o.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),o.DomEvent.disableClickPropagation(e),o.Browser.touch||o.DomEvent.disableScrollPropagation(e);var i=this._form=o.DomUtil.create("form",t+"-list");if(this.options.collapsed){o.Browser.android||o.DomEvent.on(e,{mouseenter:this.expand,mouseleave:this.collapse},this);var n=this._layersLink=o.DomUtil.create("a",t+"-toggle",e);n.href="#",n.title="Layers",o.Browser.touch?o.DomEvent.on(n,"click",o.DomEvent.stop).on(n,"click",this.expand,this):o.DomEvent.on(n,"focus",this.expand,this),o.DomEvent.on(i,"click",function(){setTimeout(o.bind(this._onInputClick,this),0)},this),this._map.on("click",this.collapse,this)}else this.expand();this._baseLayersList=o.DomUtil.create("div",t+"-base",i),this._separator=o.DomUtil.create("div",t+"-separator",i),this._overlaysList=o.DomUtil.create("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&o.stamp(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;o.DomUtil.empty(this._baseLayersList),o.DomUtil.empty(this._overlaysList);var t,e,i,n,s=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,s+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&s>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(o.stamp(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,i){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",o=e.createElement("div");return o.innerHTML=n,o.firstChild},_addItem:function(t){var i,n=e.createElement("label"),s=this._map.hasLayer(t.layer);t.overlay?(i=e.createElement("input"),i.type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=s):i=this._createRadioElement("leaflet-base-layers",s),i.layerId=o.stamp(t.layer),o.DomEvent.on(i,"click",this._onInputClick,this);var r=e.createElement("span");r.innerHTML=" "+t.name;var a=e.createElement("div");n.appendChild(a),a.appendChild(i),a.appendChild(r);var h=t.overlay?this._overlaysList:this._baseLayersList;return h.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,i,n=this._form.getElementsByTagName("input"),o=[],s=[];this._handlingClick=!0;for(var r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,i=this._map.hasLayer(e),t.checked&&!i?o.push(e):!t.checked&&i&&s.push(e);for(r=0;r<s.length;r++)this._map.removeLayer(s[r]);for(r=0;r<o.length;r++)this._map.addLayer(o[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._form.getElementsByTagName("input"),o=this._map.getZoom(),s=n.length-1;s>=0;s--)t=n[s],e=this._getLayer(t.layerId).layer,t.disabled=e.options.minZoom!==i&&o<e.options.minZoom||e.options.maxZoom!==i&&o>e.options.maxZoom},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),o.control.layers=function(t,e,i){return new o.Control.Layers(t,e,i)},o.PosAnimation=o.Evented.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=o.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=o.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),o.DomUtil.setPosition(this._el,i),this.fire("step")},_complete:function(){o.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),o.Map.include({setView:function(t,e,n){if(e=e===i?this._zoom:this._limitZoom(e),t=this._limitCenter(o.latLng(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==i&&(n.zoom=o.extend({animate:n.animate},n.zoom),n.pan=o.extend({animate:n.animate,duration:n.duration},n.pan));var s=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(s)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=o.point(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new o.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){o.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){o.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._floor();return!((e&&e.animate)!==!0&&!this.getSize().contains(i))&&(this.panBy(i,e),!0)}}),o.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});var h=o.DomUtil.TRANSITION&&o.Browser.any3d&&!o.Browser.mobileOpera;h&&o.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),o.DomEvent.on(this._proxy,o.DomUtil.TRANSITION_END,this._catchTransitionEnd,this))}),o.Map.include(h?{_createAnimProxy:function(){var t=this._proxy=o.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var i=o.DomUtil.TRANSFORM,n=t.style[i];o.DomUtil.setTransform(t,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===t.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),i=this.getZoom();o.DomUtil.setTransform(t,this.project(e,i),this.getZoomScale(i,1))},this)},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),s=this._getCenterOffset(t)._divideBy(1-1/n);return!(i.animate!==!0&&!this.getSize().contains(s))&&(o.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,i,n){i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,o.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:n}),setTimeout(o.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(o.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),o.Util.requestAnimFrame(function(){this._moveEnd(!0)},this))}}:{}),o.Map.include({flyTo:function(t,e,n){function s(t){var e=t?-1:1,i=t?v:g,n=v*v-g*g+e*L*L*y*y,o=2*i*L*y,s=n/o,r=Math.sqrt(s*s+1)-s,a=r<1e-9?-18:Math.log(r);return a}function r(t){return(Math.exp(t)-Math.exp(-t))/2}function a(t){return(Math.exp(t)+Math.exp(-t))/2}function h(t){return r(t)/a(t)}function l(t){return g*(a(x)/a(x+P*t))}function u(t){return g*(a(x)*h(x+P*t)-r(x))/L}function c(t){return 1-Math.pow(1-t,1.5)}function _(){var i=(Date.now()-b)/T,n=c(i)*w;i<=1?(this._flyToFrame=o.Util.requestAnimFrame(_,this),this._move(this.unproject(d.add(p.subtract(d).multiplyBy(u(n)/y)),f),this.getScaleZoom(g/l(n),f),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(n=n||{},n.animate===!1||!o.Browser.any3d)return this.setView(t,e,n);this._stop();var d=this.project(this.getCenter()),p=this.project(t),m=this.getSize(),f=this._zoom;t=o.latLng(t),e=e===i?f:e;var g=Math.max(m.x,m.y),v=g*this.getZoomScale(f,e),y=p.distanceTo(d)||1,P=1.42,L=P*P,x=s(0),b=Date.now(),w=(s(1)-x)/P,T=n.duration?1e3*n.duration:1e3*w*.8;return this._moveStart(!0),_.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)}}),o.Map.include({_defaultLocateOptions:{timeout:1e4,watch:!1},locate:function(t){if(t=this._locateOptions=o.extend({},this._defaultLocateOptions,t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o.bind(this._handleGeolocationResponse,this),i=o.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,i=t.coords.longitude,n=new o.LatLng(e,i),s=n.toBounds(t.coords.accuracy),r=this._locateOptions;if(r.setView){var a=this.getBoundsZoom(s);this.setView(n,r.maxZoom?Math.min(a,r.maxZoom):a)}var h={latlng:n,bounds:s,timestamp:t.timestamp};for(var l in t.coords)"number"==typeof t.coords[l]&&(h[l]=t.coords[l]);this.fire("locationfound",h)}})}(window,document);require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({"./includedProjections":[function(a,b,c){var d=[a("./lib/projections/tmerc"),a("./lib/projections/utm"),a("./lib/projections/sterea"),a("./lib/projections/stere"),a("./lib/projections/somerc"),a("./lib/projections/omerc"),a("./lib/projections/lcc"),a("./lib/projections/krovak"),a("./lib/projections/cass"),a("./lib/projections/laea"),a("./lib/projections/aea"),a("./lib/projections/gnom"),a("./lib/projections/cea"),a("./lib/projections/eqc"),a("./lib/projections/poly"),a("./lib/projections/nzmg"),a("./lib/projections/mill"),a("./lib/projections/sinu"),a("./lib/projections/moll"),a("./lib/projections/eqdc"),a("./lib/projections/vandg"),a("./lib/projections/aeqd")];b.exports=function(proj4){d.forEach(function(a){proj4.Proj.projections.add(a)})}},{"./lib/projections/aea":40,"./lib/projections/aeqd":41,"./lib/projections/cass":42,"./lib/projections/cea":43,"./lib/projections/eqc":44,"./lib/projections/eqdc":45,"./lib/projections/gnom":47,"./lib/projections/krovak":48,"./lib/projections/laea":49,"./lib/projections/lcc":50,"./lib/projections/mill":53,"./lib/projections/moll":54,"./lib/projections/nzmg":55,"./lib/projections/omerc":56,"./lib/projections/poly":57,"./lib/projections/sinu":58,"./lib/projections/somerc":59,"./lib/projections/stere":60,"./lib/projections/sterea":61,"./lib/projections/tmerc":62,"./lib/projections/utm":63,"./lib/projections/vandg":64}],1:[function(a,b,c){function Point(a,b,c){if(!(this instanceof Point))return new Point(a,b,c);if(Array.isArray(a))this.x=a[0],this.y=a[1];else if("object"==typeof a)this.x=a.x,this.y=a.y;else if("string"==typeof a&&"undefined"==typeof b){var d=a.split(",");this.x=parseFloat(d[0],10),this.y=parseFloat(d[1],10)}else this.x=a,this.y=b;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var d=a("mgrs");Point.fromMGRS=function(a){return new Point(d.toPoint(a))},Point.prototype.toMGRS=function(a){return d.forward([this.x,this.y],a)},b.exports=Point},{mgrs:67}],2:[function(a,b,c){function Projection(a,b){if(!(this instanceof Projection))return new Projection(a);b=b||function(a){if(a)throw a};var c=d(a);if("object"!=typeof c)return void b(a);var f=g(c),h=Projection.projections.get(f.projName);h?(e(this,f),e(this,h),this.init(),b(null,this)):b(a)}var d=a("./parseCode"),e=a("./extend"),f=a("./projections"),g=a("./deriveConstants");Projection.projections=f,Projection.projections.start(),b.exports=Projection},{"./deriveConstants":33,"./extend":34,"./parseCode":37,"./projections":39}],3:[function(a,b,c){b.exports=function(a,b,c){var d,e,f,g=c.x,h=c.y;for(f=0;f<3;++f)if(!b||2!==f||void 0!==c.z)switch(0===f?(d=g,e="x"):1===f&&(d=h,e="y"),a.axis[f]){case"e":c[e]=d;break;case"w":c[e]=-d;break;case"n":c[e]=d;break;case"s":c[e]=-d;break;default:return null}return c}},{}],4:[function(a,b,c){var d=Math.PI/2,e=a("./sign");b.exports=function(a){return Math.abs(a)<d?a:a-e(a)*Math.PI}},{"./sign":21}],5:[function(a,b,c){var d=2*Math.PI,e=3.14159265359,f=a("./sign");b.exports=function(a){return Math.abs(a)<=e?a:a-f(a)*d}},{"./sign":21}],6:[function(a,b,c){b.exports=function(a){return Math.abs(a)>1&&(a=a>1?1:-1),Math.asin(a)}},{}],7:[function(a,b,c){b.exports=function(a){return 1-.25*a*(1+a/16*(3+1.25*a))}},{}],8:[function(a,b,c){b.exports=function(a){return.375*a*(1+.25*a*(1+.46875*a))}},{}],9:[function(a,b,c){b.exports=function(a){return.05859375*a*a*(1+.75*a)}},{}],10:[function(a,b,c){b.exports=function(a){return a*a*a*(35/3072)}},{}],11:[function(a,b,c){b.exports=function(a,b,c){var d=b*c;return a/Math.sqrt(1-d*d)}},{}],12:[function(a,b,c){b.exports=function(a,b,c,d,e){var f,g;f=a/b;for(var h=0;h<15;h++)if(g=(a-(b*f-c*Math.sin(2*f)+d*Math.sin(4*f)-e*Math.sin(6*f)))/(b-2*c*Math.cos(2*f)+4*d*Math.cos(4*f)-6*e*Math.cos(6*f)),f+=g,Math.abs(g)<=1e-10)return f;return NaN}},{}],13:[function(a,b,c){var d=Math.PI/2;b.exports=function(a,b){var c=1-(1-a*a)/(2*a)*Math.log((1-a)/(1+a));if(Math.abs(Math.abs(b)-c)<1e-6)return b<0?-1*d:d;for(var e,f,g,h,i=Math.asin(.5*b),j=0;j<30;j++)if(f=Math.sin(i),g=Math.cos(i),h=a*f,e=Math.pow(1-h*h,2)/(2*g)*(b/(1-a*a)-f/(1-h*h)+.5/a*Math.log((1-h)/(1+h))),i+=e,Math.abs(e)<=1e-10)return i;return NaN}},{}],14:[function(a,b,c){b.exports=function(a,b,c,d,e){return a*e-b*Math.sin(2*e)+c*Math.sin(4*e)-d*Math.sin(6*e)}},{}],15:[function(a,b,c){b.exports=function(a,b,c){var d=a*b;return c/Math.sqrt(1-d*d)}},{}],16:[function(a,b,c){var d=Math.PI/2;b.exports=function(a,b){for(var c,e,f=.5*a,g=d-2*Math.atan(b),h=0;h<=15;h++)if(c=a*Math.sin(g),e=d-2*Math.atan(b*Math.pow((1-c)/(1+c),f))-g,g+=e,Math.abs(e)<=1e-10)return g;return-9999}},{}],17:[function(a,b,c){var d=1,e=.25,f=.046875,g=.01953125,h=.01068115234375,i=.75,j=.46875,k=.013020833333333334,l=.007120768229166667,m=.3645833333333333,n=.005696614583333333,o=.3076171875;b.exports=function(a){var b=[];b[0]=d-a*(e+a*(f+a*(g+a*h))),b[1]=a*(i-a*(f+a*(g+a*h)));var c=a*a;return b[2]=c*(j-a*(k+a*l)),c*=a,b[3]=c*(m-a*n),b[4]=c*a*o,b}},{}],18:[function(a,b,c){var d=a("./pj_mlfn"),e=1e-10,f=20;b.exports=function(a,b,c){for(var g=1/(1-b),h=a,i=f;i;--i){var j=Math.sin(h),k=1-b*j*j;if(k=(d(h,j,Math.cos(h),c)-a)*(k*Math.sqrt(k))*g,h-=k,Math.abs(k)<e)return h}return h}},{"./pj_mlfn":19}],19:[function(a,b,c){b.exports=function(a,b,c,d){return c*=b,b*=b,d[0]*a-c*(d[1]+b*(d[2]+b*(d[3]+b*d[4])))}},{}],20:[function(a,b,c){b.exports=function(a,b){var c;return a>1e-7?(c=a*b,(1-a*a)*(b/(1-c*c)-.5/a*Math.log((1-c)/(1+c)))):2*b}},{}],21:[function(a,b,c){b.exports=function(a){return a<0?-1:1}},{}],22:[function(a,b,c){b.exports=function(a,b){return Math.pow((1-a)/(1+a),b)}},{}],23:[function(a,b,c){b.exports=function(a){var b={x:a[0],y:a[1]};return a.length>3&&(b.m=a[3]),b}},{}],24:[function(a,b,c){var d=Math.PI/2;b.exports=function(a,b,c){var e=a*c,f=.5*a;return e=Math.pow((1-e)/(1+e),f),Math.tan(.5*(d-b))/e}},{}],25:[function(a,b,c){c.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},c.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},c.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},c.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},c.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},c.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},c.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},c.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},c.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},c.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},c.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},c.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},c.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},c.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},c.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},c.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],26:[function(a,b,c){c.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},c.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},c.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},c.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},c.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},c.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},c.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},c.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},c.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},c.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},c.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},c.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},c.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},c.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},c.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},c.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},c.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},c.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},c.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},c.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},c.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},c.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},c.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},c.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},c.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},c.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},c.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},c.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},c.hough={a:6378270,rf:297,ellipseName:"Hough"},c.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},c.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},c.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},c.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},c.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},c.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},c.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},c.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},c.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},c.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},c.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},c.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},c.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},c.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],27:[function(a,b,c){c.greenwich=0,c.lisbon=-9.131906111111,c.paris=2.337229166667,c.bogota=-74.080916666667,c.madrid=-3.687938888889,c.rome=12.452333333333,c.bern=7.439583333333,c.jakarta=106.807719444444,c.ferro=-17.666666666667,c.brussels=4.367975,c.stockholm=18.058277777778,c.athens=23.7163375,c.oslo=10.722916666667},{}],28:[function(a,b,c){c.ft={to_meter:.3048},c["us-ft"]={to_meter:1200/3937}},{}],29:[function(a,b,c){function d(a,b,c){var d;return Array.isArray(c)?(d=g(a,b,c),[d.x,d.y]):g(a,b,c)}function e(a){return a instanceof f?a:a.oProj?a.oProj:f(a)}function proj4(a,b,c){a=e(a);var f,g=!1;return"undefined"==typeof b?(b=a,a=h,g=!0):("undefined"!=typeof b.x||Array.isArray(b))&&(c=b,b=a,a=h,g=!0),b=e(b),c?d(a,b,c):(f={forward:function(c){return d(a,b,c)},inverse:function(c){return d(b,a,c)}},g&&(f.oProj=b),f)}var f=a("./Proj"),g=a("./transform"),h=f("WGS84");b.exports=proj4,window&&(window.proj4||(window.proj4=proj4))},{"./Proj":2,"./transform":65}],30:[function(a,b,c){var d=Math.PI/2,e=1,f=2,g=3,h=4,i=5,j=484813681109536e-20,k=1.0026,l=function(a){return this instanceof l?(this.datum_type=h,void(a&&(a.datumCode&&"none"===a.datumCode&&(this.datum_type=i),a.datum_params&&(this.datum_params=a.datum_params.map(parseFloat),0===this.datum_params[0]&&0===this.datum_params[1]&&0===this.datum_params[2]||(this.datum_type=e),this.datum_params.length>3&&(0===this.datum_params[3]&&0===this.datum_params[4]&&0===this.datum_params[5]&&0===this.datum_params[6]||(this.datum_type=f,this.datum_params[3]*=j,this.datum_params[4]*=j,this.datum_params[5]*=j,this.datum_params[6]=this.datum_params[6]/1e6+1))),this.datum_type=a.grids?g:this.datum_type,this.a=a.a,this.b=a.b,this.es=a.es,this.ep2=a.ep2,this.datum_type===g&&(this.grids=a.grids)))):new l(a)};l.prototype={compare_datums:function(a){return this.datum_type===a.datum_type&&(!(this.a!==a.a||Math.abs(this.es-a.es)>5e-11)&&(this.datum_type===e?this.datum_params[0]===a.datum_params[0]&&this.datum_params[1]===a.datum_params[1]&&this.datum_params[2]===a.datum_params[2]:this.datum_type===f?this.datum_params[0]===a.datum_params[0]&&this.datum_params[1]===a.datum_params[1]&&this.datum_params[2]===a.datum_params[2]&&this.datum_params[3]===a.datum_params[3]&&this.datum_params[4]===a.datum_params[4]&&this.datum_params[5]===a.datum_params[5]&&this.datum_params[6]===a.datum_params[6]:this.datum_type!==g&&a.datum_type!==g||this.nadgrids===a.nadgrids))},geodetic_to_geocentric:function(a){var b,c,e,f,g,h,i=a.x,j=a.y,k=0;if(j<-d&&j>-1.001*d)j=-d;else if(j>d&&j<1.001*d)j=d;else if(j<-d||j>d)return null;return i>Math.PI&&(i-=2*Math.PI),f=Math.sin(j),h=Math.cos(j),g=f*f,e=this.a/Math.sqrt(1-this.es*g),b=e*h*Math.cos(i),c=e*h*Math.sin(i),a.x=b,a.y=c,k},geocentric_to_geodetic:function(a){var b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=1e-12,t=s*s,u=30,v=a.x,w=a.y;if(o=!1,c=b=Math.sqrt(v*v+w*w),b/this.a<s){if(o=!0,q=0,c/this.a<s)return void(r=d)}else q=Math.atan2(w,v);e=Z/c,f=b/c,g=1/Math.sqrt(1-this.es*(2-this.es)*f*f),j=f*(1-this.es)*g,k=e*g,p=0;do p++,i=this.a/Math.sqrt(1-this.es*k*k),h=this.es*i/i,g=1/Math.sqrt(1-h*(2-h)*f*f),l=f*(1-h)*g,m=e*g,n=m*j-l*k,j=l,k=m;while(n*n>t&&p<u);return r=Math.atan(m/Math.abs(l)),a.x=q,a.y=r,a},geocentric_to_geodetic_noniter:function(a){var b,c,e,f,g,h,i,j,l,m,n,o,p,q,r,s,t=a.x,u=a.y;if(t=parseFloat(t),u=parseFloat(u),s=!1,0!==t)b=Math.atan2(u,t);else if(u>0)b=d;else{if(!(u<0))return s=!0,b=0,void(c=d);b=-d}return f=t*t+u*u,e=Math.sqrt(f),g=Z*k,i=Math.sqrt(g*g+f),l=g/i,n=e/i,m=l*l*l,h=Z+this.b*this.ep2*m,r=e-this.a*this.es*n*n*n,j=Math.sqrt(h*h+r*r),o=h/j,p=r/j,q=this.a/Math.sqrt(1-this.es*o*o),s===!1&&(c=Math.atan(o/p)),a.x=b,a.y=c,a},geocentric_to_wgs84:function(a){if(this.datum_type===e)a.x+=this.datum_params[0],a.y+=this.datum_params[1];else if(this.datum_type===f){var b=this.datum_params[0],c=this.datum_params[1],d=(this.datum_params[2],this.datum_params[3]),g=this.datum_params[4],h=this.datum_params[5],i=this.datum_params[6],j=i*(a.x-h*a.y+g*a.z)+b,k=i*(h*a.x+a.y-d*a.z)+c;a.x=j,a.y=k}},geocentric_from_wgs84:function(a){if(this.datum_type===e)a.x-=this.datum_params[0],a.y-=this.datum_params[1];else if(this.datum_type===f){var b=this.datum_params[0],c=this.datum_params[1],d=(this.datum_params[2],this.datum_params[3]),g=this.datum_params[4],h=this.datum_params[5],i=this.datum_params[6],j=(a.x-b)/i,k=(a.y-c)/i;a.x=j+h*k-g*z_tmp,a.y=-h*j+k+d*z_tmp}}},b.exports=l},{}],31:[function(a,b,c){var d=1,e=2,f=3,g=5,h=6378137,i=.006694379990141316;b.exports=function(a,b,c){function j(a){return a===d||a===e}var k,l,m;if(a.compare_datums(b))return c;if(a.datum_type===g||b.datum_type===g)return c;var n=a.a,o=a.es,p=b.a,q=b.es,r=a.datum_type;if(r===f)if(0===this.apply_gridshift(a,0,c))a.a=h,a.es=i;else{if(!a.datum_params)return a.a=n,a.es=a.es,c;for(k=1,l=0,m=a.datum_params.length;l<m;l++)k*=a.datum_params[l];if(0===k)return a.a=n,a.es=a.es,c;r=a.datum_params.length>3?e:d}return b.datum_type===f&&(b.a=h,b.es=i),(a.es!==b.es||a.a!==b.a||j(r)||j(b.datum_type))&&(a.geodetic_to_geocentric(c),j(a.datum_type)&&a.geocentric_to_wgs84(c),j(b.datum_type)&&b.geocentric_from_wgs84(c),b.geocentric_to_geodetic(c)),b.datum_type===f&&this.apply_gridshift(b,1,c),a.a=n,a.es=o,b.a=p,b.es=q,c}},{}],32:[function(a,b,c){function d(a){var b=this;if(2===arguments.length){var c=arguments[1];"string"==typeof c?"+"===c.charAt(0)?d[a]=f(arguments[1]):d[a]=g(arguments[1]):d[a]=c}else if(1===arguments.length){if(Array.isArray(a))return a.map(function(a){Array.isArray(a)?d.apply(b,a):d(a)});if("string"==typeof a){if(a in d)return d[a]}else"EPSG"in a?d["EPSG:"+a.EPSG]=a:"ESRI"in a?d["ESRI:"+a.ESRI]=a:"IAU2000"in a?d["IAU2000:"+a.IAU2000]=a:console.log(a);return}}var e=a("./global"),f=a("./projString"),g=a("./wkt");e(d),b.exports=d},{"./global":35,"./projString":38,"./wkt":66}],33:[function(a,b,c){var d=a("./constants/Datum"),e=a("./constants/Ellipsoid"),f=a("./extend"),g=a("./datum"),h=1e-10,i=.16666666666666666,j=.04722222222222222,k=.022156084656084655;b.exports=function(a){if(a.datumCode&&"none"!==a.datumCode){var b=d[a.datumCode];b&&(a.datum_params=b.towgs84?b.towgs84.split(","):null,a.ellps=b.ellipse,a.datumName=b.datumName?b.datumName:a.datumCode)}if(!a.a){var c=e[a.ellps]?e[a.ellps]:e.WGS84;f(a,c)}return a.rf&&!a.b&&(a.b=(1-1/a.rf)*a.a),(0===a.rf||Math.abs(a.a-a.b)<h)&&(a.sphere=!0,a.b=a.a),a.a2=a.a*a.a,a.b2=a.b*a.b,a.es=(a.a2-a.b2)/a.a2,a.e=Math.sqrt(a.es),a.R_A&&(a.a*=1-a.es*(i+a.es*(j+a.es*k)),a.a2=a.a*a.a,a.b2=a.b*a.b,a.es=0),a.ep2=(a.a2-a.b2)/a.b2,a.k0||(a.k0=1),a.axis||(a.axis="enu"),a.datum||(a.datum=g(a)),a}},{"./constants/Datum":25,"./constants/Ellipsoid":26,"./datum":30,"./extend":34}],34:[function(a,b,c){b.exports=function(a,b){a=a||{};var c,d;if(!b)return a;for(d in b)c=b[d],void 0!==c&&(a[d]=c);return a}},{}],35:[function(a,b,c){b.exports=function(a){a("EPSG:4326","+title=WGS 84 ( long/lat ) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),a("EPSG:4269","+title=NAD83 ( long/lat ) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),a("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),a.WGS84=a["EPSG:4326"],a["EPSG:3785"]=a["EPSG:3857"],a.GOOGLE=a["EPSG:3857"],a["EPSG:900913"]=a["EPSG:3857"],a["EPSG:102113"]=a["EPSG:3857"]}},{}],36:[function(a,b,c){var proj4=a("./core");proj4.defaultDatum="WGS84",proj4.Proj=a("./Proj"),proj4.WGS84=new proj4.Proj("WGS84"),proj4.Point=a("./Point"),proj4.toPoint=a("./common/toPoint"),proj4.defs=a("./defs"),proj4.transform=a("./transform"),proj4.mgrs=a("mgrs"),proj4.version=a("../package.json").version,a("./includedProjections")(proj4),b.exports=proj4},{"../package.json":68,"./Point":1,"./Proj":2,"./common/toPoint":23,"./core":29,"./defs":32,"./includedProjections":"./includedProjections","./transform":65,mgrs:67}],37:[function(a,b,c){function d(a){return a in i}function e(a){return"string"==typeof a}function f(a){return"+"===a[0]}function g(a){var b=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return b.reduce(function(b,c){return b+1+a.indexOf(c)},0)}function h(a){return e(a)?d(a)?i[a]:g(a)?j(a):f(a)?k(a):void 0:a}var i=a("./defs"),j=a("./wkt"),k=a("./projString");b.exports=h},{"./defs":32,"./projString":38,"./wkt":66}],38:[function(a,b,c){var d=.017453292519943295,e=a("./constants/PrimeMeridian"),f=a("./constants/units");b.exports=function(a){var b={},c={};a.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).forEach(function(a){var b=a.split("=");b.push(!0),c[b[0].toLowerCase()]=b[1]});var g,h,i,j={proj:"projName",datum:"datumCode",rf:function(a){b.rf=parseFloat(a)},lat_0:function(a){b.lat0=a*d},lat_1:function(a){b.lat1=a*d},lat_2:function(a){b.lat2=a*d},lat_ts:function(a){b.lat_ts=a*d},lon_0:function(a){b.long0=a*d},lon_1:function(a){b.long1=a*d},lon_2:function(a){b.long2=a*d},alpha:function(a){b.alpha=parseFloat(a)*d},lonc:function(a){b.longc=a*d},x_0:function(a){b.x0=parseFloat(a)},y_0:function(a){b.y0=parseFloat(a)},k_0:function(a){b.k0=parseFloat(a)},k:function(a){b.k0=parseFloat(a)},a:function(a){b.a=parseFloat(a)},b:function(a){b.b=parseFloat(a)},r_a:function(){b.R_A=!0},zone:function(a){b.zone=parseInt(a,10)},south:function(){b.utmSouth=!0},towgs84:function(a){b.datum_params=a.split(",").map(function(a){return parseFloat(a)})},to_meter:function(a){b.to_meter=parseFloat(a)},units:function(a){b.units=a,f[a]&&(b.to_meter=f[a].to_meter)},from_greenwich:function(a){b.from_greenwich=a*d},pm:function(a){b.from_greenwich=(e[a]?e[a]:parseFloat(a))*d},nadgrids:function(a){"@null"===a?b.datumCode="none":b.nadgrids=a},axis:function(a){var c="ewnsud";3===a.length&&c.indexOf(a.substr(0,1))!==-1&&c.indexOf(a.substr(1,1))!==-1&&c.indexOf(a.substr(2,1))!==-1&&(b.axis=a)}};for(g in c)h=c[g],g in j?(i=j[g],"function"==typeof i?i(h):b[i]=h):b[g]=h;return"string"==typeof b.datumCode&&"WGS84"!==b.datumCode&&(b.datumCode=b.datumCode.toLowerCase()),b}},{"./constants/PrimeMeridian":27,"./constants/units":28}],39:[function(a,b,c){function d(a,b){var c=g.length;return a.names?(g[c]=a,a.names.forEach(function(a){f[a.toLowerCase()]=c}),this):(console.log(b),!0)}var e=[a("./projections/merc"),a("./projections/longlat")],f={},g=[];c.add=d,c.get=function(a){if(!a)return!1;var b=a.toLowerCase();return"undefined"!=typeof f[b]&&g[f[b]]?g[f[b]]:void 0},c.start=function(){e.forEach(d)}},{"./projections/longlat":51,"./projections/merc":52}],40:[function(a,b,c){var d=1e-10,e=a("../common/msfnz"),f=a("../common/qsfnz"),g=a("../common/adjust_lon"),h=a("../common/asinz");c.init=function(){Math.abs(this.lat1+this.lat2)<d||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=e(this.e3,this.sin_po,this.cos_po),this.qs1=f(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=e(this.e3,this.sin_po,this.cos_po),this.qs2=f(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=f(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>d?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},c.forward=function(a){var b=a.x,c=a.y;this.sin_phi=Math.sin(c),this.cos_phi=Math.cos(c);var d=f(this.e3,this.sin_phi,this.cos_phi),e=this.a*Math.sqrt(this.c-this.ns0*d)/this.ns0,h=this.ns0*g(b-this.long0),i=e*Math.sin(h)+this.x0,j=this.rh-e*Math.cos(h)+this.y0;return a.x=i,a.y=j,a},c.inverse=function(a){var b,c,d,e,f,h;return a.x-=this.x0,a.y=this.rh-a.y+this.y0,this.ns0>=0?(b=Math.sqrt(a.x*a.x+a.y*a.y),d=1):(b=-Math.sqrt(a.x*a.x+a.y*a.y),d=-1),e=0,0!==b&&(e=Math.atan2(d*a.x,d*a.y)),d=b*this.ns0/this.a,this.sphere?h=Math.asin((this.c-d*d)/(2*this.ns0)):(c=(this.c-d*d)/this.ns0,h=this.phi1z(this.e3,c)),f=g(e/this.ns0+this.long0),a.x=f,a.y=h,a},c.phi1z=function(a,b){var c,e,f,g,i,j=h(.5*b);if(a<d)return j;for(var k=a*a,l=1;l<=25;l++)if(c=Math.sin(j),e=Math.cos(j),f=a*c,g=1-f*f,i=.5*g*g/e*(b/(1-k)-c/g+.5/a*Math.log((1-f)/(1+f))),j+=i,Math.abs(i)<=1e-7)return j;return null},c.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/msfnz":15,"../common/qsfnz":20}],41:[function(a,b,c){var d=a("../common/adjust_lon"),e=Math.PI/2,f=1e-10,g=a("../common/mlfn"),h=a("../common/e0fn"),i=a("../common/e1fn"),j=a("../common/e2fn"),k=a("../common/e3fn"),l=a("../common/gN"),m=a("../common/asinz"),n=a("../common/imlfn");c.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},c.forward=function(a){var b,c,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H=a.x,I=a.y,J=Math.sin(a.y),K=Math.cos(a.y),L=d(H-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=f?(a.x=this.x0+this.a*(e-I)*Math.sin(L),a.y=this.y0-this.a*(e-I)*Math.cos(L),a):Math.abs(this.sin_p12+1)<=f?(a.x=this.x0+this.a*(e+I)*Math.sin(L),a.y=this.y0+this.a*(e+I)*Math.cos(L),a):(B=this.sin_p12*J+this.cos_p12*K*Math.cos(L),z=Math.acos(B),A=z/Math.sin(z),a.x=this.x0+this.a*A*K*Math.sin(L),a.y=this.y0+this.a*A*(this.cos_p12*J-this.sin_p12*K*Math.cos(L)),a):(b=h(this.es),c=i(this.es),m=j(this.es),n=k(this.es),Math.abs(this.sin_p12-1)<=f?(o=this.a*g(b,c,m,n,e),p=this.a*g(b,c,m,n,I),a.x=this.x0+(o-p)*Math.sin(L),a.y=this.y0-(o-p)*Math.cos(L),a):Math.abs(this.sin_p12+1)<=f?(o=this.a*g(b,c,m,n,e),p=this.a*g(b,c,m,n,I),a.x=this.x0+(o+p)*Math.sin(L),a.y=this.y0+(o+p)*Math.cos(L),a):(q=J/K,r=l(this.a,this.e,this.sin_p12),s=l(this.a,this.e,J),t=Math.atan((1-this.es)*q+this.es*r*this.sin_p12/(s*K)),u=Math.atan2(Math.sin(L),this.cos_p12*Math.tan(t)-this.sin_p12*Math.cos(L)),C=0===u?Math.asin(this.cos_p12*Math.sin(t)-this.sin_p12*Math.cos(t)):Math.abs(Math.abs(u)-Math.PI)<=f?-Math.asin(this.cos_p12*Math.sin(t)-this.sin_p12*Math.cos(t)):Math.asin(Math.sin(L)*Math.cos(t)/Math.sin(u)),v=this.e*this.sin_p12/Math.sqrt(1-this.es),w=this.e*this.cos_p12*Math.cos(u)/Math.sqrt(1-this.es),x=v*w,y=w*w,D=C*C,E=D*C,F=E*C,G=F*C,z=r*C*(1-D*y*(1-y)/6+E/8*x*(1-2*y)+F/120*(y*(4-7*y)-3*v*v*(1-7*y))-G/48*x),a.x=this.x0+z*Math.sin(u),a.y=this.y0+z*Math.cos(u),a))},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;if(this.sphere){if(b=Math.sqrt(a.x*a.x+a.y*a.y),b>2*e*this.a)return;return c=b/this.a,o=Math.sin(c),p=Math.cos(c),q=this.long0,Math.abs(b)<=f?r=this.lat0:(r=m(p*this.sin_p12+a.y*o*this.cos_p12/b),s=Math.abs(this.lat0)-e,q=d(Math.abs(s)<=f?this.lat0>=0?this.long0+Math.atan2(a.x,-a.y):this.long0-Math.atan2(-a.x,a.y):this.long0+Math.atan2(a.x*o,b*this.cos_p12*p-a.y*this.sin_p12*o))),a.x=q,a.y=r,a}return t=h(this.es),u=i(this.es),v=j(this.es),w=k(this.es),Math.abs(this.sin_p12-1)<=f?(x=this.a*g(t,u,v,w,e),b=Math.sqrt(a.x*a.x+a.y*a.y),y=x-b,r=n(y/this.a,t,u,v,w),q=d(this.long0+Math.atan2(a.x,-1*a.y)),a.x=q,a.y=r,a):Math.abs(this.sin_p12+1)<=f?(x=this.a*g(t,u,v,w,e),b=Math.sqrt(a.x*a.x+a.y*a.y),y=b-x,r=n(y/this.a,t,u,v,w),q=d(this.long0+Math.atan2(a.x,a.y)),a.x=q,a.y=r,a):(b=Math.sqrt(a.x*a.x+a.y*a.y),B=Math.atan2(a.x,a.y),z=l(this.a,this.e,this.sin_p12),C=Math.cos(B),D=this.e*this.cos_p12*C,E=-D*D/(1-this.es),F=3*this.es*(1-E)*this.sin_p12*this.cos_p12*C/(1-this.es),G=b/z,H=G-E*(1+E)*Math.pow(G,3)/6-F*(1+3*E)*Math.pow(G,4)/24,I=1-E*H*H/2-G*H*H*H/6,A=Math.asin(this.sin_p12*Math.cos(H)+this.cos_p12*Math.sin(H)*C),q=d(this.long0+Math.asin(Math.sin(B)*Math.sin(H)/Math.cos(A))),r=Math.atan((1-this.es*I*this.sin_p12/Math.sin(A))*Math.tan(A)/(1-this.es)),a.x=q,a.y=r,a)},c.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],42:[function(a,b,c){var d=a("../common/mlfn"),e=a("../common/e0fn"),f=a("../common/e1fn"),g=a("../common/e2fn"),h=a("../common/e3fn"),i=a("../common/gN"),j=a("../common/adjust_lon"),k=a("../common/adjust_lat"),l=a("../common/imlfn"),m=Math.PI/2,n=1e-10;c.init=function(){this.sphere||(this.e0=e(this.es),this.e1=f(this.es),this.e2=g(this.es),this.e3=h(this.es),this.ml0=this.a*d(this.e0,this.e1,this.e2,this.e3,this.lat0))},c.forward=function(a){var b,c,e=a.x,f=a.y;if(e=j(e-this.long0),this.sphere)b=this.a*Math.asin(Math.cos(f)*Math.sin(e)),c=this.a*(Math.atan2(Math.tan(f),Math.cos(e))-this.lat0);else{var g=Math.sin(f),h=Math.cos(f),k=i(this.a,this.e,g),l=Math.tan(f)*Math.tan(f),m=e*Math.cos(f),n=m*m,o=this.es*h*h/(1-this.es),p=this.a*d(this.e0,this.e1,this.e2,this.e3,f);b=k*m*(1-n*l*(1/6-(8-l+8*o)*n/120)),c=p-this.ml0+k*g/h*n*(.5+(5-l+6*o)*n/24)}return a.x=b+this.x0,a.y=c+this.y0,a},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c,d=a.x/this.a,e=a.y/this.a;if(this.sphere){var f=e+this.lat0;b=Math.asin(Math.sin(f)*Math.cos(d)),c=Math.atan2(Math.tan(d),Math.cos(f))}else{var g=this.ml0/this.a+e,h=l(g,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(h)-m)<=n)return a.x=this.long0,a.y=m,e<0&&(a.y*=-1),a;var o=i(this.a,this.e,Math.sin(h)),p=o*o*o/this.a/this.a*(1-this.es),q=Math.pow(Math.tan(h),2),r=d*this.a/o,s=r*r;b=h-o*Math.tan(h)/p*r*r*(.5-(1+3*q)*r*r/24),c=r*(1-s*(q/3+(1+3*q)*q*s/15))/Math.cos(h)}return a.x=j(c+this.long0),a.y=k(b),a},c.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],43:[function(a,b,c){var d=a("../common/adjust_lon"),e=a("../common/qsfnz"),f=a("../common/msfnz"),g=a("../common/iqsfnz");c.init=function(){this.sphere||(this.k0=f(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},c.forward=function(a){var b,c,f=a.x,g=a.y,h=d(f-this.long0);if(this.sphere)b=this.x0+this.a*h*Math.cos(this.lat_ts),c=this.y0+this.a*Math.sin(g)/Math.cos(this.lat_ts);else{var i=e(this.e,Math.sin(g));b=this.x0+this.a*this.k0*h,c=this.y0+this.a*i*.5/this.k0}return a.x=b,a.y=c,a},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c;return this.sphere?(b=d(this.long0+a.x/this.a/Math.cos(this.lat_ts)),c=Math.asin(a.y/this.a*Math.cos(this.lat_ts))):(c=g(this.e,2*a.y*this.k0/this.a),b=d(this.long0+a.x/(this.a*this.k0))),a.x=b,a.y=c,a},c.names=["cea"]},{"../common/adjust_lon":5,"../common/iqsfnz":13,"../common/msfnz":15,"../common/qsfnz":20}],44:[function(a,b,c){var d=a("../common/adjust_lon"),e=a("../common/adjust_lat");c.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},c.forward=function(a){var b=a.x,c=a.y,f=d(b-this.long0),g=e(c-this.lat0);return a.x=this.x0+this.a*f*this.rc,a.y=this.y0+this.a*g,a},c.inverse=function(a){var b=a.x,c=a.y;return a.x=d(this.long0+(b-this.x0)/(this.a*this.rc)),a.y=e(this.lat0+(c-this.y0)/this.a),a},c.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5}],45:[function(a,b,c){var d=a("../common/e0fn"),e=a("../common/e1fn"),f=a("../common/e2fn"),g=a("../common/e3fn"),h=a("../common/msfnz"),i=a("../common/mlfn"),j=a("../common/adjust_lon"),k=a("../common/adjust_lat"),l=a("../common/imlfn"),m=1e-10;c.init=function(){Math.abs(this.lat1+this.lat2)<m||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=d(this.es),this.e1=e(this.es),this.e2=f(this.es),this.e3=g(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=h(this.e,this.sinphi,this.cosphi),this.ml1=i(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<m?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=h(this.e,this.sinphi,this.cosphi),this.ml2=i(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=i(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},c.forward=function(a){var b,c=a.x,d=a.y;if(this.sphere)b=this.a*(this.g-d);else{var e=i(this.e0,this.e1,this.e2,this.e3,d);b=this.a*(this.g-e)}var f=this.ns*j(c-this.long0),g=this.x0+b*Math.sin(f),h=this.y0+this.rh-b*Math.cos(f);return a.x=g,a.y=h,a},c.inverse=function(a){a.x-=this.x0,a.y=this.rh-a.y+this.y0;var b,c,d,e;this.ns>=0?(c=Math.sqrt(a.x*a.x+a.y*a.y),b=1):(c=-Math.sqrt(a.x*a.x+a.y*a.y),b=-1);var f=0;if(0!==c&&(f=Math.atan2(b*a.x,b*a.y)),this.sphere)return e=j(this.long0+f/this.ns),d=k(this.g-c/this.a),a.x=e,a.y=d,a;var g=this.g-c/this.a;return d=l(g,this.e0,this.e1,this.e2,this.e3),e=j(this.long0+f/this.ns),a.x=e,a.y=d,a},c.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/imlfn":12,"../common/mlfn":14,"../common/msfnz":15}],46:[function(a,b,c){var d=Math.PI/4,e=a("../common/srat"),f=Math.PI/2,g=20;c.init=function(){var a=Math.sin(this.lat0),b=Math.cos(this.lat0);b*=b,this.rc=Math.sqrt(1-this.es)/(1-this.es*a*a),this.C=Math.sqrt(1+this.es*b*b/(1-this.es)),this.phic0=Math.asin(a/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+d)/(Math.pow(Math.tan(.5*this.lat0+d),this.C)*e(this.e*a,this.ratexp));},c.forward=function(a){var b=a.x,c=a.y;return a.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*c+d),this.C)*e(this.e*Math.sin(c),this.ratexp))-f,a.x=this.C*b,a},c.inverse=function(a){for(var b=1e-14,c=a.x/this.C,h=a.y,i=Math.pow(Math.tan(.5*h+d)/this.K,1/this.C),j=g;j>0&&(h=2*Math.atan(i*e(this.e*Math.sin(a.y),-.5*this.e))-f,!(Math.abs(h-a.y)<b));--j)a.y=h;return j?(a.x=c,a.y=h,a):null},c.names=["gauss"]},{"../common/srat":22}],47:[function(a,b,c){var d=a("../common/adjust_lon"),e=1e-10,f=a("../common/asinz");c.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},c.forward=function(a){var b,c,f,g,h,i,j,k,l=a.x,m=a.y;return f=d(l-this.long0),b=Math.sin(m),c=Math.cos(m),g=Math.cos(f),i=this.sin_p14*b+this.cos_p14*c*g,h=1,i>0||Math.abs(i)<=e?(j=this.x0+this.a*h*c*Math.sin(f)/i,k=this.y0+this.a*h*(this.cos_p14*b-this.sin_p14*c*g)/i):(j=this.x0+this.infinity_dist*c*Math.sin(f),k=this.y0+this.infinity_dist*(this.cos_p14*b-this.sin_p14*c*g)),a.x=j,a.y=k,a},c.inverse=function(a){var b,c,e,g,h,i;return a.x=(a.x-this.x0)/this.a,a.y=(a.y-this.y0)/this.a,a.x/=this.k0,a.y/=this.k0,(b=Math.sqrt(a.x*a.x+a.y*a.y))?(g=Math.atan2(b,this.rc),c=Math.sin(g),e=Math.cos(g),i=f(e*this.sin_p14+a.y*c*this.cos_p14/b),h=Math.atan2(a.x*c,b*this.cos_p14*e-a.y*this.sin_p14*c),h=d(this.long0+h)):(i=this.phic0,h=0),a.x=h,a.y=i,a},c.names=["gnom"]},{"../common/adjust_lon":5,"../common/asinz":6}],48:[function(a,b,c){var d=a("../common/adjust_lon");c.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},c.forward=function(a){var b,c,e,f,g,h,i,j=a.x,k=a.y,l=d(j-this.long0);return b=Math.pow((1+this.e*Math.sin(k))/(1-this.e*Math.sin(k)),this.alfa*this.e/2),c=2*(Math.atan(this.k*Math.pow(Math.tan(k/2+this.s45),this.alfa)/b)-this.s45),e=-l*this.alfa,f=Math.asin(Math.cos(this.ad)*Math.sin(c)+Math.sin(this.ad)*Math.cos(c)*Math.cos(e)),g=Math.asin(Math.cos(c)*Math.sin(e)/Math.cos(f)),h=this.n*g,i=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(f/2+this.s45),this.n),a.y=i*Math.cos(h)/1,a.x=i*Math.sin(h)/1,this.czech||(a.y*=-1,a.x*=-1),a},c.inverse=function(a){var b,c,d,e,f,g,h,i,j=a.x;a.x=a.y,a.y=j,this.czech||(a.y*=-1,a.x*=-1),g=Math.sqrt(a.x*a.x+a.y*a.y),f=Math.atan2(a.y,a.x),e=f/Math.sin(this.s0),d=2*(Math.atan(Math.pow(this.ro0/g,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),b=Math.asin(Math.cos(this.ad)*Math.sin(d)-Math.sin(this.ad)*Math.cos(d)*Math.cos(e)),c=Math.asin(Math.cos(d)*Math.sin(e)/Math.cos(b)),a.x=this.long0-c/this.alfa,h=b,i=0;var k=0;do a.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(b/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.e/2))-this.s45),Math.abs(h-a.y)<1e-10&&(i=1),h=a.y,k+=1;while(0===i&&k<15);return k>=15?null:a},c.names=["Krovak","krovak"]},{"../common/adjust_lon":5}],49:[function(a,b,c){var d=Math.PI/2,e=Math.PI/4,f=1e-10,g=a("../common/qsfnz"),h=a("../common/adjust_lon");c.S_POLE=1,c.N_POLE=2,c.EQUIT=3,c.OBLIQ=4,c.init=function(){var a=Math.abs(this.lat0);if(Math.abs(a-d)<f?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(a)<f?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var b;switch(this.qp=g(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),b=Math.sin(this.lat0),this.sinb1=g(this.e,b)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*b*b)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},c.forward=function(a){var b,c,i,j,k,l,m,n,o,p,q=a.x,r=a.y;if(q=h(q-this.long0),this.sphere){if(k=Math.sin(r),p=Math.cos(r),i=Math.cos(q),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c=this.mode===this.EQUIT?1+p*i:1+this.sinph0*k+this.cosph0*p*i,c<=f)return null;c=Math.sqrt(2/c),b=c*p*Math.sin(q),c*=this.mode===this.EQUIT?k:this.cosph0*k-this.sinph0*p*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(r+this.phi0)<f)return null;c=e-.5*r,c=2*(this.mode===this.S_POLE?Math.cos(c):Math.sin(c)),b=c*Math.sin(q),c*=i}}else{switch(m=0,n=0,o=0,i=Math.cos(q),j=Math.sin(q),k=Math.sin(r),l=g(this.e,k),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(m=l/this.qp,n=Math.sqrt(1-m*m)),this.mode){case this.OBLIQ:o=1+this.sinb1*m+this.cosb1*n*i;break;case this.EQUIT:o=1+n*i;break;case this.N_POLE:o=d+r,l=this.qp-l;break;case this.S_POLE:o=r-d,l=this.qp+l}if(Math.abs(o)<f)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:o=Math.sqrt(2/o),c=this.mode===this.OBLIQ?this.ymf*o*(this.cosb1*m-this.sinb1*n*i):(o=Math.sqrt(2/(1+n*i)))*m*this.ymf,b=this.xmf*o*n*j;break;case this.N_POLE:case this.S_POLE:l>=0?(b=(o=Math.sqrt(l))*j,c=i*(this.mode===this.S_POLE?o:-o)):b=c=0}}return a.x=this.a*b+this.x0,a.y=this.a*c+this.y0,a},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c,e,g,i,j,k,l=a.x/this.a,m=a.y/this.a;if(this.sphere){var n,o=0,p=0;if(n=Math.sqrt(l*l+m*m),c=.5*n,c>1)return null;switch(c=2*Math.asin(c),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(p=Math.sin(c),o=Math.cos(c)),this.mode){case this.EQUIT:c=Math.abs(n)<=f?0:Math.asin(m*p/n),l*=p,m=o*n;break;case this.OBLIQ:c=Math.abs(n)<=f?this.phi0:Math.asin(o*this.sinph0+m*p*this.cosph0/n),l*=p*this.cosph0,m=(o-Math.sin(c)*this.sinph0)*n;break;case this.N_POLE:m=-m,c=d-c;break;case this.S_POLE:c-=d}b=0!==m||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,m):0}else{if(k=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,m*=this.dd,j=Math.sqrt(l*l+m*m),j<f)return a.x=0,a.y=this.phi0,a;g=2*Math.asin(.5*j/this.rq),e=Math.cos(g),l*=g=Math.sin(g),this.mode===this.OBLIQ?(k=e*this.sinb1+m*g*this.cosb1/j,i=this.qp*k,m=j*this.cosb1*e-m*this.sinb1*g):(k=m*g/j,i=this.qp*k,m=j*e)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(m=-m),i=l*l+m*m,!i)return a.x=0,a.y=this.phi0,a;k=1-i/this.qp,this.mode===this.S_POLE&&(k=-k)}b=Math.atan2(l,m),c=this.authlat(Math.asin(k),this.apa)}return a.x=h(this.long0+b),a.y=c,a},c.P00=.3333333333333333,c.P01=.17222222222222222,c.P02=.10257936507936508,c.P10=.06388888888888888,c.P11=.0664021164021164,c.P20=.016415012942191543,c.authset=function(a){var b,c=[];return c[0]=a*this.P00,b=a*a,c[0]+=b*this.P01,c[1]=b*this.P10,b*=a,c[0]+=b*this.P02,c[1]+=b*this.P11,c[2]=b*this.P20,c},c.authlat=function(a,b){var c=a+a;return a+b[0]*Math.sin(c)+b[1]*Math.sin(c+c)+b[2]*Math.sin(c+c+c)},c.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":5,"../common/qsfnz":20}],50:[function(a,b,c){var d=1e-10,e=a("../common/msfnz"),f=a("../common/tsfnz"),g=Math.PI/2,h=a("../common/sign"),i=a("../common/adjust_lon"),j=a("../common/phi2z");c.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<d)){var a=this.b/this.a;this.e=Math.sqrt(1-a*a);var b=Math.sin(this.lat1),c=Math.cos(this.lat1),g=e(this.e,b,c),h=f(this.e,this.lat1,b),i=Math.sin(this.lat2),j=Math.cos(this.lat2),k=e(this.e,i,j),l=f(this.e,this.lat2,i),m=f(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>d?this.ns=Math.log(g/k)/Math.log(h/l):this.ns=b,isNaN(this.ns)&&(this.ns=b),this.f0=g/(this.ns*Math.pow(h,this.ns)),this.rh=this.a*this.f0*Math.pow(m,this.ns),this.title||(this.title="Lambert Conformal Conic")}},c.forward=function(a){var b=a.x,c=a.y;Math.abs(2*Math.abs(c)-Math.PI)<=d&&(c=h(c)*(g-2*d));var e,j,k=Math.abs(Math.abs(c)-g);if(k>d)e=f(this.e,c,Math.sin(c)),j=this.a*this.f0*Math.pow(e,this.ns);else{if(k=c*this.ns,k<=0)return null;j=0}var l=this.ns*i(b-this.long0);return a.x=this.k0*(j*Math.sin(l))+this.x0,a.y=this.k0*(this.rh-j*Math.cos(l))+this.y0,a},c.inverse=function(a){var b,c,d,e,f,h=(a.x-this.x0)/this.k0,k=this.rh-(a.y-this.y0)/this.k0;this.ns>0?(b=Math.sqrt(h*h+k*k),c=1):(b=-Math.sqrt(h*h+k*k),c=-1);var l=0;if(0!==b&&(l=Math.atan2(c*h,c*k)),0!==b||this.ns>0){if(c=1/this.ns,d=Math.pow(b/(this.a*this.f0),c),e=j(this.e,d),e===-9999)return null}else e=-g;return f=i(l/this.ns+this.long0),a.x=f,a.y=e,a},c.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],51:[function(a,b,c){function d(a){return a}c.init=function(){},c.forward=d,c.inverse=d,c.names=["longlat","identity"]},{}],52:[function(a,b,c){var d=a("../common/msfnz"),e=Math.PI/2,f=1e-10,g=57.29577951308232,h=a("../common/adjust_lon"),i=Math.PI/4,j=a("../common/tsfnz"),k=a("../common/phi2z");c.init=function(){var a=this.b/this.a;this.es=1-a*a,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=d(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},c.forward=function(a){var b=a.x,c=a.y;if(c*g>90&&c*g<-90&&b*g>180&&b*g<-180)return null;var d,k;if(Math.abs(Math.abs(c)-e)<=f)return null;if(this.sphere)d=this.x0+this.a*this.k0*h(b-this.long0),k=this.y0+this.a*this.k0*Math.log(Math.tan(i+.5*c));else{var l=Math.sin(c),m=j(this.e,c,l);d=this.x0+this.a*this.k0*h(b-this.long0),k=this.y0-this.a*this.k0*Math.log(m)}return a.x=d,a.y=k,a},c.inverse=function(a){var b,c,d=a.x-this.x0,f=a.y-this.y0;if(this.sphere)c=e-2*Math.atan(Math.exp(-f/(this.a*this.k0)));else{var g=Math.exp(-f/(this.a*this.k0));if(c=k(this.e,g),c===-9999)return null}return b=h(this.long0+d/(this.a*this.k0)),a.x=b,a.y=c,a},c.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/tsfnz":24}],53:[function(a,b,c){var d=a("../common/adjust_lon");c.init=function(){},c.forward=function(a){var b=a.x,c=a.y,e=d(b-this.long0),f=this.x0+this.a*e,g=this.y0+this.a*Math.log(Math.tan(Math.PI/4+c/2.5))*1.25;return a.x=f,a.y=g,a},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b=d(this.long0+a.x/this.a),c=2.5*(Math.atan(Math.exp(.8*a.y/this.a))-Math.PI/4);return a.x=b,a.y=c,a},c.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":5}],54:[function(a,b,c){var d=a("../common/adjust_lon"),e=1e-10;c.init=function(){},c.forward=function(a){for(var b=a.x,c=a.y,f=d(b-this.long0),g=c,h=Math.PI*Math.sin(c),i=0;!0;i++){var j=-(g+Math.sin(g)-h)/(1+Math.cos(g));if(g+=j,Math.abs(j)<e)break}g/=2,Math.PI/2-Math.abs(c)<e&&(f=0);var k=.900316316158*this.a*f*Math.cos(g)+this.x0,l=1.4142135623731*this.a*Math.sin(g)+this.y0;return a.x=k,a.y=l,a},c.inverse=function(a){var b,c;a.x-=this.x0,a.y-=this.y0,c=a.y/(1.4142135623731*this.a),Math.abs(c)>.999999999999&&(c=.999999999999),b=Math.asin(c);var e=d(this.long0+a.x/(.900316316158*this.a*Math.cos(b)));e<-Math.PI&&(e=-Math.PI),e>Math.PI&&(e=Math.PI),c=(2*b+Math.sin(2*b))/Math.PI,Math.abs(c)>1&&(c=1);var f=Math.asin(c);return a.x=e,a.y=f,a},c.names=["Mollweide","moll"]},{"../common/adjust_lon":5}],55:[function(a,b,c){var d=484813681109536e-20;c.iterations=1,c.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},c.forward=function(a){var b,c=a.x,e=a.y,f=e-this.lat0,g=c-this.long0,h=f/d*1e-5,i=g,j=1,k=0;for(b=1;b<=10;b++)j*=h,k+=this.A[b]*j;var l,m,n=k,o=i,p=1,q=0,r=0,s=0;for(b=1;b<=6;b++)l=p*n-q*o,m=q*n+p*o,p=l,q=m,r=r+this.B_re[b]*p-this.B_im[b]*q,s=s+this.B_im[b]*p+this.B_re[b]*q;return a.x=s*this.a+this.x0,a.y=r*this.a+this.y0,a},c.inverse=function(a){var b,c,e,f=a.x,g=a.y,h=f-this.x0,i=g-this.y0,j=i/this.a,k=h/this.a,l=1,m=0,n=0,o=0;for(b=1;b<=6;b++)c=l*j-m*k,e=m*j+l*k,l=c,m=e,n=n+this.C_re[b]*l-this.C_im[b]*m,o=o+this.C_im[b]*l+this.C_re[b]*m;for(var p=0;p<this.iterations;p++){var q,r,s=n,t=o,u=j,v=k;for(b=2;b<=6;b++)q=s*n-t*o,r=t*n+s*o,s=q,t=r,u+=(b-1)*(this.B_re[b]*s-this.B_im[b]*t),v+=(b-1)*(this.B_im[b]*s+this.B_re[b]*t);s=1,t=0;var w=this.B_re[1],x=this.B_im[1];for(b=2;b<=6;b++)q=s*n-t*o,r=t*n+s*o,s=q,t=r,w+=b*(this.B_re[b]*s-this.B_im[b]*t),x+=b*(this.B_im[b]*s+this.B_re[b]*t);var y=w*w+x*x;n=(u*w+v*x)/y,o=(v*w-u*x)/y}var z=n,A=o,B=1,C=0;for(b=1;b<=9;b++)B*=z,C+=this.D[b]*B;var D=this.lat0+C*d*1e5,E=this.long0+A;return a.x=E,a.y=D,a},c.names=["New_Zealand_Map_Grid","nzmg"]},{}],56:[function(a,b,c){var d=a("../common/tsfnz"),e=a("../common/adjust_lon"),f=a("../common/phi2z"),g=Math.PI/2,h=Math.PI/4,i=1e-10;c.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var a=Math.sin(this.lat0),b=Math.cos(this.lat0),c=this.e*a;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(b,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-c*c);var f=d(this.e,this.lat0,a),g=this.bl/b*Math.sqrt((1-this.es)/(1-c*c));g*g<1&&(g=1);var h,i;if(isNaN(this.longc)){var j=d(this.e,this.lat1,Math.sin(this.lat1)),k=d(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(g+Math.sqrt(g*g-1))*Math.pow(f,this.bl):this.el=(g-Math.sqrt(g*g-1))*Math.pow(f,this.bl);var l=Math.pow(j,this.bl),m=Math.pow(k,this.bl);h=this.el/l,i=.5*(h-1/h);var n=(this.el*this.el-m*l)/(this.el*this.el+m*l),o=(m-l)/(m+l),p=e(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(n*Math.tan(.5*this.bl*p)/o)/this.bl,this.long0=e(this.long0);var q=e(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*q)/i),this.alpha=Math.asin(g*Math.sin(this.gamma0))}else h=this.lat0>=0?g+Math.sqrt(g*g-1):g-Math.sqrt(g*g-1),this.el=h*Math.pow(f,this.bl),i=.5*(h-1/h),this.gamma0=Math.asin(Math.sin(this.alpha)/g),this.long0=this.longc-Math.asin(i*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(g*g-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(g*g-1),Math.cos(this.alpha))},c.forward=function(a){var b,c,f,j=a.x,k=a.y,l=e(j-this.long0);if(Math.abs(Math.abs(k)-g)<=i)f=k>0?-1:1,c=this.al/this.bl*Math.log(Math.tan(h+f*this.gamma0*.5)),b=-1*f*g*this.al/this.bl;else{var m=d(this.e,k,Math.sin(k)),n=this.el/Math.pow(m,this.bl),o=.5*(n-1/n),p=.5*(n+1/n),q=Math.sin(this.bl*l),r=(o*Math.sin(this.gamma0)-q*Math.cos(this.gamma0))/p;c=Math.abs(Math.abs(r)-1)<=i?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-r)/(1+r))/this.bl,b=Math.abs(Math.cos(this.bl*l))<=i?this.al*this.bl*l:this.al*Math.atan2(o*Math.cos(this.gamma0)+q*Math.sin(this.gamma0),Math.cos(this.bl*l))/this.bl}return this.no_rot?(a.x=this.x0+b,a.y=this.y0+c):(b-=this.uc,a.x=this.x0+c*Math.cos(this.alpha)+b*Math.sin(this.alpha),a.y=this.y0+b*Math.cos(this.alpha)-c*Math.sin(this.alpha)),a},c.inverse=function(a){var b,c;this.no_rot?(c=a.y-this.y0,b=a.x-this.x0):(c=(a.x-this.x0)*Math.cos(this.alpha)-(a.y-this.y0)*Math.sin(this.alpha),b=(a.y-this.y0)*Math.cos(this.alpha)+(a.x-this.x0)*Math.sin(this.alpha),b+=this.uc);var d=Math.exp(-1*this.bl*c/this.al),h=.5*(d-1/d),j=.5*(d+1/d),k=Math.sin(this.bl*b/this.al),l=(k*Math.cos(this.gamma0)+h*Math.sin(this.gamma0))/j,m=Math.pow(this.el/Math.sqrt((1+l)/(1-l)),1/this.bl);return Math.abs(l-1)<i?(a.x=this.long0,a.y=g):Math.abs(l+1)<i?(a.x=this.long0,a.y=-1*g):(a.y=f(this.e,m),a.x=e(this.long0-Math.atan2(h*Math.cos(this.gamma0)-k*Math.sin(this.gamma0),Math.cos(this.bl*b/this.al))/this.bl)),a},c.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":5,"../common/phi2z":16,"../common/tsfnz":24}],57:[function(a,b,c){var d=a("../common/e0fn"),e=a("../common/e1fn"),f=a("../common/e2fn"),g=a("../common/e3fn"),h=a("../common/adjust_lon"),i=a("../common/adjust_lat"),j=a("../common/mlfn"),k=1e-10,l=a("../common/gN"),m=20;c.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=d(this.es),this.e1=e(this.es),this.e2=f(this.es),this.e3=g(this.es),this.ml0=this.a*j(this.e0,this.e1,this.e2,this.e3,this.lat0)},c.forward=function(a){var b,c,d,e=a.x,f=a.y,g=h(e-this.long0);if(d=g*Math.sin(f),this.sphere)Math.abs(f)<=k?(b=this.a*g,c=-1*this.a*this.lat0):(b=this.a*Math.sin(d)/Math.tan(f),c=this.a*(i(f-this.lat0)+(1-Math.cos(d))/Math.tan(f)));else if(Math.abs(f)<=k)b=this.a*g,c=-1*this.ml0;else{var m=l(this.a,this.e,Math.sin(f))/Math.tan(f);b=m*Math.sin(d),c=this.a*j(this.e0,this.e1,this.e2,this.e3,f)-this.ml0+m*(1-Math.cos(d))}return a.x=b+this.x0,a.y=c+this.y0,a},c.inverse=function(a){var b,c,d,e,f,g,i,l,n;if(d=a.x-this.x0,e=a.y-this.y0,this.sphere)if(Math.abs(e+this.a*this.lat0)<=k)b=h(d/this.a+this.long0),c=0;else{g=this.lat0+e/this.a,i=d*d/this.a/this.a+g*g,l=g;var o;for(f=m;f;--f)if(o=Math.tan(l),n=-1*(g*(l*o+1)-l-.5*(l*l+i)*o)/((l-g)/o-1),l+=n,Math.abs(n)<=k){c=l;break}b=h(this.long0+Math.asin(d*Math.tan(l)/this.a)/Math.sin(c))}else if(Math.abs(e+this.ml0)<=k)c=0,b=h(this.long0+d/this.a);else{g=(this.ml0+e)/this.a,i=d*d/this.a/this.a+g*g,l=g;var p,q,r,s,t;for(f=m;f;--f)if(t=this.e*Math.sin(l),p=Math.sqrt(1-t*t)*Math.tan(l),q=this.a*j(this.e0,this.e1,this.e2,this.e3,l),r=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),s=q/this.a,n=(g*(p*s+1)-s-.5*p*(s*s+i))/(this.es*Math.sin(2*l)*(s*s+i-2*g*s)/(4*p)+(g-s)*(p*r-2/Math.sin(2*l))-r),l-=n,Math.abs(n)<=k){c=l;break}p=Math.sqrt(1-this.es*Math.pow(Math.sin(c),2))*Math.tan(c),b=h(this.long0+Math.asin(d*p/this.a)/Math.sin(c))}return a.x=b,a.y=c,a},c.names=["Polyconic","poly"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/mlfn":14}],58:[function(a,b,c){var d=a("../common/adjust_lon"),e=a("../common/adjust_lat"),f=a("../common/pj_enfn"),g=20,h=a("../common/pj_mlfn"),i=a("../common/pj_inv_mlfn"),j=Math.PI/2,k=1e-10,l=a("../common/asinz");c.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=f(this.es)},c.forward=function(a){var b,c,e=a.x,f=a.y;if(e=d(e-this.long0),this.sphere){if(this.m)for(var i=this.n*Math.sin(f),j=g;j;--j){var l=(this.m*f+Math.sin(f)-i)/(this.m+Math.cos(f));if(f-=l,Math.abs(l)<k)break}else f=1!==this.n?Math.asin(this.n*Math.sin(f)):f;b=this.a*this.C_x*e*(this.m+Math.cos(f)),c=this.a*this.C_y*f}else{var m=Math.sin(f),n=Math.cos(f);c=this.a*h(f,m,n,this.en),b=this.a*e*n/Math.sqrt(1-this.es*m*m)}return a.x=b,a.y=c,a},c.inverse=function(a){var b,c,f,g;return a.x-=this.x0,f=a.x/this.a,a.y-=this.y0,b=a.y/this.a,this.sphere?(b/=this.C_y,f/=this.C_x*(this.m+Math.cos(b)),this.m?b=l((this.m*b+Math.sin(b))/this.n):1!==this.n&&(b=l(Math.sin(b)/this.n)),f=d(f+this.long0),b=e(b)):(b=i(a.y/this.a,this.es,this.en),g=Math.abs(b),g<j?(g=Math.sin(b),c=this.long0+a.x*Math.sqrt(1-this.es*g*g)/(this.a*Math.cos(b)),f=d(c)):g-k<j&&(f=this.long0)),a.x=f,a.y=b,a},c.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/asinz":6,"../common/pj_enfn":17,"../common/pj_inv_mlfn":18,"../common/pj_mlfn":19}],59:[function(a,b,c){c.init=function(){var a=this.lat0;this.lambda0=this.long0;var b=Math.sin(a),c=this.a,d=this.rf,e=1/d,f=2*e-Math.pow(e,2),g=this.e=Math.sqrt(f);this.R=this.k0*c*Math.sqrt(1-f)/(1-f*Math.pow(b,2)),this.alpha=Math.sqrt(1+f/(1-f)*Math.pow(Math.cos(a),4)),this.b0=Math.asin(b/this.alpha);var h=Math.log(Math.tan(Math.PI/4+this.b0/2)),i=Math.log(Math.tan(Math.PI/4+a/2)),j=Math.log((1+g*b)/(1-g*b));this.K=h-this.alpha*i+this.alpha*g/2*j},c.forward=function(a){var b=Math.log(Math.tan(Math.PI/4-a.y/2)),c=this.e/2*Math.log((1+this.e*Math.sin(a.y))/(1-this.e*Math.sin(a.y))),d=-this.alpha*(b+c)+this.K,e=2*(Math.atan(Math.exp(d))-Math.PI/4),f=this.alpha*(a.x-this.lambda0),g=Math.atan(Math.sin(f)/(Math.sin(this.b0)*Math.tan(e)+Math.cos(this.b0)*Math.cos(f))),h=Math.asin(Math.cos(this.b0)*Math.sin(e)-Math.sin(this.b0)*Math.cos(e)*Math.cos(f));return a.y=this.R/2*Math.log((1+Math.sin(h))/(1-Math.sin(h)))+this.y0,a.x=this.R*g+this.x0,a},c.inverse=function(a){for(var b=a.x-this.x0,c=a.y-this.y0,d=b/this.R,e=2*(Math.atan(Math.exp(c/this.R))-Math.PI/4),f=Math.asin(Math.cos(this.b0)*Math.sin(e)+Math.sin(this.b0)*Math.cos(e)*Math.cos(d)),g=Math.atan(Math.sin(d)/(Math.cos(this.b0)*Math.cos(d)-Math.sin(this.b0)*Math.tan(e))),h=this.lambda0+g/this.alpha,i=0,j=f,k=-1e3,l=0;Math.abs(j-k)>1e-7;){if(++l>20)return;i=1/this.alpha*(Math.log(Math.tan(Math.PI/4+f/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(j))/2)),k=j,j=2*Math.atan(Math.exp(i))-Math.PI/2}return a.x=h,a.y=j,a},c.names=["somerc"]},{}],60:[function(a,b,c){var d=Math.PI/2,e=1e-10,f=a("../common/sign"),g=a("../common/msfnz"),h=a("../common/tsfnz"),i=a("../common/phi2z"),j=a("../common/adjust_lon");c.ssfn_=function(a,b,c){return b*=c,Math.tan(.5*(d+a))*Math.pow((1-b)/(1+b),.5*c)},c.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=e&&(this.k0=.5*(1+f(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=e&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=e&&(this.k0=.5*this.cons*g(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/h(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=g(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-d,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},c.forward=function(a){var b,c,f,g,i,k,l=a.x,m=a.y,n=Math.sin(m),o=Math.cos(m),p=j(l-this.long0);return Math.abs(Math.abs(l-this.long0)-Math.PI)<=e&&Math.abs(m+this.lat0)<=e?(a.x=NaN,a.y=NaN,a):this.sphere?(b=2*this.k0/(1+this.sinlat0*n+this.coslat0*o*Math.cos(p)),a.x=this.a*b*o*Math.sin(p)+this.x0,a.y=this.a*b*(this.coslat0*n-this.sinlat0*o*Math.cos(p))+this.y0,a):(c=2*Math.atan(this.ssfn_(m,n,this.e))-d,g=Math.cos(c),f=Math.sin(c),Math.abs(this.coslat0)<=e?(i=h(this.e,m*this.con,this.con*n),k=2*this.a*this.k0*i/this.cons,a.x=this.x0+k*Math.sin(l-this.long0),a.y=this.y0-this.con*k*Math.cos(l-this.long0),a):(Math.abs(this.sinlat0)<e?(b=2*this.a*this.k0/(1+g*Math.cos(p)),a.y=b*f):(b=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*f+this.cosX0*g*Math.cos(p))),a.y=b*(this.cosX0*f-this.sinX0*g*Math.cos(p))+this.y0),a.x=b*g*Math.sin(p)+this.x0,a))},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c,f,g,h,k=Math.sqrt(a.x*a.x+a.y*a.y);if(this.sphere){var l=2*Math.atan(k/(.5*this.a*this.k0));return b=this.long0,c=this.lat0,k<=e?(a.x=b,a.y=c,a):(c=Math.asin(Math.cos(l)*this.sinlat0+a.y*Math.sin(l)*this.coslat0/k),b=j(Math.abs(this.coslat0)<e?this.lat0>0?this.long0+Math.atan2(a.x,-1*a.y):this.long0+Math.atan2(a.x,a.y):this.long0+Math.atan2(a.x*Math.sin(l),k*this.coslat0*Math.cos(l)-a.y*this.sinlat0*Math.sin(l))),a.x=b,a.y=c,a)}if(Math.abs(this.coslat0)<=e){if(k<=e)return c=this.lat0,b=this.long0,a.x=b,a.y=c,a;a.x*=this.con,a.y*=this.con,f=k*this.cons/(2*this.a*this.k0),c=this.con*i(this.e,f),b=this.con*j(this.con*this.long0+Math.atan2(a.x,-1*a.y))}else g=2*Math.atan(k*this.cosX0/(2*this.a*this.k0*this.ms1)),b=this.long0,k<=e?h=this.X0:(h=Math.asin(Math.cos(g)*this.sinX0+a.y*Math.sin(g)*this.cosX0/k),b=j(this.long0+Math.atan2(a.x*Math.sin(g),k*this.cosX0*Math.cos(g)-a.y*this.sinX0*Math.sin(g)))),c=-1*i(this.e,Math.tan(.5*(d+h)));return a.x=b,a.y=c,a},c.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],61:[function(a,b,c){var d=a("./gauss"),e=a("../common/adjust_lon");c.init=function(){d.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},c.forward=function(a){var b,c,f,g;return a.x=e(a.x-this.long0),d.forward.apply(this,[a]),b=Math.sin(a.y),c=Math.cos(a.y),f=Math.cos(a.x),g=this.k0*this.R2/(1+this.sinc0*b+this.cosc0*c*f),a.x=g*c*Math.sin(a.x),a.y=g*(this.cosc0*b-this.sinc0*c*f),a.x=this.a*a.x+this.x0,a.y=this.a*a.y+this.y0,a},c.inverse=function(a){var b,c,f,g,h;if(a.x=(a.x-this.x0)/this.a,a.y=(a.y-this.y0)/this.a,a.x/=this.k0,a.y/=this.k0,h=Math.sqrt(a.x*a.x+a.y*a.y)){var i=2*Math.atan2(h,this.R2);b=Math.sin(i),c=Math.cos(i),g=Math.asin(c*this.sinc0+a.y*b*this.cosc0/h),f=Math.atan2(a.x*b,h*this.cosc0*c-a.y*this.sinc0*b)}else g=this.phic0,f=0;return a.x=f,a.y=g,d.inverse.apply(this,[a]),a.x=e(a.x+this.long0),a},c.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":5,"./gauss":46}],62:[function(a,b,c){var d=a("../common/e0fn"),e=a("../common/e1fn"),f=a("../common/e2fn"),g=a("../common/e3fn"),h=a("../common/mlfn"),i=a("../common/adjust_lon"),j=Math.PI/2,k=1e-10,l=a("../common/sign"),m=a("../common/asinz");c.init=function(){this.e0=d(this.es),this.e1=e(this.es),this.e2=f(this.es),this.e3=g(this.es),this.ml0=this.a*h(this.e0,this.e1,this.e2,this.e3,this.lat0)},c.forward=function(a){var b,c,d,e=a.x,f=a.y,g=i(e-this.long0),j=Math.sin(f),k=Math.cos(f);if(this.sphere){var l=k*Math.sin(g);if(Math.abs(Math.abs(l)-1)<1e-10)return 93;c=.5*this.a*this.k0*Math.log((1+l)/(1-l)),b=Math.acos(k*Math.cos(g)/Math.sqrt(1-l*l)),f<0&&(b=-b),d=this.a*this.k0*(b-this.lat0)}else{var m=k*g,n=Math.pow(m,2),o=this.ep2*Math.pow(k,2),p=Math.tan(f),q=Math.pow(p,2);b=1-this.es*Math.pow(j,2);var r=this.a/Math.sqrt(b),s=this.a*h(this.e0,this.e1,this.e2,this.e3,f);c=this.k0*r*m*(1+n/6*(1-q+o+n/20*(5-18*q+Math.pow(q,2)+72*o-58*this.ep2)))+this.x0,d=this.k0*(s-this.ml0+r*p*(n*(.5+n/24*(5-q+9*o+4*Math.pow(o,2)+n/30*(61-58*q+Math.pow(q,2)+600*o-330*this.ep2)))))+this.y0}return a.x=c,a.y=d,a},c.inverse=function(a){var b,c,d,e,f,g,h=6;if(this.sphere){var n=Math.exp(a.x/(this.a*this.k0)),o=.5*(n-1/n),p=this.lat0+a.y/(this.a*this.k0),q=Math.cos(p);b=Math.sqrt((1-q*q)/(1+o*o)),f=m(b),p<0&&(f=-f),g=0===o&&0===q?this.long0:i(Math.atan2(o,q)+this.long0)}else{var r=a.x-this.x0,s=a.y-this.y0;for(b=(this.ml0+s/this.k0)/this.a,c=b,e=0;!0&&(d=(b+this.e1*Math.sin(2*c)-this.e2*Math.sin(4*c)+this.e3*Math.sin(6*c))/this.e0-c,c+=d,!(Math.abs(d)<=k));e++)if(e>=h)return 95;if(Math.abs(c)<j){var t=Math.sin(c),u=Math.cos(c),v=Math.tan(c),w=this.ep2*Math.pow(u,2),x=Math.pow(w,2),y=Math.pow(v,2),z=Math.pow(y,2);b=1-this.es*Math.pow(t,2);var A=this.a/Math.sqrt(b),B=A*(1-this.es)/b,C=r/(A*this.k0),D=Math.pow(C,2);f=c-A*v*D/B*(.5-D/24*(5+3*y+10*w-4*x-9*this.ep2-D/30*(61+90*y+298*w+45*z-252*this.ep2-3*x))),g=i(this.long0+C*(1-D/6*(1+2*y+w-D/20*(5-2*w+28*y-3*x+8*this.ep2+24*z)))/u)}else f=j*l(s),g=this.long0}return a.x=g,a.y=f,a},c.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/mlfn":14,"../common/sign":21}],63:[function(a,b,c){var d=.017453292519943295,e=a("./tmerc");c.dependsOn="tmerc",c.init=function(){this.zone&&(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*d,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,e.init.apply(this),this.forward=e.forward,this.inverse=e.inverse)},c.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":62}],64:[function(a,b,c){var d=a("../common/adjust_lon"),e=Math.PI/2,f=1e-10,g=a("../common/asinz");c.init=function(){this.R=this.a},c.forward=function(a){var b,c,h=a.x,i=a.y,j=d(h-this.long0);Math.abs(i)<=f&&(b=this.x0+this.R*j,c=this.y0);var k=g(2*Math.abs(i/Math.PI));(Math.abs(j)<=f||Math.abs(Math.abs(i)-e)<=f)&&(b=this.x0,c=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*k):this.y0+Math.PI*this.R*-Math.tan(.5*k));var l=.5*Math.abs(Math.PI/j-j/Math.PI),m=l*l,n=Math.sin(k),o=Math.cos(k),p=o/(n+o-1),q=p*p,r=p*(2/n-1),s=r*r,t=Math.PI*this.R*(l*(p-s)+Math.sqrt(m*(p-s)*(p-s)-(s+m)*(q-s)))/(s+m);j<0&&(t=-t),b=this.x0+t;var u=m+p;return t=Math.PI*this.R*(r*u-l*Math.sqrt((s+m)*(m+1)-u*u))/(s+m),c=i>=0?this.y0+t:this.y0-t,a.x=b,a.y=c,a},c.inverse=function(a){var b,c,e,g,h,i,j,k,l,m,n,o,p;return a.x-=this.x0,a.y-=this.y0,n=Math.PI*this.R,e=a.x/n,g=a.y/n,h=e*e+g*g,i=-Math.abs(g)*(1+h),j=i-2*g*g+e*e,k=-2*i+1+2*g*g+h*h,p=g*g/k+(2*j*j*j/k/k/k-9*i*j/k/k)/27,l=(i-j*j/3/k)/k,m=2*Math.sqrt(-l/3),n=3*p/l/m,Math.abs(n)>1&&(n=n>=0?1:-1),o=Math.acos(n)/3,c=a.y>=0?(-m*Math.cos(o+Math.PI/3)-j/3/k)*Math.PI:-(-m*Math.cos(o+Math.PI/3)-j/3/k)*Math.PI,b=Math.abs(e)<f?this.long0:d(this.long0+Math.PI*(h-1+Math.sqrt(1+2*(e*e-g*g)+h*h))/2/e),a.x=b,a.y=c,a},c.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":5,"../common/asinz":6}],65:[function(a,b,c){var d=.017453292519943295,e=57.29577951308232,f=1,g=2,h=a("./datum_transform"),i=a("./adjust_axis"),j=a("./Proj"),k=a("./common/toPoint");b.exports=function l(a,b,c){function m(a,b){return(a.datum.datum_type===f||a.datum.datum_type===g)&&"WGS84"!==b.datumCode}var n;return Array.isArray(c)&&(c=k(c)),a.datum&&b.datum&&(m(a,b)||m(b,a))&&(n=new j("WGS84"),l(a,n,c),a=n),"enu"!==a.axis&&i(a,!1,c),"longlat"===a.projName?(c.x*=d,c.y*=d):(a.to_meter&&(c.x*=a.to_meter,c.y*=a.to_meter),a.inverse(c)),a.from_greenwich&&(c.x+=a.from_greenwich),c=h(a.datum,b.datum,c),b.from_greenwich&&(c.x-=b.from_greenwich),"longlat"===b.projName?(c.x*=e,c.y*=e):(b.forward(c),b.to_meter&&(c.x/=b.to_meter,c.y/=b.to_meter)),"enu"!==b.axis&&i(b,!0,c),c}},{"./Proj":2,"./adjust_axis":3,"./common/toPoint":23,"./datum_transform":31}],66:[function(a,b,c){function d(a,b,c){a[b]=c.map(function(a){var b={};return e(a,b),b}).reduce(function(a,b){return j(a,b)},{})}function e(a,b){var c;return Array.isArray(a)?(c=a.shift(),"PARAMETER"===c&&(c=a.shift()),1===a.length?Array.isArray(a[0])?(b[c]={},e(a[0],b[c])):b[c]=a[0]:a.length?"TOWGS84"===c?b[c]=a:(b[c]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(c)>-1?(b[c]={name:a[0].toLowerCase(),convert:a[1]},3===a.length&&(b[c].auth=a[2])):"SPHEROID"===c?(b[c]={name:a[0],a:a[1],rf:a[2]},4===a.length&&(b[c].auth=a[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(c)>-1?(a[0]=["name",a[0]],d(b,c,a)):a.every(function(a){return Array.isArray(a)})?d(b,c,a):e(a,b[c])):b[c]=!0,void 0):void(b[a]=!0)}function f(a,b){var c=b[0],d=b[1];!(c in a)&&d in a&&(a[c]=a[d],3===b.length&&(a[c]=b[2](a[c])))}function g(a){return a*i}function h(a){function b(b){var c=a.to_meter||1;return parseFloat(b,10)*c}"GEOGCS"===a.type?a.projName="longlat":"LOCAL_CS"===a.type?(a.projName="identity",a.local=!0):"object"==typeof a.PROJECTION?a.projName=Object.keys(a.PROJECTION)[0]:a.projName=a.PROJECTION,a.UNIT&&(a.units=a.UNIT.name.toLowerCase(),"metre"===a.units&&(a.units="meter"),a.UNIT.convert&&("GEOGCS"===a.type?a.DATUM&&a.DATUM.SPHEROID&&(a.to_meter=parseFloat(a.UNIT.convert,10)*a.DATUM.SPHEROID.a):a.to_meter=parseFloat(a.UNIT.convert,10))),a.GEOGCS&&(a.GEOGCS.DATUM?a.datumCode=a.GEOGCS.DATUM.name.toLowerCase():a.datumCode=a.GEOGCS.name.toLowerCase(),"d_"===a.datumCode.slice(0,2)&&(a.datumCode=a.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==a.datumCode&&"new_zealand_1949"!==a.datumCode||(a.datumCode="nzgd49"),"wgs_1984"===a.datumCode&&("Mercator_Auxiliary_Sphere"===a.PROJECTION&&(a.sphere=!0),a.datumCode="wgs84"),"_ferro"===a.datumCode.slice(-6)&&(a.datumCode=a.datumCode.slice(0,-6)),"_jakarta"===a.datumCode.slice(-8)&&(a.datumCode=a.datumCode.slice(0,-8)),~a.datumCode.indexOf("belge")&&(a.datumCode="rnb72"),a.GEOGCS.DATUM&&a.GEOGCS.DATUM.SPHEROID&&(a.ellps=a.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===a.ellps.toLowerCase().slice(0,13)&&(a.ellps="intl"),a.a=a.GEOGCS.DATUM.SPHEROID.a,a.rf=parseFloat(a.GEOGCS.DATUM.SPHEROID.rf,10)),~a.datumCode.indexOf("osgb_1936")&&(a.datumCode="osgb36")),a.b&&!isFinite(a.b)&&(a.b=a.a);var c=function(b){return f(a,b)},d=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",g],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",g],["x0","false_easting",b],["y0","false_northing",b],["long0","central_meridian",g],["lat0","latitude_of_origin",g],["lat0","standard_parallel_1",g],["lat1","standard_parallel_1",g],["lat2","standard_parallel_2",g],["alpha","azimuth",g],["srsCode","name"]];d.forEach(c),a.long0||!a.longc||"Albers_Conic_Equal_Area"!==a.projName&&"Lambert_Azimuthal_Equal_Area"!==a.projName||(a.long0=a.longc),a.lat_ts||!a.lat1||"Stereographic_South_Pole"!==a.projName&&"Polar Stereographic (variant B)"!==a.projName||(a.lat0=g(a.lat1>0?90:-90),a.lat_ts=a.lat1)}var i=.017453292519943295,j=a("./extend");b.exports=function(a,b){var c=JSON.parse((","+a).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),d=c.shift(),f=c.shift();c.unshift(["name",f]),c.unshift(["type",d]),c.unshift("output");var g={};return e(c,g),h(g.output),j(b,g.output)}},{"./extend":34}],67:[function(a,b,c){function d(a){return a*(Math.PI/180)}function e(a){return 180*(a/Math.PI)}function f(a){var b,c,e,f,g,i,j,k,l,m=a.lat,n=a.lon,o=6378137,p=.00669438,q=.9996,r=d(m),s=d(n);l=Math.floor((n+180)/6)+1,180===n&&(l=60),m>=56&&m<64&&n>=3&&n<12&&(l=32),m>=72&&m<84&&(n>=0&&n<9?l=31:n>=9&&n<21?l=33:n>=21&&n<33?l=35:n>=33&&n<42&&(l=37)),b=6*(l-1)-180+3,k=d(b),c=p/(1-p),e=o/Math.sqrt(1-p*Math.sin(r)*Math.sin(r)),f=Math.tan(r)*Math.tan(r),g=c*Math.cos(r)*Math.cos(r),i=Math.cos(r)*(s-k),j=o*((1-p/4-3*p*p/64-5*p*p*p/256)*r-(3*p/8+3*p*p/32+45*p*p*p/1024)*Math.sin(2*r)+(15*p*p/256+45*p*p*p/1024)*Math.sin(4*r)-35*p*p*p/3072*Math.sin(6*r));var t=q*e*(i+(1-f+g)*i*i*i/6+(5-18*f+f*f+72*g-58*c)*i*i*i*i*i/120)+5e5,u=q*(j+e*Math.tan(r)*(i*i/2+(5-f+9*g+4*g*g)*i*i*i*i/24+(61-58*f+f*f+600*g-330*c)*i*i*i*i*i*i/720));return m<0&&(u+=1e7),{northing:Math.round(u),easting:Math.round(t),zoneNumber:l,zoneLetter:h(m)}}function g(a){var b=a.northing,c=a.easting,d=a.zoneLetter,f=a.zoneNumber;if(f<0||f>60)return null;var h,i,j,k,l,m,n,o,p,q,r=.9996,s=6378137,t=.00669438,u=(1-Math.sqrt(1-t))/(1+Math.sqrt(1-t)),v=c-5e5,w=b;d<"N"&&(w-=1e7),o=6*(f-1)-180+3,h=t/(1-t),n=w/r,p=n/(s*(1-t/4-3*t*t/64-5*t*t*t/256)),q=p+(3*u/2-27*u*u*u/32)*Math.sin(2*p)+(21*u*u/16-55*u*u*u*u/32)*Math.sin(4*p)+151*u*u*u/96*Math.sin(6*p),i=s/Math.sqrt(1-t*Math.sin(q)*Math.sin(q)),j=Math.tan(q)*Math.tan(q),k=h*Math.cos(q)*Math.cos(q),l=s*(1-t)/Math.pow(1-t*Math.sin(q)*Math.sin(q),1.5),m=v/(i*r);var x=q-i*Math.tan(q)/l*(m*m/2-(5+3*j+10*k-4*k*k-9*h)*m*m*m*m/24+(61+90*j+298*k+45*j*j-252*h-3*k*k)*m*m*m*m*m*m/720);x=e(x);var y=(m-(1+2*j+k)*m*m*m/6+(5-2*k+28*j-3*k*k+8*h+24*j*j)*m*m*m*m*m/120)/Math.cos(q);y=o+e(y);var z;if(a.accuracy){var A=g({northing:a.northing+a.accuracy,easting:a.easting+a.accuracy,zoneLetter:a.zoneLetter,zoneNumber:a.zoneNumber});z={top:A.lat,right:A.lon,bottom:x,left:y}}else z={lat:x,lon:y};return z}function h(a){var b="Z";return 84>=a&&a>=72?b="X":72>a&&a>=64?b="W":64>a&&a>=56?b="V":56>a&&a>=48?b="U":48>a&&a>=40?b="T":40>a&&a>=32?b="S":32>a&&a>=24?b="R":24>a&&a>=16?b="Q":16>a&&a>=8?b="P":8>a&&a>=0?b="N":0>a&&a>=-8?b="M":-8>a&&a>=-16?b="L":-16>a&&a>=-24?b="K":-24>a&&a>=-32?b="J":-32>a&&a>=-40?b="H":-40>a&&a>=-48?b="G":-48>a&&a>=-56?b="F":-56>a&&a>=-64?b="E":-64>a&&a>=-72?b="D":-72>a&&a>=-80&&(b="C"),b}function i(a,b){var c="00000"+a.easting,d="00000"+a.northing;return a.zoneNumber+a.zoneLetter+j(a.easting,a.northing,a.zoneNumber)+c.substr(c.length-5,b)+d.substr(d.length-5,b)}function j(a,b,c){var d=k(c),e=Math.floor(a/1e5),f=Math.floor(b/1e5)%20;return l(e,f,d)}function k(a){var b=a%q;return 0===b&&(b=q),b}function l(a,b,c){var d=c-1,e=r.charCodeAt(d),f=s.charCodeAt(d),g=e+a-1,h=f+b,i=!1;g>x&&(g=g-x+t-1,i=!0),(g===u||e<u&&g>u||(g>u||e<u)&&i)&&g++,(g===v||e<v&&g>v||(g>v||e<v)&&i)&&(g++,g===u&&g++),g>x&&(g=g-x+t-1),h>w?(h=h-w+t-1,i=!0):i=!1,(h===u||f<u&&h>u||(h>u||f<u)&&i)&&h++,(h===v||f<v&&h>v||(h>v||f<v)&&i)&&(h++,h===u&&h++),h>w&&(h=h-w+t-1);var j=String.fromCharCode(g)+String.fromCharCode(h);return j}function m(a){if(a&&0===a.length)throw"MGRSPoint coverting from nothing";for(var b,c=a.length,d=null,e="",f=0;!/[A-Z]/.test(b=a.charAt(f));){if(f>=2)throw"MGRSPoint bad conversion from: "+a;e+=b,f++}var g=parseInt(e,10);if(0===f||f+3>c)throw"MGRSPoint bad conversion from: "+a;var h=a.charAt(f++);if(h<="A"||"B"===h||"Y"===h||h>="Z"||"I"===h||"O"===h)throw"MGRSPoint zone letter "+h+" not handled: "+a;d=a.substring(f,f+=2);for(var i=k(g),j=n(d.charAt(0),i),l=o(d.charAt(1),i);l<p(h);)l+=2e6;var m=c-f;if(m%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+a;var q,r,s,t,u,v=m/2,w=0,x=0;return v>0&&(q=1e5/Math.pow(10,v),r=a.substring(f,f+v),w=parseFloat(r)*q,s=a.substring(f+v),x=parseFloat(s)*q),t=w+j,u=x+l,{easting:t,northing:u,zoneLetter:h,zoneNumber:g,accuracy:q}}function n(a,b){for(var c=r.charCodeAt(b-1),d=1e5,e=!1;c!==a.charCodeAt(0);){if(c++,c===u&&c++,c===v&&c++,c>x){if(e)throw"Bad character: "+a;c=t,e=!0}d+=1e5}return d}function o(a,b){if(a>"V")throw"MGRSPoint given invalid Northing "+a;for(var c=s.charCodeAt(b-1),d=0,e=!1;c!==a.charCodeAt(0);){if(c++,c===u&&c++,c===v&&c++,c>w){if(e)throw"Bad character: "+a;c=t,e=!0}d+=1e5}return d}function p(a){var b;switch(a){case"C":b=11e5;break;case"D":b=2e6;break;case"E":b=28e5;break;case"F":b=37e5;break;case"G":b=46e5;break;case"H":b=55e5;break;case"J":b=64e5;break;case"K":b=73e5;break;case"L":b=82e5;break;case"M":b=91e5;break;case"N":b=0;break;case"P":b=8e5;break;case"Q":b=17e5;break;case"R":b=26e5;break;case"S":b=35e5;break;case"T":b=44e5;break;case"U":b=53e5;break;case"V":b=62e5;break;case"W":b=7e6;break;case"X":b=79e5;break;default:b=-1}if(b>=0)return b;throw"Invalid zone letter: "+a}var q=6,r="AJSAJS",s="AFAFAF",t=65,u=73,v=79,w=86,x=90;c.forward=function(a,b){return b=b||5,i(f({lat:a[1],lon:a[0]}),b)},c.inverse=function(a){var b=g(m(a.toUpperCase()));return b.lat&&b.lon?[b.lon,b.lat,b.lon,b.lat]:[b.left,b.bottom,b.right,b.top]},c.toPoint=function(a){var b=g(m(a.toUpperCase()));return b.lat&&b.lon?[b.lon,b.lat]:[(b.left+b.right)/2,(b.top+b.bottom)/2]}},{}],68:[function(a,b,c){b.exports={_args:[[{name:"proj4",raw:"proj4",rawSpec:"",scope:null,spec:"latest",type:"tag"},"D:\\WorkSpace_Eclipse_32_GitHub_TtwJavaScript\\__Node_Module_Download\\__\\node_modules - proj4"]],_from:"proj4@latest",_id:"proj4@2.3.14",_inCache:!0,_installable:!0,_location:"/proj4",_nodeVersion:"4.2.6",_npmOperationalInternal:{host:"packages-13-west.internal.npmjs.com",tmp:"tmp/proj4-2.3.14.tgz_1457689264880_0.9409773757215589"},_npmUser:{email:"andreas.hocevar@gmail.com",name:"ahocevar"},_npmVersion:"2.14.12",_phantomChildren:{},_requested:{name:"proj4",raw:"proj4",rawSpec:"",scope:null,spec:"latest",type:"tag"},_requiredBy:["#USER"],_resolved:"https://registry.npmjs.org/proj4/-/proj4-2.3.14.tgz",_shasum:"928906144388980c914c5a357fc493aba59a747a",_shrinkwrap:null,_spec:"proj4",_where:"D:\\WorkSpace_Eclipse_32_GitHub_TtwJavaScript\\__Node_Module_Download\\__\\node_modules - proj4",author:"",bugs:{url:"https://github.com/proj4js/proj4js/issues"},contributors:[{email:"madair@dmsolutions.ca",name:"Mike Adair"},{email:"rich@greenwoodmap.com",name:"Richard Greenwood"},{email:"calvin.metcalf@gmail.com",name:"Calvin Metcalf"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],dependencies:{mgrs:"~0.0.2"},description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",devDependencies:{browserify:"~12.0.1",chai:"~1.8.1",curl:"git://github.com/cujojs/curl.git",grunt:"~0.4.2","grunt-browserify":"~4.0.1","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0","grunt-contrib-uglify":"~0.11.1","grunt-mocha-phantomjs":"~0.4.0",istanbul:"~0.2.4",mocha:"~1.17.1",tin:"~0.4.0"},directories:{doc:"docs",test:"test"},dist:{shasum:"928906144388980c914c5a357fc493aba59a747a",tarball:"https://registry.npmjs.org/proj4/-/proj4-2.3.14.tgz"},gitHead:"7619c8a63df1eae5bad0b9ad31ca1d87b0549243",homepage:"https://github.com/proj4js/proj4js#readme",jam:{include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"],main:"dist/proj4.js"},license:"MIT",main:"lib/index.js",maintainers:[{email:"calvin.metcalf@gmail.com",name:"cwmma"},{email:"andreas.hocevar@gmail.com",name:"ahocevar"}],name:"proj4",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},version:"2.3.14"}},{}]},{},[36]);if(window.global=window,window.console){var t=window.console;t.assert=t.assert||{},t.cd=t.cd||{},t.clear=t.clear||{},t.count=t.count||{},t.countReset=t.countReset||{},t.debug=t.debug||{},t.dir=t.dir||{},t.dirxml=t.dirxml||{},t.error=t.error||{},t.group=t.group||{},t.groupCollapsed=t.groupCollapsed||{},t.groupEnd=t.groupEnd||{},t.info=t.info||{},t.log=t.log||{},t.select=t.select||{},t.time=t.time||{},t.timeEnd=t.timeEnd||{},t.timeStamp=t.timeStamp||{},t.trace=t.trace||{},t.warn=t.warn||{}}else{window.console={};var t=window.console;t.assert=t.assert||{},t.cd=t.cd||{},t.clear=t.clear||{},t.count=t.count||{},t.countReset=t.countReset||{},t.debug=t.debug||{},t.dir=t.dir||{},t.dirxml=t.dirxml||{},t.error=t.error||{},t.group=t.group||{},t.groupCollapsed=t.groupCollapsed||{},t.groupEnd=t.groupEnd||{},t.info=t.info||{},t.log=t.log||{},t.select=t.select||{},t.time=t.time||{},t.timeEnd=t.timeEnd||{},t.timeStamp=t.timeStamp||{},t.trace=t.trace||{},t.warn=t.warn||{}}window._$TATIC_CONST_DEBUG=window._$TATIC_CONST_DEBUG||!1,window.TtwLog=window.TtwLog||null,window.TtwPackage=function(){var k="TtwPackage";window.global=window;var g=window,w=window,d=w.document;w._TTW_$TATIC_JS_IMPORT=function(t,e){o=d.createElement("SCRIPT"),o.type="text/javascript",o.async=!1,o.defer=!0,o.src=t,"8"==document.documentMode?o.onreadystatechange=function(){"loaded"==this.readyState&&(e?e():null)}:o.onload=function(t){e?e():null},d.getElementsByTagName("HEAD")[0].appendChild(o)},w._TTW_$TATIC_JS_IMPORT_ASYNC=function(t,e){o=d.createElement("SCRIPT"),o.type="text/javascript",o.async=!0,o.src=t,"8"==document.documentMode?o.onreadystatechange=function(){"loaded"==this.readyState&&(e?e():null)}:o.onload=function(t){e?e():null},d.getElementsByTagName("HEAD")[0].appendChild(o)},w.Lib=w.Lib||{global:w,window:w},w.Lib.Ttw=w.Lib.Ttw||{global:w,window:w},w.Lib.Ttw.CLASS=w.Lib.Ttw.CLASS||{},w.Lib.Ttw.CLASS.DisplayObject=w.Lib.Ttw.CLASS.DisplayObject||{},w.Lib.Ttw.CLASS.Error=w.Lib.Ttw.CLASS.Error||{},w.Lib.Ttw.CLASS.Event=w.Lib.Ttw.CLASS.Event||{},w.Lib.Ttw.CLASS.FN=w.Lib.Ttw.CLASS.FN||{},w.Lib.Ttw.CLASS.Google=w.Lib.Ttw.CLASS.Google||{},w.Lib.Ttw.CLASS.Runner=w.Lib.Ttw.CLASS.Runner||{},w.Lib.Ttw.CLASS.STtw=w.Lib.Ttw.CLASS.STtw||{},w.Lib.Ttw.CLASS.UIComponent=w.Lib.Ttw.CLASS.UIComponent||{},w.Instance=w.Instance||{},w.Instance.Ttw=w.Instance.Ttw||{},w.Instance.Ttw.Google=w.Instance.Ttw.Google||{},w.Instance.Ttw.UIComponent=w.Instance.Ttw.UIComponent||{};var lt=w.Lib.Ttw;if(lt.CONST={ALPHABET_BIG:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ALPHABET_SMALL:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],B_FIRE_FOX:/Firefox/i.test(navigator.userAgent)?!0:!1},window.atob)var _f0=atob,_f1=btoa;else{!function(t){"use strict";var e,n=t.Base64,r="2.1.9";if("undefined"!=typeof module&&module.exports)try{e=require("buffer").Buffer}catch(i){}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=function(t){for(var e={},n=0,r=t.length;r>n;n++)e[t.charAt(n)]=n;return e}(o),c=String.fromCharCode,l=function(t){if(t.length<2){var e=t.charCodeAt(0);return 128>e?t:2048>e?c(192|e>>>6)+c(128|63&e):c(224|e>>>12&15)+c(128|e>>>6&63)+c(128|63&e)}var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return c(240|e>>>18&7)+c(128|e>>>12&63)+c(128|e>>>6&63)+c(128|63&e)},s=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,u=function(t){return t.replace(s,l)},_=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),r=[o.charAt(n>>>18),o.charAt(n>>>12&63),e>=2?"=":o.charAt(n>>>6&63),e>=1?"=":o.charAt(63&n)];return r.join("")},d=t.btoa?function(e){return t.btoa(e)}:function(t){return t.replace(/[\s\S]{1,3}/g,_)},h=e?function(t){return(t.constructor===e.constructor?t:new e(t)).toString("base64")}:function(t){return d(u(t))},T=function(t,e){return e?h(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):h(String(t))},f=function(t){return T(t,!0)},L=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),S=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return c((n>>>10)+55296)+c((1023&n)+56320);case 3:return c((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return c((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},p=function(t){return t.replace(L,S)},w=function(t){var e=t.length,n=e%4,r=(e>0?a[t.charAt(0)]<<18:0)|(e>1?a[t.charAt(1)]<<12:0)|(e>2?a[t.charAt(2)]<<6:0)|(e>3?a[t.charAt(3)]:0),i=[c(r>>>16),c(r>>>8&255),c(255&r)];return i.length-=[0,0,2,1][n],i.join("")},m=t.atob?function(e){return t.atob(e)}:function(t){return t.replace(/[\s\S]{1,4}/g,w)},g=e?function(t){return(t.constructor===e.constructor?t:new e(t,"base64")).toString()}:function(t){return p(m(t))},y=function(t){return g(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},v=function(){var e=t.Base64;return t.Base64=n,e};if(t.Base64={VERSION:r,atob:m,btoa:d,fromBase64:y,toBase64:T,utob:u,encode:T,encodeURI:f,btou:p,decode:y,noConflict:v},"function"==typeof Object.defineProperty){var R=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",R(function(){return y(this)})),Object.defineProperty(String.prototype,"toBase64",R(function(t){return T(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",R(function(){return T(this,!0)}))}}t.Meteor&&(Base64=t.Base64)}(lt);var _f0=lt.Base64.atob,_f1=lt.Base64.btoa}var _ab=function(t,e){for(i=0,iLen=e;i<iLen;++i)t=_f0(t);return t},_ab1=function(t){return _f0(t)};lt.ab=function(t,e){return _ab(t,e)};var _ba=function(t,e){for(i=0,iLen=e;i<iLen;++i)t=_f1(t);return t},_ba1=function(t){return _f1(t)};lt.ba=function(t,e){return _ba(t,e)};var _abt=function(t,e){for(i=0,iLen=e;i<iLen;++i)t=_f0(t).replace(_abbats,"");return t},_abt1=function(t){return t=_f0(t).replace(_abbats,"")};lt.abt=function(t,e){return _abt(t,e)};var _bat=function(t,e){for(i=0,iLen=e;i<iLen;++i){var e=t.length,n=t.substr(0,e/2),r=t.substr(e/2,e);t=n+_abbats+r,t=_f1(t)}return t},_bat1=function(t){var e=t.length,n=t.substr(0,e/2),r=t.substr(e/2,e);return t=n+_abbats+r,t=_f1(t)};lt.bat=function(t,e){return _bat(t,e)};var _abbats="VjJ0V2EySXlSWGxWYTJocVUwaENhRlZ1Y0ZkalZteFlUbFU1VGsxcmIzcFZSbEYzVUZFOVBRPT0=",gabbats=function(){return _abbats},_abt2=function(t){return _abt1(_abt1(t))},_abt3=function(t){return _abt1(_abt2(t))},_abt4=function(t){return _abt1(_abt3(t))},_abt5=function(t){return _abt1(_abt4(t))},_bat2=function(t){return _bat1(_bat1(t))},_bat3=function(t){return _bat1(_bat2(t))},_bat4=function(t){return _bat1(_bat3(t))},_bat5=function(t){return _bat1(_bat4(t))};lt.checkObjKey=function(t,e){return window.TtwLog.log("key : "+e),t[e]?!0:!1},lt.deleteKey=function(t,e){t[e]=null;try{delete t[e]}catch(n){}},lt.eval=function(name){return eval(name)},lt.hasOwnProperty=function(t){return w[t]?!0:!1},lt.getValue__CheckHasOwnProperty=function(t,e,n){return t.hasOwnProperty(e)?t[e]:n},lt.importJS=function(t,e){lt.importJS_Async(t,e,!1)},lt.importJS_Async=function(t,e,n){var r=window,i=r.document,o=i.createElement("SCRIPT");o.type="text/javascript",o.onreadystatechange=o.onload=e?e:null,o.async=n,o.src=t,i.getElementsByTagName("HEAD")[0].appendChild(o)},lt.importJS_Async_False=function(t,e){lt.importJS_Async(t,e,!1)},lt.importJS_Async_True=function(t,e){lt.importJS_Async(t,e,!0)},lt.importJSs=function(t,e){lt.importJSs_Async_False(t,e)},lt.importJSs_Async_False=function(t,e,n){n||(n="_$_DATA_importJSs"),Lib.Ttw[n]={idx:0,data:t,len:t.length,run:function(){var t=Lib.Ttw,e=t._$_DATA_importJSs;t.importJS(e.data[e.idx],function(){++e.idx,e.idx<e.len&&e.run(),e.run=null})}},Lib.Ttw._$_DATA_importJSs.run()},lt.writeJS=function(t,e){e?document.write('<script type="text/javascript" src="'+t+'"onload="javaScript:'+e+'()""onreadystatechange="javascript:'+e+'()"></script>'):document.write('<script type="text/javascript" src="'+t+'"></script>')},lt.writelnJS=function(t,e){e?document.writeln('<script type="text/javascript" src="'+t+'"onload="javaScript:'+e+'()""onreadystatechange="javascript:'+e+'()"></script>'):document.writeln('<script type="text/javascript" src="'+t+'"></script>')},lt.initialize_Console=function(){if(w.console)w.TtwLog=w.console,w.TtwLog.timeStamp=w.TtwLog.log;else{for(this.d=["assert","clear","count","debug","dir","dirxml","error","info","log","profile","profileEnd","time","timeEnd","timeStamp","trace","warn"],this.fDefault=function(){},w.console=w.console||{},this.t=w.console,this.i=0,this.iLen=this.d.length;this.i<this.iLen;++this.i)this.t[this.d[this.i]]=this.t[this.d[this.i]]||this.fDefault;w.TtwLog=this.t}w.TtwLog.logCheckSameObject=function(kT,kCT){var t=eval(kT),ct=eval(kCT);try{}catch(e){}},w.TtwLog.logCommentDash10=function(){},w.TtwLog.logCommentDash30=function(){},w.TtwLog.logCommentDash50=function(){},w.TtwLog.logCommentDash50_5=function(){var t=w.TtwLog.logCommentDash50;t(),t(),t(),t(),t()},w.TtwLog.logCommentDash100=function(){};var _logObjectInformation=function(t,e){var n=[];for(var r in t)n.push(r);n.sort();var i=0,o=n.length;if(window._$TATIC_CONST_DEBUG)for(;o>i;++i)try{"function"==typeof t[n[i]]}catch(a){}else for(;o>i;++i);};w.TtwLog.logObjectInformation=function(t,e){_logObjectInformation(t,e)};var _logObjectInformationExportLogSource=function(t,e,n){n=n||!1;var r=[];for(var i in t)r.push(i);r.sort();var o=0,a=r.length;if(window._$TATIC_CONST_DEBUG)for(;a>o;++o)try{"function"==typeof t[r[o]]||"object"==typeof t[r[o]]}catch(c){}else for(;a>o;++o);};w.TtwLog.logObjectInformationExportLogSource=function(t,e,n){_logObjectInformationExportLogSource(t,e,n)};var _f=function(){if(window.console){var t=window.console;t.assert=t.assert||{},t.cd=t.cd||{},t.clear=t.clear||{},t.count=t.count||{},t.countReset=t.countReset||{},t.debug=t.debug||{},t.dir=t.dir||{},t.dirxml=t.dirxml||{},t.error=t.error||{},t.group=t.group||{},t.groupCollapsed=t.groupCollapsed||{},t.groupEnd=t.groupEnd||{},t.info=t.info||{},t.log=t.log||{},t.select=t.select||{},t.time=t.time||{},t.timeEnd=t.timeEnd||{},t.timeStamp=t.timeStamp||{},t.trace=t.trace||{},t.warn=t.warn||{}}else{window.console={};var t=window.console;t.assert=t.assert||{},t.cd=t.cd||{},t.clear=t.clear||{},t.count=t.count||{},t.countReset=t.countReset||{},t.debug=t.debug||{},t.dir=t.dir||{},t.dirxml=t.dirxml||{},t.error=t.error||{},t.group=t.group||{},t.groupCollapsed=t.groupCollapsed||{},t.groupEnd=t.groupEnd||{},t.info=t.info||{},t.log=t.log||{},t.select=t.select||{},t.time=t.time||{},t.timeEnd=t.timeEnd||{},t.timeStamp=t.timeStamp||{},t.trace=t.trace||{},t.warn=t.warn||{}}},_fInterval=setInterval(_f,5e3),_T_t_w=function(){clearInterval(_fInterval),alert("Destroy Core Functions.")};lt.CONST.ALPHABET_BIG.forEach(function(t){lt["_"+t]=function(){_T_t_w()}}),lt.CONST.ALPHABET_SMALL.forEach(function(t){lt["_"+t]=function(){_T_t_w()}}),w.TtwLog.writeln300=function(){for(var t=0,e=300;e>t;++t);}},lt.initialize_hasOwnProperty=function(){var t="hasOwnProperty",e=lt.hasOwnProperty,n=function(n){try{n[t]=n[t]?n[t]:e}catch(r){window.TtwLog.error(n+" Error : "+r)}};n(w),n(w.document),n(w.document.body)},lt.singleton=function(t,e){var n=lt.eval(t);return n?n:(n=e?lt.eval(e):null)?n:null},w.requestAnimationFrame||(w.requestAnimationFrame=function(){return w.webkitRequestAnimationFrame||w.mozRequestAnimationFrame||w.oRequestAnimationFrame||w.msRequestAnimationFrame||function(t,e){w.setTimeout(t,1e3/60)}}()),lt.CLASS.DisplayObject.MessageBox=function(t){function e(t,e){var n=t.callback;_(!1),t.box.parentNode.removeChild(t.box),f=t.box=null,n&&n(e)}function n(t){if(f){t=t||event;var n=t.which||event.keyCode;return TtwMessageBox.message.keyboard&&((13==n||32==n)&&e(f,!0),27==n&&e(f,!1)),t.preventDefault&&t.preventDefault(),!(t.cancelBubble=!0)}}function r(t,n,r){var i=window.document.createElement("DIV");i.className=" TtwMessageBox_modal_box TtwMessageBox-"+t.type,i.setAttribute("TtwMessageBox",1);var o="";if(t.width&&(i.style.width=t.width),t.height&&(i.style.height=t.height),t.title&&(o+='<div class="TtwMessageBox_popup_title">'+t.title+"</div>"),o+='<div class="TtwMessageBox_popup_text"><span>'+(t.content?"":t.text)+'</span></div><div class="TtwMessageBox_popup_controls">',n&&(o+=l(t.ok||"OK",!0)),r&&(o+=l(t.cancel||"Cancel",!1)),t.buttons)for(var a=0;a<t.buttons.length;a++)o+=l(t.buttons[a],a);if(o+="</div>",i.innerHTML=o,t.content){var c=t.content;"string"==typeof c&&(c=window.document.getElementById(c)),"none"==c.style.display&&(c.style.display=""),i.childNodes[t.title?1:0].appendChild(c)}return i.onclick=function(n){n=n||event;var r=n.target||n.srcElement;if(r.className||(r=r.parentNode),"TtwMessageBox_popup_button"==r.className){var i=r.getAttribute("result");i="true"==i||("false"==i?!1:i),e(t,i)}},t.box=i,(n||r)&&(f=t),i}function i(t,e,i){var o=t.tagName?t:r(t,e,i);t.hidden||_(!0),window.document.body.appendChild(o);var a=t.left||Math.abs(Math.floor(((w.innerWidth||window.document.documentElement.offsetWidth)-o.offsetWidth)/2)),c=t.top||Math.abs(Math.floor(((w.innerHeight||window.document.documentElement.offsetHeight)-o.offsetHeight)/2));return"top"==t.position?o.style.top="-3px":o.style.top=c+"px",o.style.left=a+"px",o.onkeydown=n,o.focus(),t.hidden&&TtwMessageBox.modalbox.hide(o),o}function o(t){return i(t,!0,!1)}function a(t,e,n){return"object"!=typeof t&&("function"==typeof e&&(n=e,e=""),t={text:t,type:e,callback:n}),t}function c(t){return i(t)}function l(t,e){return"<div class='TtwMessageBox_popup_button' result='"+e+"' ><div>"+t+"</div></div>"}function s(t){return i(t,!0,!0)}function u(t){h.area||(h.area=window.document.createElement("DIV"),h.area.className="TtwMessageBox_message_area",h.area.style[h.position]="5px",window.document.body.appendChild(h.area)),h.hide(t.id);var e=window.document.createElement("DIV");return e.innerHTML="<div>"+t.text+"</div>",e.className="TtwMessageBox-info TtwMessageBox-"+t.type,e.onclick=function(){h.hide(t.id),t=null},"bottom"==h.position&&h.area.firstChild?h.area.insertBefore(e,h.area.firstChild):h.area.appendChild(e),t.expire>0&&(h.timers[t.id]=w.setTimeout(function(){h.hide(t.id)},t.expire)),h.pull[t.id]=e,e=null,t.id}function _(t){_.cover||(_.cover=window.document.createElement("DIV"),_.cover.onkeydown=n,_.cover.className="TtwMessageBox_modal_cover",window.document.body.appendChild(_.cover));window.document.body.scrollHeight;_.cover.style.display=t?"inline-block":"none"}function d(t,e,n,r){return"object"!=typeof t&&(t={text:t,type:e,expire:n,id:r}),t.id=t.id||h.uid(),t.expire=t.expire||h.expire,t}t.instanceKey=t.instanceKey||"window.Instance.Ttw.TtwMessageBox";var h=lt.singleton(t.instanceKey,null);if(h)return h;w.Instance.Ttw.TtwMessageBox=w.Instance.Ttw.TtwMessageBox?w.Instance.Ttw.TtwMessageBox:{};var T=w.Instance.Ttw.TtwMessageBox;T.instanceKey=t.instanceKey,T["package"]="window.Lib.Ttw.CLASS.DisplayObject.MessageBox";var f=null;window.document.attachEvent?window.document.attachEvent("onkeydown",n):window.document.addEventListener("keydown",n,!0),T.alert=function(){var t=a.apply(this,arguments);return t.type=t.type||"confirm",o(t)},T.confirm=function(){var t=a.apply(this,arguments);return t.type=t.type||"alert",s(t)},T.modalbox=function(){var t=a.apply(this,arguments);return t.type=t.type||"alert",c(t)},T.modalbox.hide=function(t){for(;t&&t.getAttribute&&!t.getAttribute("TtwMessageBox");)t=t.parentNode;t&&(t.parentNode.removeChild(t),_(!1))};var h=T.message=function(t,e,n,r){t=d.apply(this,arguments),t.type=t.type||"info";var i=t.type.split("-")[0];switch(i){case"alert":return o(t);case"confirm":return s(t);case"modalbox":return c(t);default:return u(t)}};return h.expire=4e3,h.keyboard=!0,h.position="top",h.pull={},h.timers={},h.seed=(new Date).valueOf(),h.hide=function(t){var e=h.pull[t];if(e&&e.parentNode){w.setTimeout(function(){e.parentNode.removeChild(e),e=null},2e3),e.className+=" hidden",h.timers[t]&&w.clearTimeout(h.timers[t]);try{delete h.pull[t]}catch(n){}}},h.hideAll=function(){for(var t in h.pull)h.hide(t)},h.uid=function(){return h.seed++},T},lt.CLASS.Error.Error=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.Error";var e=w.Lib.Ttw.singleton(t.instanceKey,null);return e?e:(this["package"]="window.Lib.Ttw.CLASS.Error.Error",this)},lt.CLASS.Event.Event=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.Event";var e=w.Lib.Ttw.singleton(t.instanceKey,null);return e?e:(this["package"]="window.Lib.Ttw.CLASS.Event.Event",this.ACTIVATE="activate",this.ADDED="added",this.ADDED_TO_STAGE="addedToStage",this.CANCEL="cancel",this.CHANGE="change",this.CHANNEL_MESSAGE="channelMessage",this.CHANNEL_STATE="channelState",this.CLEAR="clear",this.CLOSE="close",this.CLOSING="closing",this.COMPLETE="complete",this.CONNECT="connect",this.CONTEXT3D_CREATE="context3DCreate",this.COPY="copy",this.CUT="cut",this.DEACTIVATE="deactivate",this.DISPLAYING="displaying",this.ENTER_FRAME="enterFrame",this.EXIT_FRAME="exitFrame",this.EXITING="exiting",this.FRAME_CONSTRUCTED="frameConstructed",this.FRAME_LABEL="frameLabel",this.FULLSCREEN="fullScreen",this.HTML_BOUNDS_CHANGE="htmlBoundsChange",this.HTML_DOM_INITIALIZE="htmlDOMInitialize",this.HTML_RENDER="htmlRender",this.ID3="id3",this.INIT="init",this.LOCATION_CHANGE="locationChange",this.MOUSE_LEAVE="mouseLeave",this.NETWORK_CHANGE="networkChange",this.OPEN="open",this.PASTE="paste",this.PREPARING="preparing",this.REMOVED="removed",this.REMOVED_FROM_STAGE="removedFromStage",this.RENDER="render",this.RESIZE="resize",this.SCROLL="scroll",this.SELECT="select",this.SELECT_ALL="selectAll",this.SOUND_COMPLETE="soundComplete",this.STANDARD_ERROR_CLOSE="standardErrorClose",this.STANDARD_INPUT_CLOSE="standardInputClose",this.STANDARD_OUTPUT_CLOSE="standardOutputClose",this.SUSPEND="suspend",this.TAB_CHILDREN_CHANGE="tabChildrenChange",this.TAB_ENABLED_CHANGE="tabEnabledChange",this.TAB_INDEX_CHANGE="tabIndexChange",this.TEXT_INTERACTION_MODE_CHANGE="textInteractionModeChange",this.TEXTURE_READY="textureReady",this.UNLOAD="unload",this.USER_IDLE="userIdle",this.USER_PRESENT="userPresent",this.VIDEO_FRAME="videoFrame",this.WORKER_STATE="workerState",this)},lt.CLASS.Event.EventMouse=function(t){function e(t){return t.detail*=-1}function n(t){return t.wheelDelta}this.instanceKey=t.instanceKey||"window.Lib.Ttw.EventMouse";var r=lt.singleton(t.instanceKey,null);return r?r:(this["package"]="window.Lib.Ttw.CLASS.Event.EventMouse",this.CLICK="click",this.CONTEXT_MENU="contextMenu",this.DOUBLE_CLICK="doubleClick",this.MIDDLE_CLICK="middleClick",this.MIDDLE_MOUSE_DOWN="middleMouseDown",this.MIDDLE_MOUSE_UP="middleMouseUp",this.MOUSE_DOWN="mouseDown",this.MOUSE_MOVE="mouseMove",this.MOUSE_OUT="mouseOut",this.MOUSE_OVER="mouseOver",this.MOUSE_UP="mouseUp",this.MOUSE_WHEEL=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",this.RELEASE_OUTSIDE="releaseOutside",this.RIGHT_CLICK="rightClick",this.RIGHT_MOUSE_DOWN="rightMouseDown",this.RIGHT_MOUSE_UP="rightMouseUp",this.ROLL_OUT="rollOut",this.ROLL_OVER="rollOver",this.getWheelDelta=function(){},this.getWheelDelta=lt.CONST.B_FIRE_FOX?e:n,this)},lt.CLASS.Event.EventKeyboard=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.EventKeyboard";var e=lt.singleton(t.instanceKey,null);return e?e:(this["package"]="window.Lib.Ttw.CLASS.Event.EventKeyboard",w.TtwLog.timeStamp("-------[ S ] - "+this["package"]+"():"+this["package"]),this.KEY_DOWN="keyDown",this.KEY_UP="keyUp",this)},lt.CLASS.FN.Array=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnArray";var e=lt.singleton(t.instanceKey,null);return e?e:(this["package"]="window.Lib.Ttw.CLASS.FN.Array",this.getEqualValue=function(t,e){for(var n=0,r=t.length;r>n;++n)if(t[n]==e)return e;return null},this.getEqualValue_Boolean=function(t,e){for(var n=0,r=t.length;r>n;++n)if(t[n]==e)return!0;return!1},this.getEqualValue_Index=function(t,e){for(var n=0,r=t.length;r>n;++n)if(t[n]==e)return n;return-1},this.getEqualValueAndIndex=function(t,e){for(var n=0,r=t.length;r>n;++n)if(t[n]==e)return{idx:n,value:e};return null},this)},lt.CLASS.FN.BitmpData=function(){},lt.CLASS.FN.Common=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnCommon";var e=lt.singleton(t.instanceKey,null);if(e)return e;this["package"]="window.Lib.Ttw.CLASS.FN.Common",this.runFuncParamLength={0:function(t,e){return t[e]()},1:function(t,e,n){return t[e](n[0])},2:function(t,e,n){return t[e](n[0],n[1])},3:function(t,e,n){return t[e](n[0],n[1],n[2])},4:function(t,e,n){return t[e](n[0],n[1],n[2],n[3])},5:function(t,e,n){return t[e](n[0],n[1],n[2],n[3],n[4])},6:function(t,e,n){return t[e](n[0],n[1],n[2],n[3],n[4],n[5])},7:function(t,e,n){return t[e](n[0],n[1],n[2],n[3],n[4],n[5],n[6])},8:function(t,e,n){return t[e](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7])},9:function(t,e,n){return t[e](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},10:function(t,e,n){return t[e](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9])},length:11};var n=function(t,e){for(var n=STtwUtilCommon.destroyKey,r=t.length,i=0,o=e;o>i;++i){var a=i+o;t[a]?(t[i]=t[a],n(t,a)):(t[i]=null,n(t,i))}return t.length=r-o,t};this.argumentsShift__Count=function(t,e){return n.apply(null,arguments)},this.argumentsShift_1=function(t){return STtwUtilCommon.argumentsShift__Count(t,1)};var r=function(t){var e=console,n={k:t};return STtwUtilObject.copyObjectRef(n,window.TtwLog),n.clear=function(t){e.clear()},n.count=function(t){e.count()},n.debug=function(t){e.debug("[ "+n.k+" ]",t)},n.dir=function(t){e.dir("[ "+n.k+" ]",t)},n.dirxml=function(t){e.dirxml("[ "+n.k+" ]",t)},n.error=function(t){e.error("[ "+n.k+" ]",t)},n.dirxml=function(t){e.dirxml("[ "+n.k+" ]",t)},n.info=function(t){e.info("[ "+n.k+" ]",t)},n.log=function(t){e.log("[ "+n.k+" ]",t)},n.profile=function(t){e.profile("[ "+n.k+" ]",t)},n.profileEnd=function(t){e.profileEnd("[ "+n.k+" ]",t)},n.time=function(t){e.time("[ "+n.k+" ]",t)},n.timeStamp=function(t){e.timeStamp("[ "+n.k+" ]",t)},n.trace=function(t){e.trace("[ "+n.k+" ]",t)},n.warn=function(t){e.warn("[ "+n.k+" ]",t)},n};return this.create_Console=function(t){return r(t)},this.destroyKey=function(t,e){t[e]=null;try{delete t[e]}catch(n){}},this.destroyKeys=function(t,e){for(var n=this.destroyKey,r=0,i=e.length;i>r;++r)n(t,e[r])},this.destroyObj=function(t){var e=this.destroyKey;for(var n in t)t[n]=null,e(t,n)},this.eval=function(t){return lt.eval(t)},this.newWindowOpen=function(t,e,n,r){t=t?t:"",e=e?e:"",r=r?!0:!1,w.open(t,e,n,r)},this.getID=function(t){return w.document.getElementById(t)},this.getDocumentHeight=function(){var t=window.document;return t.height?t.height:t.documentElement.clientHeight},this.getDocumentWidth=function(){var t=window.document;return t.width?t.width:t.documentElement.clientWidth},this.getID=function(t){return w.document.getElementById(t)},this},lt.CLASS.FN.CustomEvent=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnCustomEvent";var e=lt.singleton(t.instanceKey,null);if(e)return e;this["package"]="window.Lib.Ttw.CLASS.FN.CustomEvent";var n=function(t,e,n){window.TtwLog.info(t),window.TtwLog.info("evtType : "+e),window.TtwLog.info("evtParam : "+n),t.dispatchEvent(new CustomEvent(e,{detail:n}))};this.dispatchCustomEvent=function(t,e,r){n(t,e,r)};var r=function(t,e){window.TtwLog.info(t),window.TtwLog.info("evtType : "+e),t.dispatchEvent(new Event(e))};return this.dispatchEvent=function(t,e){r(t,e)},this},lt.CLASS.FN.Date=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnDate";var e=lt.singleton(t.instanceKey,null);return e?e:(this["package"]="window.Lib.Ttw.CLASS.FN.Date",this.getDate__Date=function(){var t=new Date;return{year:parseInt(t.getFullYear()),month:parseInt(t.getMonth())+1,date:parseInt(t.getDate())}},this.getDate__Date_Array=function(){var t=new Date;return[parseInt(t.getFullYear()),parseInt(t.getMonth())+1,parseInt(t.getDate())]},this.getDate__Date_Light=function(){var t=new Date;return{y:parseInt(t.getFullYear()),m:parseInt(t.getMonth())+1,d:parseInt(t.getDate())}},this.getDate__Milliseconds=function(){var t=new Date;return{year:parseInt(t.getFullYear()),month:parseInt(t.getMonth())+1,date:parseInt(t.getDate()),hour:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),milliseconds:t.getMilliseconds()}},this.getDate__Milliseconds_Array=function(){var t=new Date;return[parseInt(t.getFullYear()),parseInt(t.getMonth())+1,parseInt(t.getDate()),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]},this.getDate__Milliseconds_Light=function(){var t=new Date;return{y:parseInt(t.getFullYear()),m:parseInt(t.getMonth())+1,d:parseInt(t.getDate()),ho:t.getHours(),mi:t.getMinutes(),se:t.getSeconds(),mil:t.getMilliseconds()}},this.getDate__Seconds=function(){var t=new Date;return{year:parseInt(t.getFullYear()),month:parseInt(t.getMonth())+1,date:parseInt(t.getDate()),hour:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds()}},this.getDate__Seconds_Array=function(){var t=new Date;return[parseInt(t.getFullYear()),parseInt(t.getMonth())+1,parseInt(t.getDate()),t.getHours(),t.getMinutes(),t.getSeconds()]},void(this.getDate__Seconds_Light=function(){var t=new Date;return{y:parseInt(t.getFullYear()),m:parseInt(t.getMonth())+1,d:parseInt(t.getDate()),ho:t.getHours(),mi:t.getMinutes(),se:t.getSeconds()}}))},lt.CLASS.FN.DisObj=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnDisObj";var e=lt.singleton(t.instanceKey,null);if(e)return e;this["package"]="window.Lib.Ttw.CLASS.FN.DisObj";var n=function(){var t=STtwUtilDisObj.mouseDisable__ID,e=STtwUtilDisObj.mouseEnable__ID;t("div_0__Background"),e("div_0__NObject_Application"),t("div_0__UI_Component_Fixed"),t("div_0__UI_Component_Panel"),t("div_0__Top"),t("div_0__Top_modal")};this.initialize_DisObjRecognition__Set_Basic=function(){n()};var r=function(t){try{var e=t.getAttribute("style");e=e.replace(";pointer-events: all;",""),e=e.replace(";pointer-events: auto;",""),e=e.replace(";pointer-events: none;",""),t.setAttribute("style",e+";pointer-events: none;")}catch(n){t.setAttribute("style",";pointer-events: none;")}};this.mouseDisable=r,this.mouseDisable__ID=function(t){r(window.document.getElementById(t))};var i=function(t){try{var e=t.getAttribute("style");e=e.replace(";pointer-events: all;","").replace(";pointer-events: auto;","").replace(";pointer-events: none;",""),t.setAttribute("style",e+";pointer-events: auto;")}catch(n){t.setAttribute("style",";pointer-events: auto;")}};return this.mouseEnable=i,this.mouseEnable__ID=function(t){i(window.document.getElementById(t))},this.switch_CSS_Display=function(t){""==this.getDisplay(t)?this.setDisplay_None(t):"none"==this.getDisplay(t)&&this.setDisplay_Null(t)},this.setBottom_Percent=function(t,e){t.style.bottom=e+"%"},this.setDisplay_Block=function(t){this.setDisplay(t,"block")},this.setDisplay_Inline=function(t){this.setDisplay(t,"inline")},this.setDisplay_Inherit=function(t){this.setDisplay(t,"inherit")},this.setDisplay_None=function(t){this.setDisplay(t,"none")},this.setDisplay_Null=function(t){this.setDisplay(t,"")},this.setHeight_Percent=function(t,e){t.style.height=e+"%"},this.setLeft_Percent=function(t,e){t.style.left=e+"%"},this.setRight_Percent=function(t,e){t.style.right=e+"%"},this.setSize_Percent100=function(t){var e=window.Lib.Ttw.fnDisObj;e.setHeight_Percent(t,100),e.setWidth_Percent(t,100)},this.setSizeFromScrollSize=function(t){t.height=t.scrollHeight,t.width=t.scrollWidth},this.setTop_Percent=function(t,e){t.style.top=e+"%"},this.setVisiblity_Collapse=function(t){this.setVisiblity(t,"collapse")},this.setVisiblity_Hidden=function(t){this.setVisiblity(t,"hidden")},this.setVisiblity_Inherit=function(t){this.setVisiblity(t,"inherit")},this.setVisiblity_Null=function(t){this.setVisiblity(t,"")},this.setVisiblity_Visible=function(t){this.setVisiblity(t,"visible")},this.setWidth_Percent=function(t,e){t.style.width=e+"%"},this.getBottom=function(t){return w.parseFloat(t.style.bottom.replace("px",""))},this.setBottom=function(t,e){t.style.bottom=e+"px"},this.getDisplay=function(t){return t.style.display},this.setDisplay=function(t,e){t.style.display=e},this.getHeight=function(t){return w.parseFloat(t.style.height.replace("px",""))},this.setHeight=function(t,e){t.style.height=e+"px"},this.getLeft=function(t){return w.parseFloat(t.style.left.replace("px",""))},this.setLeft=function(t,e){t.style.left=e+"px"},this.getRight=function(t){return w.parseFloat(t.style.right.replace("px",""))},this.setRight=function(t,e){t.style.right=e+"px"},this.getTop=function(t){return w.parseFloat(t.style.top.replace("px",""))},this.setTop=function(t,e){t.style.top=e+"px"},this.getVisiblity=function(t){return t.style.visiblity},this.setVisiblity=function(t,e){t.style.visiblity=e},this.getWidth=function(t){return w.parseFloat(t.style.width.replace("px",""))},this.setWidth=function(t,e){t.style.width=e+"px"},this.getX=function(t){return w.parseFloat(t.style.paddingLeft.replace("px",""))},this.setX=function(t,e){t.style.paddingLeft=e+"px"},this.getY=function(t){return w.parseFloat(t.style.paddingTop.replace("px",""))},this.setY=function(t,e){t.style.paddingTop=e+"px"},this},lt.CLASS.FN.DisObjContainer=function(){},lt.CLASS.FN.Draw=function(){},lt.CLASS.FN.Effect=function(){},lt.CLASS.FN.Event=function(t){},lt.CLASS.FN.EventKeyboard=function(t){},lt.CLASS.FN.EventMouse=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnEventMouse",this["package"]="window.Lib.Ttw.CLASS.FN.EventMouse"},lt.CLASS.FN.File=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnFile";var e=lt.singleton(t.instanceKey,null);if(e)return e;this["package"]="window.Lib.Ttw.CLASS.FN.File";var n=function(t,e){return new Blob([s(t)],d(e))},r=function(t,e){return new Blob([u(t)],d(e))},i=function(t,e,r){var i=window.document.getElementById(r);i.href=URL.createObjectURL(n(e)),i.download=t,i.click()},o=function(t,e,n){var i=window.document.getElementById(n);i.href=URL.createObjectURL(r(e)),i.download=t,i.click()},a=function(t){var e=new Blob([t],{type:"text/plain"});window.open(URL.createObjectURL(e))},c=function(t){window.open("data:text/json;charset=utf-8,"+s(t))},l=function(t){window.open("data:text/json;charset=utf-8,"+u(t))},s=function(t){return"string"==typeof t?t:JSON.stringify(t)},u=function(t){return"string"==typeof t?JSON.stringify(JSON.parse(t),null,"	"):JSON.stringify(t,null,"	")},_=function(t){return t||"text/plain"},d=function(t){return{type:_(t)}};return this.export_A__JSONToFile=function(t,e,n){i(t,e,n)},this.export_A__JSONToFile__Arrange=function(t,e,n){o(t,e,n)},this.export_W_Open__JSONToFile=a,this.export_W_Open__JSONObjToFile=c,this.export_W_Open__JSONObjToFile__Arrange=l,this},lt.CLASS.FN.Flash=function(t){},lt.CLASS.FN.Geometry=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnGeom";var e=lt.singleton(t.instanceKey,null);return e?e:(this["package"]="window.Lib.Ttw.CLASS.FN.Geometry",this.checkContains__RP=function(t,e,n,r,i,o){return i>t&&n>i&&o>e&&r>o?!0:!1},this.checkContains__RR=function(t,e,n,r,i,o,a,c){var l=this.checkContains__RP;return 4==l(t,e,n,r,i,o)+l(t,e,n,r,i,c)+l(t,e,n,r,a,o)+l(t,e,n,r,a,c)?!0:!1},this.checkContains__RR_Both=function(t,e,n,r,i,o,a,c){var l=this.checkContains__RP;return 4==l(t,e,n,r,i,o)+l(t,e,n,r,i,c)+l(t,e,n,r,a,o)+l(t,e,n,r,a,c)?!0:4==l(i,o,a,c,t,e)+l(i,o,a,c,t,r)+l(i,o,a,c,n,e)+l(i,o,a,c,n,r)?!0:!1},this.checkContainsEqual__RP=function(t,e,n,r,i,o){return i>=t&&n>=i&&o>=e&&r>=o?!0:!1},this.checkContainsEqual__RR=function(t,e,n,r,i,o,a,c){var l=this.checkContainsEqual__RP;return 4==l(t,e,n,r,i,o)+l(t,e,n,r,i,c)+l(t,e,n,r,a,o)+l(t,e,n,r,a,c)?!0:!1},this.checkContainsEqual__RR_Both=function(t,e,n,r,i,o,a,c){var l=this.checkContainsEqual__RP;return 4==l(t,e,n,r,i,o)+l(t,e,n,r,i,c)+l(t,e,n,r,a,o)+l(t,e,n,r,a,c)?!0:4==l(i,o,a,c,t,e)+l(i,o,a,c,t,r)+l(i,o,a,c,n,o)+l(i,o,a,c,n,r)?!0:!1},this.checkDisjoint__RP=function(t,e,n,r,i,o){return i>=t&&n>=i&&o>=e&&r>=o?!1:!0},this.checkDisjoint__RR=function(t,e,n,r,i,o,a,c){var l=this.checkContains__RP,s=l(t,e,n,r,i,o)+l(t,e,n,r,i,c)+l(t,e,n,r,a,o)+l(t,e,n,r,a,c);return s?!1:!0},this.checkEqual__RP=function(t,e,n,r,i,o){return t==i&&e==o?!0:n==i&&r==o?!0:!1},this.checkEqual__RR=function(t,e,n,r,i,o,a,c){return t==i&&e==o&&n==a&&r==c?!0:!1},this.checkIntersect__RP=function(t,e,n,r,i,o){},this.checkIntersect__RR=function(t,e,n,r,i,o,a,c){},this.checkOverlaps__RP=function(t,e,n,r,i,o){return i>=t&&n>=i&&o>=e&&r>=o?!0:!1},this.checkOverlaps__RR=function(t,e,n,r,i,o,a,c){var l=this.checkOverlaps__RP;return l(t,e,n,r,i,o)?!0:l(t,e,n,r,i,c)?!0:l(t,e,n,r,a,o)?!0:l(t,e,n,r,a,c)?!0:!1},this.checkTouch__RP=function(t,e,n,r,i,o){},this.checkTouch__RR=function(t,e,n,r,i,o,a,c){},this.checkOverlaps__RR_Both=function(t,e,n,r,i,o,a,c){var l=this.checkOverlaps__RP;return l(t,e,n,r,i,o)?!0:l(t,e,n,r,i,c)?!0:l(t,e,n,r,a,o)?!0:l(t,e,n,r,a,c)?!0:this.checkOverlaps__RR(i,o,a,c,t,e,n,r)},this.checkTouch__RP=function(t,e,n,r,i,o){},this.checkTouch__RR=function(t,e,n,r,i,o,a,c){},void(this.getMinMaxXY=function(t,e,n,r){var i=[];return t>n?(i[0]=n,i[2]=t):(i[0]=t,i[2]=n),e>r?(i[1]=r,i[3]=e):(i[1]=e,i[3]=r),i}))},lt.CLASS.FN.HTML=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnHTML";var e=lt.singleton(t.instanceKey,null);if(e)return e;var n=this;this["package"]="window.Lib.Ttw.CLASS.FN.HTML",this.sJSControllerNameForHTMLElement="js";var r=function(t){var e=t.getElementsByTagName("import-html"),r=e.length;if(r)for(var i,o,a,c=STtwUtilTemplateHTML.replaceHTMLJS__URLToEl_Return,l=STtwUtilTemplateHTML.replaceHTMLJSCSS__URLToEl_Return,l=STtwUtilTemplateHTML.replaceHTML__URLToEl,s=0;r>s;++s){a=e[0];var u=a.parentElement,_=a.getAttribute("url_js"),d=a.getAttribute("url_css");i=d?l(a.innerText,_,d,u,a):c(a.innerText,_,u,a),o=i[0],o[n.sJSControllerNameForHTMLElement]=i[1],o.setAttribute("class",a.getAttribute("class")+" import-html"),o.__isImportTag=1,a.innerHTML=null,a=null}return t};this.importHTML=function(t){return r(t)};var i=function(t){return r(window.document.getElementById(t))};this.importHTML__ElID=function(t){return i(t)};var o=function(t){var e=t.getElementsByTagName("import-html"),r=e.length;if(r){for(var i,a,c,l=STtwUtilTemplateHTML.replaceHTMLJS__URLToEl_Return,s=STtwUtilTemplateHTML.replaceHTMLJSCSS__URLToEl_Return,u=0;r>u;++u){c=e[0],p=c.parentElement;var _=c.getAttribute("url_js"),d=c.getAttribute("url_css");i=d?s(c.innerText,_,d,p,c):l(c.innerText,_,p,c),a=i[0],a[n.sJSControllerNameForHTMLElement]=i[1],a.setAttribute("class",c.getAttribute("class")+" import-html"),a.__isImportTag=1,c.innerHTML=null,c=null}o(t)}return t};this.importHTML_Recursion=function(t){return o(t)};var a=function(t){return o(window.document.getElementById(t))};this.importHTML__ELID_Recursion=function(t){return a(t)};var c=function(t){t.__originalInnerHTML||(t.__originalInnerHTML=t.innerHTML);for(var e,n=t.innerHTML,r=t.getElementsByTagName("include-html"),i=0,o=r.length;o>i;++i)e=r[i],n=n.replace("<include-html>"+e.innerText+"</include-html>",STtwUtilXMLHttpReqGet.reqSyncReturnResponstText__Cache(e.innerText));return t.innerHTML=n,t};this.includeHTML=function(t){return c(t)};var l=function(t){return c(window.document.getElementById(t))};this.includeHTML__ElID=function(t){return l(t)};var s=function(t){t.__originalInnerHTML||(t.__originalInnerHTML=t.innerHTML);var e=t.innerHTML,n=t.getElementsByTagName("include-html"),r=n.length;if(r){for(var i,o=0;r>o;++o)i=n[o],e=e.replace("<include-html>"+i.innerText+"</include-html>",STtwUtilXMLHttpReqGet.reqSyncReturnResponstText__Cache(i.innerText));t.innerHTML=e,s(t)}return t};this.includeHTML_Recursion=function(t){return s(t)};var u=function(t){return s(window.document.getElementById(t))};this.includeHTML__ELID_Recursion=function(t){return u(t)};var _=function(t){var e=t.getElementsByTagName("replace-html"),r=e.length;if(r)for(var i,o,a,c=(STtwUtilTemplateHTML.replaceHTMLJS__URLToEl_Return,STtwUtilTemplateHTML.replaceHTMLJSCSS__URLToEl_Return,Lib.Ttw.eval),l=0;r>l;++l){a=e[0];a.parentElement;i=c(a.innerText+"()"),o=i[0],o[n.sJSControllerNameForHTMLElement]=i[1],o.setAttribute("class",a.getAttribute("class")+" import-html"),o.__isReplaceTag=1,a.innerHTML=null,a=null}return t};this.replaceHTML=function(t){return _(t)};var d=function(t){return _(window.document.getElementById(t))};this.replaceHTML__ElID=function(t){return d(t)};var h=function(t){var e=t.getElementsByTagName("replace-html"),r=e.length;if(r){for(var i,o,a,c=(STtwUtilTemplateHTML.replaceHTMLJS__URLToEl_Return,STtwUtilTemplateHTML.replaceHTMLJSCSS__URLToEl_Return,Lib.Ttw.eval),l=0;r>l;++l)a=e[0],p=a.parentElement,i=c(a.innerText+"()"),o=i[0],o[n.sJSControllerNameForHTMLElement]=i[1],a.parentElement.replaceChild(o,a),o.setAttribute("class",a.getAttribute("class")+" import-html"),o.__isReplaceTag=1,a.innerHTML=null,a=null;h(t)}return t};this.replaceHTML_Recursion=function(t){return h(t)};var T=function(t){return h(window.document.getElementById(t))};this.replaceHTML__ELID_Recursion=function(t){return T(t)}},lt.CLASS.FN.Math=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnMath";var e=lt.singleton(t.instanceKey,null);return e?e:(this["package"]="window.Lib.Ttw.CLASS.FN.Math",this._aUniqueIDs=[],this.ceil=function(t,e){return e=e||1,Math.ceil(t/e)*e},this.floor=function(t,e){return e=e||1,Math.floor(t/e)*e},this.isUnique=function(t){var e;for(e in this._aUniqueIDs)if(this._aUniqueIDs[e]==t)return!1;return!0},this.random=function(t,e,n){if(e=e||0,n=n||1,t>e){var r=t;t=e,e=r}var i=e-t+1*n,o=Math.random()*i;return o+=t,this.floor(o,n)},this.round=function(t,e){return e=e||1,Math.round(t/e)*e},void(this.getUnique=function(){null==this._aUniqueIDs&&(this._aUniqueIDs=[]);for(var t=new Date,e=t.getTime();!this.isUnique(e);)e+=this.random(t.getTime(),2*t.getTime());return this._aUniqueIDs.push(e),e}))},lt.CLASS.FN.Matrix=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnMatrix";var e=lt.singleton(t.instanceKey,null);return e?e:void(this["package"]="window.Lib.Ttw.CLASS.FN.Matrix")},lt.CLASS.FN.JSON=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnJSON";var e=lt.singleton(t.instanceKey,null);if(e)return e;this["package"]="window.Lib.Ttw.fnJSON";var n=function(t){try{return JSON.stringify(t,Object.keys(t).sort())}catch(e){window.TtwLog.error("Object 속성의 값이 JSON에 위배됩니다.")}};this.sort_properties__Object__returnString=function(t){return n(t)},this.sort_properties__Object__returnObject=function(t){return JSON.parse(n(t))},this.sort_properties__JSONObject__returnString=function(t){return n(JSON.parse(t))},this.sort_properties__JSONObject__returnObject=function(t){return JSON.parse(n(JSON.parse(t)))};var r=function(t){for(var e="["+n(t[0]),r=1,i=t.length;i>r;++r)e+=","+n(t[r]);return e};this.sort_properties__Array__returnString=function(t){return r(t)},this.sort_properties__Array__returnObject=function(t){return JSON.parse(r(t))},this.sort_properties__JSONArray__returnString=function(t){return r(JSON.parse(t))},this.sort_properties__JSONArray__returnObject=function(t){return JSON.parse(r(JSON.parse(t)))}},lt.CLASS.FN.Object=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnObject";var e=lt.singleton(t.instanceKey,null);if(e)return e;this["package"]="window.Lib.Ttw.fnObject",this.copyObjectRef=function(t,e){for(var n in e)t[n]=e[n]},this.deepExtend=function(){if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];var t,e,n,r,i,o=arguments[0],a=Array.prototype.slice.call(arguments,1);return a.forEach(function(a){if("object"==typeof a)for(t in a)n=o[t],e=a[t],e!==o&&("object"==typeof e&&null!==e?e instanceof Buffer?(i=new Buffer(e.length),e.copy(i),o[t]=i):e instanceof Date?o[t]=new Date(e.getTime()):e instanceof RegExp?o[t]=new RegExp(e):"object"==typeof n&&null!==n?(r=Array.isArray(e)?Array.isArray(n)?n:[]:Array.isArray(n)?{}:n,o[t]=STtwUtilObject.deepExtend(r,e)):(r=Array.isArray(e)?[]:{},o[t]=STtwUtilObject.deepExtend(r,e)):o[t]=e)}),o};var n=function(t,e){var n,r=[];for(var i in t)n=t[i],n==e&&r.push(i)};this.searchSameObject=function(t,e){n(t,e)};var r=function(t,e){var n,r=[];for(var i in t){n=t[i];for(var o in e)try{n==e[o]&&r.push([i,o])}catch(a){}}};this.searchSameProperties=function(t,e){r(t,e)};var i=function(t,e){var n;if(t[e])return t[e];if(e.indexOf(".")>-1){var r=e.split("."),i=t[r[0]];if(void 0==i)return null;for(var o=1,a=r.length;a>o;++o)i=i[r[o]];return n=i}return t[e]};this.getValueFromKey_dotKeyRef=function(t,e){return i(t,e)}},lt.CLASS.FN.String=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnString";var e=lt.singleton(t.instanceKey,null);if(e)return e;this["package"]="window.Lib.Ttw.fnString";var n=function(t,e){for(var n,r=STtwUtilObject.getValueFromKey_dotKeyRef,i="",o=c(t),a=0,l=e.length;l>a;++a){n=e[a];for(var s,u=t,_=0,d=o.length;d>_;++_)s=r(n,o[_]),void 0!=s&&(u=u.replace("{{"+o[_]+"}}",s));i+=u}return i};this.applyStrFromArray=function(t,e){return n(t,e)};var r=function(t,e){for(var n,r=STtwUtilObject.getValueFromKey_dotKeyRef,i="",o=c(t),a=0,l=e.length;l>a;++a){n=e[a];for(var s,u=t,_=0,d=o.length;d>_;++_)s=r(n,o[_]),void 0!=s&&(u=u.replace("{{"+o[_]+"}}",s));i+=u}return i};this.applyStrFromArray__NV_NA=function(t,e){return r(t,e)};var i=function(t,e){for(var n,r=STtwUtilObject.getValueFromKey_dotKeyRef,i="",o=c(t),a=t,l=0,s=o.length;s>l;++l)n=r(e,o[l]),void 0!=n&&(a=a.replace("{{"+o[l]+"}}",n));return i+=a};this.applyStrFromObj=function(t,e){return i(t,e)};var o=function(t,e){for(var n,r=STtwUtilObject.getValueFromKey_dotKeyRef,i="",o=c(t),a=t,l=0,s=o.length;s>l;++l)n=r(e,o[l]),void 0!=n&&(a=a.replace("{{"+o[l]+"}}",n));return i+=a};this.applyStrFromObj__NV_NA=function(t,e){return o(t,e)};var a=function(t){var e=t.s.indexOf("{{"),n=t.s.indexOf("}}"),r=t.s.slice(e,n+2);return t.s=t.s.replace(r,""),r.replace("{{","").replace("}}","")},c=function(t){for(var e=[],n={s:t};n.s.indexOf("{{")>-1;)e.push(a(n));return e};this.extraction_applyStr=function(t){return c(t)};var l=function(t,e){for(var n,r=STtwUtilObject.getValueFromKey_dotKeyRef,i="",o=h(t),a=0,c=e.length;c>a;++a){n=e[a];for(var l,s=t,u=0,_=o.length;_>u;++u)l=r(n,o[u]),void 0!=l&&(s=s.replace("{{"+o[u]+"}}",l));i+=s}return i};this.applyBraceStrFromArray=function(t,e){return l(t,e)};var s=function(t,e){for(var n,r=STtwUtilObject.getValueFromKey_dotKeyRef,i="",o=h(t),a=0,c=e.length;c>a;++a){n=e[a];for(var l,s=t,u=0,_=o.length;_>u;++u)l=r(n,o[u]),void 0!=l&&(s=s.replace("{{"+o[u]+"}}",l));i+=s}return i};this.applyBraceStrFromArray__NV_NA=function(t,e){return s(t,e)};var u=function(t,e){for(var n,r=STtwUtilObject.getValueFromKey_dotKeyRef,i="",o=h(t),a=t,c=0,l=o.length;l>c;++c)n=r(e,o[c]),void 0!=n&&(a=a.replace("{{"+o[c]+"}}",n));return i+=a};this.applyBraceStrFromObj=function(t,e){return u(t,e)};var _=function(t,e){for(var n,r=STtwUtilObject.getValueFromKey_dotKeyRef,i="",o=h(t),a=t,c=0,l=o.length;l>c;++c)n=r(e,o[c]),void 0!=n&&(a=a.replace("{{"+o[c]+"}}",n));return i+=a};this.applyBraceStrFromObj__NV_NA=function(t,e){return _(t,e)};var d=function(t){var e=t.s.indexOf("{{"),n=t.s.indexOf("}}"),r=t.s.slice(e,n+2);return t.s=t.s.replace(r,""),r.replace("{{","").replace("}}","")},h=function(t){for(var e=[],n={s:t};n.s.indexOf("{{")>-1;)e.push(d(n));return e};this.extraction_applyBraceStr=function(t){return h(t)};var T=function(t,e){for(var n,r=STtwUtilObject.getValueFromKey_dotKeyRef,i="",o=m(t),a=0,c=e.length;c>a;++a){n=e[a];for(var l,s=t,u=0,_=o.length;_>u;++u)l=r(n,o[u]),void 0!=l&&(s=s.replace("[["+o[u]+"]]",l));i+=s}return i};this.applyBracketsStrFromArray=function(t,e){return T(t,e)};var f=function(t,e){for(var n,r=STtwUtilObject.getValueFromKey_dotKeyRef,i="",o=m(t),a=0,c=e.length;c>a;++a){n=e[a];for(var l,s=t,u=0,_=o.length;_>u;++u)l=r(n,o[u]),void 0!=l&&(s=s.replace("[["+o[u]+"]]",l));i+=s}return i};this.applyBracketsStrFromArray__NV_NA=function(t,e){return f(t,e)};var L=function(t,e){for(var n,r=STtwUtilObject.getValueFromKey_dotKeyRef,i="",o=m(t),a=t,c=0,l=o.length;l>c;++c)n=r(e,o[c]),void 0!=n&&(a=a.replace("[["+o[c]+"]]",n));return i+=a};this.applyBracketsStrFromObj=function(t,e){return L(t,e)};var S=function(t,e){for(var n,r=STtwUtilObject.getValueFromKey_dotKeyRef,i="",o=m(t),a=t,c=0,l=o.length;l>c;++c)n=r(e,o[c]),void 0!=n&&(a=a.replace("[["+o[c]+"]]",n));return i+=a};this.applyBracketsStrFromObj__NV_NA=function(t,e){return S(t,e)};var p=function(t,e){var n=S,r=p;if(-1!=t.outerHTML.indexOf("{{")){var i,o=t.children,a=o.length;if(a)for(var c,l=0;a>l;++l)c=o[l],c.__isImportTag?-1!=c.outerHTML.indexOf("{{")&&(c=c.getElementsByClassName("import-html").length?r(c,e):r(c,e),window.TtwLog.error("undefined This Element's value - "+c.outerHTML)):-1!=c.outerHTML.indexOf("{{")&&(c=c.getElementsByClassName("import-html").length?r(c,e):r(c,e));else i=n(t.outerHTML,e),i&&(t.outerHTML=i)}return t};this.applyBracketsStrFromObj__NV_NA__El_Children=function(t,e){return p(t,e)};var w=function(t){var e=t.s.indexOf("[["),n=t.s.indexOf("]]"),r=t.s.slice(e,n+2);return t.s=t.s.replace(r,""),r.replace("[[","").replace("]]","")},m=function(t){for(var e=[],n={s:t};n.s.indexOf("[[")>-1;)e.push(w(n));return e};this.extraction_applyBracketsStr=function(t){return m(t)};var g=function(t,e){for(var n,r=STtwUtilObject.getValueFromKey_dotKeyRef,i="",o=H(t),a=0,c=e.length;c>a;++a){n=e[a];for(var l,s=t,u=0,_=o.length;_>u;++u)l=r(n,o[u]),void 0!=l&&(s=s.replace("(("+o[u]+"))",l));i+=s}return i};this.applyParenthesesStrFromArray=function(t,e){return g(t,e)};var y=function(t,e){for(var n,r=STtwUtilObject.getValueFromKey_dotKeyRef,i="",o=H(t),a=0,c=e.length;c>a;++a){n=e[a];for(var l,s=t,u=0,_=o.length;_>u;++u)l=r(n,o[u]),void 0!=l&&(s=s.replace("(("+o[u]+"))",l));i+=s}return i};this.applyParenthesesStrFromArray__NV_NA=function(t,e){return y(t,e)};var v=function(t,e){var n=STtwUtilObject.getValueFromKey_dotKeyRef,r="",i=H(t),o=i.length;if(o){for(var a,c=t,l=0;o>l;++l)a=n(e,i[l]),void 0!=a&&(c=c.replace("(("+i[l]+"))",a));return r+=c}return null};this.applyParenthesesStrFromObj=function(t,e){return v(t,e)};var R=function(t,e){var n=STtwUtilObject.getValueFromKey_dotKeyRef,r="",i=H(t),o=i.length;if(o){for(var a,c=t,l=0;o>l;++l)a=n(e,i[l]),void 0!=a&&(c=c.replace("(("+i[l]+"))",a));return r+=c}return null};this.applyParenthesesStrFromObj__NV_NA=function(t,e){return R(t,e)};var M=function(t,e){for(var n,r=STtwUtilObject.getValueFromKey_dotKeyRef,i=H(t.innerHTML),o=0,a=i.length;a>o;++o)n=r(e,i[o]),void 0!=n&&(t.innerHTML=t.innerHTML.replace("(("+i[o]+"))",n))};this.applyParenthesesStrFromObj__NV_NA__El=function(t,e){return M(t,e)};var E=function(t,e){var n=R,r=E;if(-1!=t.outerHTML.indexOf("((")){var i,o=t.children,a=o.length;if(a)for(var c,l=0;a>l;++l)c=o[l],c.__isImportTag?-1!=c.outerHTML.indexOf("((")&&(c=c.getElementsByClassName("import-html").length?r(c,e):r(c,e),window.TtwLog.error("undefined This Element's label - "+c.outerHTML)):-1!=c.outerHTML.indexOf("((")&&(c=c.getElementsByClassName("import-html").length?r(c,e):r(c,e));else i=n(t.outerHTML,e),i&&(t.outerHTML=i)}return t};this.applyParenthesesStrFromObj__NV_NA__El_Children=function(t,e){return E(t,e)};var C=function(t){var e=t.s.indexOf("(("),n=t.s.indexOf("))"),r=t.s.slice(e,n+2);return t.s=t.s.replace(r,""),r.replace("((","").replace("))","")},H=function(t){for(var e=[],n={s:t};n.s.indexOf("((")>-1;)e.push(C(n));return e};this.extraction_applyParenthesesStr=function(t){return H(t)};var b=function(t){var e=t.s.indexOf("<include-html>"),n=t.s.indexOf("</include-html>"),r=t.s.slice(e,n+15);return t.s=t.s.replace(r,""),r.replace("<include-html>","").replace("</include-html>","")},U=function(t){for(var e=[],n={s:t};n.s.indexOf("<include-html>")>-1;)e.push(b(n));return e};this.extraction_applyHTMLStr=function(t){return U(t)};var A=function(t){var e=U(t),n=e.length;if(n){for(var r,i=t,o=0;n>o;++o)r=e[o],i=i.replace("<include-html>"+r+"</include-html>",STtwUtilXMLHttpReqGet.reqSyncReturnResponstText__Cache(r));return i}return t};this.includeHTML=function(t){return A(t)};var D=function(t){var e=U(t),n=e.length;if(n){for(var r,i=t,o=0;n>o;++o)r=e[o],i=i.replace("<include-html>"+r+"</include-html>",STtwUtilXMLHttpReqGet.reqSyncReturnResponstText__Cache(r));return i=D(i)}return t};this.includeHTML_Recursion=function(t){return D(t)}},lt.CLASS.FN.TemplateHTML=function(d){this.instanceKey=d.instanceKey||"window.Lib.Ttw.fnTemplateHTML";var t=lt.singleton(d.instanceKey,null);if(t)return t;this["package"]="window.Lib.Ttw.CLASS.FN.TemplateHTML";var _dictionary__addCSS={},_dictionary__addHTML={},_dictionary__addJS={},_tempDOM_DIV__Sync=window.document.createElement("DIV"),_tempDOM_TABLE__Sync=window.document.createElement("TABLE"),_tempDOM_TBODY__Sync=window.document.createElement("TBODY"),_tempDOM_THEAD__Sync=window.document.createElement("THEAD"),_tempDOM_UL__Sync=window.document.createElement("UL"),_regExp_newline0=/\n/gi,_regExp_space0=/\ /gi,_regExp_tab0=/\t/gi,_addCache=function(t,e,n){t[e]=n},_checkCache=function(t,e){return t[e]?!0:!1},_checkCache__Alert=function(t,e,n){var r=_checkCache(t,e,n);return r&&alert(n+" Cache - "+e+" is "+r),r},_addCSSText=function(t,e){var n=_createHTML_STYLE(t);n.__style__dynamic=1,e.appendChild(n)};this.addCSSText=function(t,e){return _addCSSText(t,e)};var _addCSSText_name=function(t,e,n){var r=_createHTML_STYLE(t);r.__style__dynamic=n,e.appendChild(r)};this.addCSSText_name=function(t,e,n){return _addCSSText_name(t,e,n)};var _removeAllStyleElements=function(t){for(var e,n=t.children,r=0,i=n.length;i>r;++r)e=n[r],"STYLE"==e.tagName&&(e.innerText="",t.removeChild(e))};this.removeAllStyleElements=function(t){_removeAllStyleElements(t)};var _removeAllStyleElements_name=function(t,e){for(var n,r=[],i=t.children,o=0,a=i.length;a>o;++o){n=i[o];var c;try{c=n.__style__dynamic}catch(l){}c&&"STYLE"==n.tagName&&-1!=c.indexOf(e)&&r.push(n)}for(o=0,a=r.length;a>o;++o)r[o].innerText="",t.removeChild(r[o])};this.removeAllStyleElements_name=function(t,e){_removeAllStyleElements_name(t,e)};var _removeAllStyleElements__style_dynamic=function(t){for(var e,n=t.children,i=0,o=n.length;o>i;++i){e=n[i];var a;try{a=e.__style__dynamic}catch(c){}a&&"STYLE"==e.tagName&&e.haswOwnProperty("__style_dynamic_")&&r.push(e)}for(i=0,o=r.length;o>i;++i)r[i].innerText="",t.removeChild(r[i])};this.removeAllStyleElements__style_dynamic=function(t){_removeAllStyleElements__style_dynamic(t)};var _removeStyleElement=function(t,e){for(var n,r=t.children,i=0,o=r.length;o>i;++i){n=r[i];var a;try{a=n.__style__dynamic}catch(c){}if(a&&"STYLE"==n.tagName&&e==a)return n.innerText="",t.removeChild(n)}};this.removeStyleElement=function(t,e){return _removeStyleElement(t,e)};var addCSS__URLToHead=function(t){try{window.document.head.appendChild(arguments.callee.owner.createCSS_LINK(t))}catch(e){window.document.getElementsByTagName("head")[0].appendChild(arguments.callee.owner.createCSS_LINK(t))}},addHTML__URLToEl=function(t,e){var n=arguments.callee.owner.createHTML(reqSyncReturnHTMLText(t));return n.__URL_HTML=t.replace(_regExp_newline0,"").replace(_regExp_space0,"").replace(_regExp_tab0,""),e.appendChild(n),STtwUtilDisObj.mouseEnable(n),n},addHTML__URLToEl_Cache=function(t,e){STtwUtilTemplateHTML.checkCache_HTML(t)||_addCache(_dictionary__addHTML,t,reqSyncReturnHTMLText(t));var n=arguments.callee.owner.createHTML(_dictionary__addHTML[t]);return n.__URL_HTML=t.replace(_regExp_newline0,"").replace(_regExp_space0,"").replace(_regExp_tab0,""),e.appendChild(n),STtwUtilDisObj.mouseEnable(n),n},addHTML__URLToElID=function(t,e){return addHTML__URLToEl(t,window.document.getElementById(e))},addHTML__URLToElID_Cache=function(t,e){return addHTML__URLToEl_Cache(t,window.document.getElementById(e))};this.addHTMLJS__URL=function(t,e,n){var r=addHTML__URLToElID(t,n);return STtwUtilTemplateHTML.addJS__URL(e),r},this.addHTMLJS__URL_Cache=function(t,e,n){var r=addHTML__URLToElID_Cache(t,n);return STtwUtilTemplateHTML.addJS__URL_Cache(e),r},this.addHTMLJS__URL_Return=function(t,e,n){var r=addHTML__URLToElID(t,n),i=STtwUtilTemplateHTML.addJS__URL(e,r);return[r,i]},this.addHTMLJS__URL_Return_Cache=function(t,e,n){var r=addHTML__URLToElID_Cache(t,n),i=STtwUtilTemplateHTML.addJS__URL_Cache(e,r);return[r,i]},this.addHTMLJS__URLToEl_Return=function(t,e,n){var r=addHTML__URLToEl(t,n),i=STtwUtilTemplateHTML.addJS__URL(e,r);return[r,i]},this.addHTMLJS__URLToEl_Return_Cache=function(t,e,n){var r=addHTML__URLToEl_Cache(t,targetElementID),i=STtwUtilTemplateHTML.addJS__URL_Cache(e,r);return[r,i]},this.addHTMLJSCSS__URL=function(t,e,n,r){addCSS__URLToHead(n);var i=addHTML__URLToElID(t,r);return STtwUtilTemplateHTML.addJS__URL(e,i),i},this.addHTMLJSCSS__URL_Cache=function(t,e,n,r){addCSS__URLToHead(n);var i=addHTML__URLToElID_Cache(t,r);return STtwUtilTemplateHTML.addJS__URL_Cache(e,i),i},this.addHTMLJSCSS__URL_Return=function(t,e,n,r){addCSS__URLToHead(n);var i=addHTML__URLToElID(t,r),o=STtwUtilTemplateHTML.addJS__URL(e,i);return[i,o]},this.addHTMLJSCSS__URL_Return_Cache=function(t,e,n,r){addCSS__URLToHead(n);var i=addHTML__URLToElID_Cache(t,r),o=STtwUtilTemplateHTML.addJS__URL_Cache(e,i);return[i,o]},this.addHTMLJSCSS__URLToEl_Return=function(t,e,n,r){addCSS__URLToHead(n);var i=addHTML__URLToEl(t,r),o=STtwUtilTemplateHTML.addJS__URL(e,i);return[i,o]},this.addHTMLJSCSS__URLToEl_Return_Cache=function(t,e,n,r){addCSS__URLToHead(n);var i=addHTML__URLToEl_Cache(t,r),o=STtwUtilTemplateHTML.addJS__URL_Cache(e,i);return[i,o]},this.addHTMLJSCSS__URLFileNM=function(t,e,n,r,i){var o=addHTML__URLToElID(t+e+".html",i);return STtwUtilTemplateHTML.addJS__URL(t+n+".js",o),addCSS__URLToHead(t+r+".css"),o},this.addHTMLJSCSS__URLFileNM_Cache=function(t,e,n,r,i){var o=addHTML__URLToElID_Cache(t+e+".html",i);return STtwUtilTemplateHTML.addJS__URL_Cache(t+n+".js",o),addCSS__URLToHead(t+r+".css"),o},this.addHTMLJSCSS__URLFileNM_Return=function(t,e,n,r,i){var o=addHTML__URLToElID(t+e+".html",i),a=STtwUtilTemplateHTML.addJS__URL(t+n+".js",o);return addCSS__URLToHead(t+r+".css"),[o,a]},this.addHTMLJSCSS__URLFileNM_Return_Cache=function(t,e,n,r,i){var o=addHTML__URLToElID_Cache(t+e+".html",i),a=STtwUtilTemplateHTML.addJS__URL_Cache(t+n+".js",o);return addCSS__URLToHead(t+r+".css"),[o,a]},this.addJS__URL=function(t){return _addJS__URL.apply(null,arguments)},this.addJS__URL.__JSS={};var _addJS__URL_Cache=function(url){if(STtwUtilTemplateHTML.checkCache_JS(url)){var d=_dictionary__addJS[url];return"function"==typeof d?arguments[1]?o.apply(null,arguments):o():eval(d)}var s=reqSyncJS(url),o=eval(s);return"function"==typeof o?(_addCache(_dictionary__addJS,url,o),arguments[1]?o.apply(null,arguments):o()):(_addCache(_dictionary__addJS,url,s),o)};this.addJS__URL_Cache=function(t){return _addJS__URL_Cache.apply(null,arguments)};var replaceHTML__URLToEl=function(t,e,n){var r=arguments.callee.owner.createHTML(reqSyncReturnHTMLText(t));return r.__URL_HTML=t.replace(_regExp_newline0,"").replace(_regExp_space0,"").replace(_regExp_tab0,""),e.replaceChild(r,n),STtwUtilDisObj.mouseEnable(r),r},replaceHTML__URLToEl_Cache=function(t,e,n){STtwUtilTemplateHTML.checkCache_HTML(t)||_addCache(_dictionary__addHTML,t,reqSyncReturnHTMLText(t));var r=arguments.callee.owner.createHTML(_dictionary__addHTML[t]);return r.__URL_HTML=t.replace(_regExp_newline0,"").replace(_regExp_space0,"").replace(_regExp_tab0,""),e.replaceChild(r,n),STtwUtilDisObj.mouseEnable(r),r},replaceHTML__URLToElID=function(t,e,n){return replaceHTML__URLToEl(t,window.document.getElementById(e),window.document.getElementById(n))},replaceHTML__URLToElID_Cache=function(t,e,n){return replaceHTML__URLToEl_Cache(t,window.document.getElementById(e),window.document.getElementById(n))};this.replaceHTMLJS__URL_Return=function(t,e,n){var r=replaceHTML__URLToElID(t,parentElementID,n),i=STtwUtilTemplateHTML.addJS__URL(e,r);return[r,i]},this.replaceHTMLJS__URL_Return_Cache=function(t,e,n){var r=replaceHTML__URLToElID_Cache(t,parentElementID,n),i=STtwUtilTemplateHTML.addJS__URL_Cache(e,r);return[r,i]},this.replaceHTMLJS__URLToEl_Return=function(t,e,n,r){var i=replaceHTML__URLToEl(t,n,r),o=STtwUtilTemplateHTML.addJS__URL(e,i);return[i,o]},this.replaceHTMLJS__URLToEl_Return_Cache=function(t,e,n){var r=replaceHTML__URLToEl_Cache(t,parentElement,targetElementID),i=STtwUtilTemplateHTML.addJS__URL_Cache(e,r);return[r,i]},this.checkCache_CSS=function(t){return _checkCache(_dictionary__addCSS,t)},this.checkCache_HTML=function(t){return _checkCache(_dictionary__addHTML,t)},this.checkCache_JS=function(t){return _checkCache(_dictionary__addJS,t)},this.checkCache_CSS__Alert=function(t){return _checkCache__Alert(_dictionary__addCSS,t,"CSS")},this.checkCache_HTML__Alert=function(t){return _checkCache__Alert(_dictionary__addHTML,t,"HTML")},this.checkCache_JS__Alert=function(t){return _checkCache__Alert(_dictionary__addJS,t,"JS")},this.clear_Cache_All=function(){this.clear_Cache_CSS(),clear_Cache_HTML(),this.clear_Cache_JS()},this.clear_Cache_CSS=function(){Lib.Ttw.destroyObj(_dictionary__addCSS),_dictionary__addCSS={}},this.clear_Cache_HTML=function(){Lib.Ttw.destroyObj(_dictionary__addHTML),_dictionary__addHTML={}},this.clear_Cache_JS=function(){Lib.Ttw.destroyObj(_dictionary__addJS),_dictionary__addJS={}},this.delete_Cache_CSS__Key=function(t){Lib.Ttw.destroyKey(_dictionary__addCSS,t)},this.delete_Cache_HTML__Key=function(t){Lib.Ttw.destroyKey(_dictionary__addHTML,t)},this.delete_Cache_JS__Key=function(t){Lib.Ttw.destroyKey(_dictionary__addJS,t)},this.createCSS_LINK=function(t){var e=document.createElement("LINK");return e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",t),e};var _createHTML=function(t,e){t=STtwUtilString.includeHTML_Recursion(t),e.innerHTML="",e.insertAdjacentHTML("afterbegin",t);var n=e.children[0];return e.removeChild(n),STtwUtilHTML.importHTML_Recursion(n),STtwUtilHTML.replaceHTML_Recursion(n),n};this.createHTML=function(t){return _createHTML(t,_tempDOM_DIV__Sync)},this.createHTML_LI=function(t){return _createHTML(t,_tempDOM_UL__Sync)},this.createHTML_TBODY=function(t){return _createHTML(t,_tempDOM_TABLE__Sync)},this.createHTML_THEAD=function(t){return _createHTML(t,_tempDOM_TABLE__Sync)},this.createHTML_TR=function(t){return _createHTML(t,_tempDOM_TBODY__Sync)};var _createHTML_STYLE=function(t){var e=document.createElement("style");return e.innerText=t,e};this.createHTML_STYLE=function(t){return _createHTML_STYLE(t)};var createHTML__URL=function(t){return arguments.callee.owner.createHTML(reqSyncReturnHTMLText(t))},createHTML__URL__DelHTMLComment=function(t){return arguments.callee.owner.createHTML(reqSyncReturnHTMLText__DelHTMLComment(t))},reqSyncJS=function(t){try{return STtwUtilXMLHttpReqGetRef.reqSyncReturn(null,t,null).responseText}catch(e){window.TtwLog.error("Error : "+e+"\nurl : "+t)}},reqSyncJSEval=function(url){if(arguments[1])try{var f=eval(STtwUtilXMLHttpReqGetRef.reqSyncReturn(null,url,null).responseText);return STtwUtilTemplateHTML.addJS__URL.__JSS[url]=f,f&&f.apply?f.apply(null,arguments):f}catch(e){window.TtwLog.error("Error : "+e+"\nurl : "+url)}else try{var s=STtwUtilXMLHttpReqGetRef.reqSyncReturn(null,url,null).responseText,o=eval(s);return STtwUtilTemplateHTML.addJS__URL.__JSS[url]=o,"function"==typeof o&&s.length-3==s.lastIndexOf("});")?o(url):o}catch(e){window.TtwLog.error("Error : "+e+"\nurl : "+url)}},reqSyncJSEval__Param=function(url){try{return eval(STtwUtilXMLHttpReqGetRef.reqSyncReturn(null,url,null).responseText).apply(null,arguments)}catch(e){window.TtwLog.error("reqSyncJSEval__Param Error : "+e+"\nurl : "+url)}},reqSyncReturnHTMLDOM=function(t){return arguments.callee.owner.createHTML(STtwUtilXMLHttpReqGetRef.reqSyncReturn(null,t,null).responseText)},_reqSyncReturnHTMLText=function(t){return STtwUtilXMLHttpReqGetRef.reqSyncReturn(null,t,null).responseText},_reqSyncReturnHTMLText__DelHTMLComment=function(t){return STtwUtilXMLHttpReqGetRef.reqSyncReturn(null,t,null).responseText.replace(_reqSyncReturnHTMLText__DelHTMLComment.rE0,"")};_reqSyncReturnHTMLText__DelHTMLComment.rE0=new RegExp(/<![\s\S]*?--[ \t\n\r]*>/gim);var reqSyncReturnHTMLText=null;this.getHTMLElement__URL=function(t){return reqSyncReturnHTMLDOM(t)},this.setMode_CreateHTML__DelHTMLComment=function(){reqSyncReturnHTMLText=_reqSyncReturnHTMLText__DelHTMLComment},this.setMode_CreateHTML__NotHTMLComment=function(){reqSyncReturnHTMLText=_reqSyncReturnHTMLText},this.setMode_CreateHTML__DelHTMLComment(),addCSS__URLToHead.owner=addHTML__URLToEl.owner=addHTML__URLToEl_Cache.owner=this.addJS__URL.owner=replaceHTML__URLToEl.owner=replaceHTML__URLToEl_Cache.owner=reqSyncReturnHTMLDOM.owner=this;var _addJS__URL=reqSyncJSEval;return this.addCSS__URLToHead=addCSS__URLToHead,this.addHTML__URLToEl=addHTML__URLToEl,this.addHTML__URLToEl_Cache=addHTML__URLToEl_Cache,this.addHTML__URLToElID=addHTML__URLToElID,this.addHTML__URLToElID_Cache=addHTML__URLToElID_Cache,this},lt.CLASS.FN.TemplateHTMLAsync=function(d){this.instanceKey=d.instanceKey||"window.Lib.Ttw.fnTemplateHTMLAsync";var t=lt.singleton(d.instanceKey,null);if(t)return t;this["package"]="window.Lib.Ttw.CLASS.FN.TemplateHTMLAsync";var _dictionary__addCSS={},_dictionary__addHTML={},_dictionary__addJS={},_tempDOM_DIV__Sync=window.document.createElement("DIV"),_addCache=function(t,e,n){t[e]=n},_checkCache=function(t,e){return t[e]?!0:!1},_checkCache__Alert=function(t,e,n){var r=_checkCache(t,e,n);return r&&alert(n+" Cache - "+e+" is "+r),r},addHTML__URLToEl=function(t,e,n){var r=STtwUtilTemplateHTML.createHTML;reqReturnHTMLText(t,function(t){var i=r(t);e.appendChild(i),STtwUtilDisObj.mouseEnable(i),n(i)})},addHTML__URLToEl_Cache=function(t,e,n){var r=STtwUtilTemplateHTML.createHTML;STtwUtilTemplateHTML.checkCache_HTML(t)||reqReturnHTMLText(t,function(i){_addCache(_dictionary__addHTML,t,i);var o=r(i);e.appendChild(o),STtwUtilDisObj.mouseEnable(o),n(o)})},addHTML__URLToElID=function(t,e,n){addHTML__URLToEl(t,window.document.getElementById(e),n)},addHTML__URLToElID_Cache=function(t,e,n){addHTML__URLToEl_Cache(t,window.document.getElementById(e),n)};this.addHTMLJS__URL=function(t,e,n){addHTML__URLToElID(t,n,function(t){STtwUtilTemplateHTMLAsync.addJS__URL(e)})},this.addHTMLJS__URL_Cache=function(t,e,n){addHTML__URLToElID_Cache(t,n,function(t){STtwUtilTemplateHTMLAsync.addJS__URL_Cache(e)})},this.addHTMLJS__URL_Return=function(t,e,n,r){addHTML__URLToElID(t,n,function(t){STtwUtilTemplateHTMLAsync.addJS__URL(e,function(e){r?r(t,e):null})})},this.addHTMLJS__URL_Return_Cache=function(t,e,n,r){addHTML__URLToElID_Cache(t,n,function(t){STtwUtilTemplateHTMLAsync.addJS__URL(e,function(e){r?r(t,e):null})})},this.addHTMLJSCSS__URL=function(t,e,n,r,i){STtwUtilTemplateHTML.$addCSS__URLToHead(n),addHTML__URLToElID(t,r,function(t){STtwUtilTemplateHTMLAsync.addJS__URL(e,function(e){i?i(t,e):null})})},this.addHTMLJSCSS__URL_Cache=function(t,e,n,r,i){STtwUtilTemplateHTML.$addCSS__URLToHead(n),addHTML__URLToElID_Cache(t,r,function(t){STtwUtilTemplateHTMLAsync.addJS__URL(e,function(e){i?i(t,e):null})})},this.addHTMLJSCSS__URL_Return=function(t,e,n,r,i){STtwUtilTemplateHTML.$addCSS__URLToHead(n),addHTML__URLToElID(t,r,function(t){STtwUtilTemplateHTMLAsync.addJS__URL(e,function(e){i?i(t,e):null})})},this.addHTMLJSCSS__URL_Return_Cache=function(t,e,n,r,i){STtwUtilTemplateHTML.$addCSS__URLToHead(n),addHTML__URLToElID_Cache(t,r,function(t){STtwUtilTemplateHTMLAsync.addJS__URL(e,function(e){i?i(t,e):null})})},this.addHTMLJSCSS__URLFileNM=function(t,e,n,r,i,o){addHTML__URLToElID(t+e+".html",i,function(e){STtwUtilTemplateHTMLAsync.addJS__URL(t+n+".js",function(n){STtwUtilTemplateHTML.$addCSS__URLToHead(t+r+".css"),o?o(e,n):null})})},this.addHTMLJSCSS__URLFileNM_Cache=function(t,e,n,r,i,o){addHTML__URLToElID_Cache(t+e+".html",i,function(e){STtwUtilTemplateHTMLAsync.addJS__URL(t+n+".js",function(n){STtwUtilTemplateHTML.$addCSS__URLToHead(t+r+".css"),o?o(e,n):null})})},this.addHTMLJSCSS__URLFileNM_Return=function(t,e,n,r,i,o){addHTML__URLToElID(t+e+".html",i,function(e){STtwUtilTemplateHTMLAsync.addJS__URL(t+n+".js",function(n){STtwUtilTemplateHTML.$addCSS__URLToHead(t+r+".css"),o?o(e,n):null})})},this.addHTMLJSCSS__URLFileNM_Return_Cache=function(t,e,n,r,i,o){addHTML__URLToElID_Cache(t+e+".html",i,function(e){STtwUtilTemplateHTMLAsync.addJS__URL(t+n+".js",function(n){STtwUtilTemplateHTML.$addCSS__URLToHead(t+r+".css"),o?o(e,n):null})})},this.addJS__URL=function(t,e){_addJS__URL.apply(null,arguments)};var _addJS__URL_Cache=function(url,cb_Complete){if(STtwUtilTemplateHTMLAsync.checkCache_JS(url)){var d=_dictionary__addJS[url];cb_Complete("function"==typeof d?arguments[2]?o.apply(null,arguments):o():eval(d))}else reqJS(url,function(s){var o=eval(s);"function"==typeof o?(_addCache(_dictionary__addJS,url,o),cb_Complete(arguments[2]?o.apply(null,arguments):o())):(_addCache(_dictionary__addJS,url,s),cb_Complete(o))})};this.addJS__URL_Cache=function(t,e){return _addJS__URL_Cache.apply(null,arguments)},this.checkCache_CSS=function(t){return _checkCache(_dictionary__addCSS,t)},this.checkCache_HTML=function(t){return _checkCache(_dictionary__addHTML,t)},this.checkCache_JS=function(t){return _checkCache(_dictionary__addJS,t)},this.checkCache_CSS__Alert=function(t){return _checkCache__Alert(_dictionary__addCSS,t,"CSS")},this.checkCache_HTML__Alert=function(t){return _checkCache__Alert(_dictionary__addHTML,t,"HTML")},this.checkCache_JS__Alert=function(t){return _checkCache__Alert(_dictionary__addJS,t,"JS")},this.clear_Cache_All=function(){this.clear_Cache_CSS(),clear_Cache_HTML(),this.clear_Cache_JS()},this.clear_Cache_CSS=function(){Lib.Ttw.destroyObj(_dictionary__addCSS),_dictionary__addCSS={}},this.clear_Cache_HTML=function(){Lib.Ttw.destroyObj(_dictionary__addHTML),_dictionary__addHTML={}},this.clear_Cache_JS=function(){Lib.Ttw.destroyObj(_dictionary__addJS),_dictionary__addJS={}},this.delete_Cache_CSS__Key=function(t){Lib.Ttw.destroyKey(_dictionary__addCSS,t)},this.delete_Cache_HTML__Key=function(t){Lib.Ttw.destroyKey(_dictionary__addHTML,t)},this.delete_Cache_JS__Key=function(t){Lib.Ttw.destroyKey(_dictionary__addJS,t)};var createHTML__URL=function(t){return arguments.callee.owner.createHTML(reqSyncReturnHTMLText(t))},createHTML__URL__DelHTMLComment=function(t){return arguments.callee.owner.createHTML(reqSyncReturnHTMLText__DelHTMLComment(t))},reqJS=function(t,e){try{STtwUtilXMLHttpReqGet.req_String(t,function(t){e(t)})}catch(n){window.TtwLog.error("Error : "+n+"\nurl : "+t)}},reqJSEval=function(url,cb_Complete){if(arguments[2]){var args=arguments;try{STtwUtilXMLHttpReqGet.req_String(url,function(d){cb_Complete?cb_Complete(eval(d).apply(null,args)):eval(d).apply(null,args)})}catch(e){window.TtwLog.error("Error : "+e+"\nurl : "+url)}}else try{STtwUtilXMLHttpReqGet.req_String(url,function(d){cb_Complete?cb_Complete(eval(d)):eval(d)})}catch(e){window.TtwLog.error("Error : "+e)}},reqJSEval__Param=function(url){try{return eval(STtwUtilXMLHttpReqGet.reqSyncReturn(url,null).responseText).apply(null,arguments)}catch(e){window.TtwLog.error("Error : "+e+"\nurl : "+url)}},reqSyncReturnHTMLDOM=function(t){return arguments.callee.owner.createHTML(STtwUtilXMLHttpReqGet.reqSyncReturn(t,null).responseText)},reqReturnHTMLText=function(t,e){STtwUtilXMLHttpReqGet.req_String(t,function(t){e(t)})},reqReturnHTMLText__DelHTMLComment=function(t,e){STtwUtilXMLHttpReqGet.req_String(t,function(t){e(t.replace(reqSyncReturnHTMLText__DelHTMLComment.rE0,""))})};reqReturnHTMLText__DelHTMLComment.rE0=new RegExp(/<![\s\S]*?--[ \t\n\r]*>/gim),this.getHTMLElement__URL=function(t){return reqSyncReturnHTMLDOM(t)},addHTML__URLToEl.owner=addHTML__URLToEl_Cache.owner=this.addJS__URL.owner=this,this.addHTML__URLToEl=addHTML__URLToEl,this.addHTML__URLToEl_Cache=addHTML__URLToEl_Cache,this.addHTML__URLToElID=addHTML__URLToElID,this.addHTML__URLToElID_Cache=addHTML__URLToElID_Cache;var _addJS__URL=reqJSEval;return this},lt.CLASS.FN.Transform=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnTransform";var e=lt.singleton(t.instanceKey,null);return e?e:void(this["package"]="window.Lib.Ttw.CLASS.FN.Transform")},lt.CLASS.FN.Unit=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnUnit";var e=lt.singleton(t.instanceKey,null);return e?e:(this["package"]="window.Lib.Ttw.CLASS.FN.Unit",this.DOTS_PER_INCH=72,this.HASH_MAP_INCHES_PER_UNIT={cm:.393701,mm:.0393701,m:39.3700787,km:39370.0787,degrees:4374754,ft:12,inch:1,mile:63360},this.HASH_MAP_METERS_PER_UNIT={cm:.01,mm:.001,m:1,km:1e3,degrees:111319.4908,foot:.3048,inch:0,mi:0},this.CENTIMETER="cm",this.METER="m",this.MILLIMETER="mm",this.KILOMETER="km",this.SEXAGESIMAL="dms",this.DEGREE="degrees",this.FOOT="ft",this.INCH="inch",this.MILE="mi",this.RADIAN="rad",this.PIXEL_SIZE=28e-5,this.getInchesPerUnit=function(t){return this.HASH_MAP_INCHES_PER_UNIT[t]},this.getMetersPerUnit=function(t){return this.HASH_MAP_METERS_PER_UNIT[t]},this.getResolutionFromScale=function(t,e){e||(e=this.DEGREE);var n=STtwUtilGeom.normalizeScale(t),r=1/(n*this.getInchesPerUnit(e)*this.DOTS_PER_INCH);return r},this.getScaleFromResolution=function(t,e){e||(e=this.DEGREE);var n=t*this.getInchesPerUnit(e)*this.DOTS_PER_INCH;return n},this.getResolutionFromScaleDenominator=function(t,e){return e||(e=this.DEGREE),t*this.PIXEL_SIZE/this.getMetersPerUnit(e)},void(this.getScaleDenominatorFromResolution=function(t,e){return e||(e=this.DEGREE),t*this.getMetersPerUnit(e)/this.PIXEL_SIZE}))},lt.CLASS.FN.XMLHttpRequest_Get=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnXMLHttpRequest_Get";var e=lt.singleton(t.instanceKey,null);if(e)return e;this["package"]="window.Lib.Ttw.CLASS.FN.XMLHttpRequest_Get";var n=(new XMLHttpRequest,{}),r=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},i=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},o=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},a=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},c=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},l=function(t){arguments.callee.owner},s=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},u=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},_=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},d=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},h=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},T=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},f=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)};this.consoleLog__RequestEvent=function(t){t.target};if("8"==document.documentMode)var L=function(t,e,n){var r=(window.Lib.Ttw.fnXMLHttpRequest_Get,new XMLHttpRequest);return n&&(n.onreadystatechange.e=r,arguments.callee.owner.setXMLHttpRequest__cbFunctions(r,n)),r.open("GET",t,e),r};else var L=function(t,e,n){var r=(window.Lib.Ttw.fnXMLHttpRequest_Get,new XMLHttpRequest);return n&&arguments.callee.owner.setXMLHttpRequest__cbFunctions(r,n),r.open("GET",t,e),r};return this.req=function(t,e){L(t,!0,e).send()},"8"==document.documentMode?this.req_String=function(t,e){L(t,!0,{onreadystatechange:function(){var t=arguments.callee.e;4==t.readyState&&200==t.status&&e(t.responseText)}}).send()}:this.req_String=function(t,e){L(t,!0,{onloadend:function(t){e(t.target.responseText)}}).send()},this.reqSync=function(t,e){L(t,!1,e).send()},this.reqSyncReturn=function(t,e){var n=L(t,!1,e);return n.send(),n},this.reqSyncReturnResponstText__Cache=function(t,e){if(!n[t]){var r=L(t,!1,e);r.send(),n[t]=r.responseText}return n[t]},this.reqSyncReturnResponstText__Cache.ADD_STORE=function(t,e){n[t]=e},this.reqSyncReturnResponstText__Cache.CHECK_STORE=function(t){return n[t]?1:0},this.reqSyncReturnResponstText__Cache.CLEAR_STORE=function(){n={}},this.reqSyncReturnResponstText__Cache.GET_STORE=function(t){return n[t]},this.setXMLHttpRequest__cbFunctions=function(t,e){t.onerror=e.onerror?e.onerror:i,t.onloadend=e.onloadend?e.onloadend:a,t.onreadystatechange=e.onreadystatechange?e.onreadystatechange:null},L.owner=r.owner=i.owner=o.owner=a.owner=c.owner=T.owner=l.owner=s.owner=u.owner=_.owner=d.owner=h.owner=f.owner=this,this},lt.CLASS.FN.XMLHttpRequest_Get_Ref=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnXMLHttpRequest_Get_Ref";var e=lt.singleton(t.instanceKey,null);if(e)return e;this["package"]="window.Lib.Ttw.CLASS.FN.XMLHttpRequest_Get_Ref";var n=new XMLHttpRequest;if("8"==document.documentMode)var r=function(t,e,r,i){return t=t?t:n,i&&(i.onreadystatechange.e=t,STtwUtilXMLHttpReqGet.setXMLHttpRequest__cbFunctions(t,i)),t.open("GET",e,r),t};else var r=function(t,e,r,i){return t=t?t:n,i&&STtwUtilXMLHttpReqGet.setXMLHttpRequest__cbFunctions(t,i),t.open("GET",e,r),t};return this.req=function(t,e,i){t=t?t:n,r(t,e,!0,i).send()},"8"==document.documentMode?this.req_String=function(t,e,i){t=t?t:n,r(t,e,!0,{onreadystatechange:function(){var t=arguments.callee.e;4==t.readyState&&200==t.status&&i(t.responseText)}}).send()}:(this.req_String=function(t,e,i){t=t?t:n,r(t,e,!0,{onloadend:function(t){i(t.target.responseText)}}).send()},this.req_String._o_cb_Complete={onloadend:function(t){cb_Complete(t.target.responseText)}}),this.reqSync=function(t,e,i){t=t?t:n,r(t,e,!1,i).send()},this.reqSyncReturn=function(t,e,i){t=t?t:n;var t=r(t,e,!1,i);return t.send(),t},r.owner=this,this},lt.CLASS.FN.XMLHttpRequest_Post=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnXMLHttpRequest_Post";var e=lt.singleton(t.instanceKey,null);if(e)return e;this["package"]="window.Lib.Ttw.CLASS.FN.XMLHttpRequest_Post";var n=(new XMLHttpRequest,function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)}),r=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},i=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},o=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},a=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},c=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},l=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},s=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},u=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},_=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},d=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},h=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},T=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)};this.consoleLog__RequestEvent=function(t){t.target};var f=function(t,e,n){var r=new XMLHttpRequest;r.open("POST",t,e);for(var i in n)r.setRequestHeader(i,n[i]);return r},L=function(t,e,n,r){var i=(window.Lib.Ttw.XMLHttpRequest_Post,new XMLHttpRequest);r&&arguments.callee.owner.setXMLHttpRequest__cbFunctions(i,r),i.open("POST",t,e);for(var o in n)i.setRequestHeader(o,n[o]);return i};return this.req__paramsForm=function(t,e,n,r){L(e.action,!0,n,r).send(e)},this.req__paramsForm_useAction=function(t,e,n){L(t.action,!0,e,n).send(t)},this.req__paramsObj=function(t,e,n,r){var i=new FormData;for(var o in e)i.append(o,e[o]);L(t,!0,n,r).send(i)},this.req__paramsStr=function(t,e,n,r){L(t,!0,n,r).send(e)},this.reqSync__paramsForm=function(t,e,n,r){L(t,!1,n,r).send(new FormData(e))},this.reqSync__paramsForm_useAction=function(t,e,n){L(t.action,!1,e,n).send(new FormData(t))},this.reqSync__paramsObj=function(t,e,n,r){var i=new FormData;for(var o in e)i.append(o,e[o]);L(t,!1,n,r).send(i)},this.reqSync__paramsStr=function(t,e,n){L(t,!1,n,cbFunctions).send(e)},this.reqSyncReturn__paramsForm=function(t,e,n,r){var i=f(t,!1,n,r);return i.send(new FormData(e)),i},this.reqSyncReturn__paramsForm_useAction=function(t,e,n){var r=f(t.action,!1,e,n);return r.send(new FormData(t)),r},this.reqSyncReturn__paramsObj=function(t,e,n,r){var i=new FormData;for(var o in e)i.append(o,e[o]);var a=f(t,!1,n,r);return a.send(i),a},this.reqSyncReturn__paramsStr=function(t,e,n){var r=f(t,!1,n);return r.send(e),r},this.setXMLHttpRequest__cbFunctions=function(t,e){t.onerror=e.onerror?e.onerror:r,t.onloadend=e.onloadend?e.onloadend:o,t.onreadystatechange=e.onreadystatechange?e.onreadystatechange:c},L.owner=n.owner=r.owner=i.owner=o.owner=a.owner=h.owner=c.owner=l.owner=s.owner=u.owner=_.owner=d.owner=T.owner=this,this},lt.CLASS.Runner.AsyncRuns_SelfAsync=function(t,e){this["package"]="window.Lib.Ttw.CLASS.Runner.AsyncRuns_SelfAsync";var n=!1,r=null,i=null,o=null,a=0,c=0,l=10;return this.idx=0,this.idxLen=0,this.looper=null,this.ttwDestroy=function(){this.destroyLooper(),r=null,i=null,o=null,a=NaN,c=NaN,l=NaN,this.idx=NaN,this.idxLen=NaN},this.evt_Interval=function(){for(var t=(new Date).getTime(),e=t+l,n=arguments.callee;(new Date).getTime()<e;){if(c>a){n.cbParams.length?r.apply(null,n.cbParams):r(),++a;break}n.owner.destroyLooper(),null!=i&&i();break}},this.evt_Interval.owner=this,this.destroyLooper=function(){n=!0,clearInterval(this.looper)},this.run=function(t,e,o,a,s){r=o,i=a,s=s?s:null,c=t,l=e,n=!1,this.looper=setInterval(this.evt_Interval,30),this.evt_Interval.cbParams=s},this},lt.CLASS.Runner.AsyncRuns_SelfSync=function(t){},lt.CLASS.Runner.AsyncRuns_SelfAsync_MultyFN=function(t){},lt.CLASS.Runner.AsyncRuns_SelfSync_MultyFN=function(t){},lt.initialize_Console(),lt.initialize_hasOwnProperty(),delete lt.initialize_Console,delete lt.initialize_hasOwnProperty}();window.global=window,window.TtwPackageInitialize=function(){var t="TtwPackageInitialize",e=window,n=e.Lib.Ttw,i=n.CLASS,a="window.Lib.Ttw.";n.Error=new i.Error.Error({instanceKey:a+"Error"});var s=i.Event;n.Event=new s.Event({instanceKey:a+"Event"}),n.EventMouse=new s.EventMouse({instanceKey:a+"EventMouse"}),n.EventKeyboard=new s.EventKeyboard({instanceKey:a+"EventKeyboard"}),e.STtwUtilEvent=n.Event,e.STtwUtilEventKeyboard=n.EventMouse,e.STtwUtilEventMouse=n.EventKeyboard;var o=i.FN;n.fnArray=new o.Array({instanceKey:a+"fnArray"}),n.fnCommon=new o.Common({instanceKey:a+"fnCommon"}),n.fnCustomEvent=new o.CustomEvent({instanceKey:a+"fnCustomEvent"}),n.fnDate=new o.Date({instanceKey:a+"fnDate"}),n.fnDisObj=new o.DisObj({instanceKey:a+"fnDisObj"}),n.fnFile=new o.File({instanceKey:a+"fnFile"}),n.fnFlash=new o.Flash({instanceKey:a+"fnFlash"}),n.fnGeom=new o.Geometry({instanceKey:a+"fnGeom"}),n.fnHTML=new o.HTML({instanceKey:a+"fnHTML"}),n.fnJSON=new o.JSON({instanceKey:a+"fnJSON"}),n.fnMath=new o.Math({instanceKey:a+"fnMath"}),n.fnObject=new o.Object({instanceKey:a+"fnObject"}),n.fnString=new o.String({instanceKey:a+"fnString"}),n.fnTemplateHTML=new o.TemplateHTML({instanceKey:a+"fnTemplateHTML"}),n.fnTemplateHTMLAsync=new o.TemplateHTMLAsync({instanceKey:a+"fnTemplateHTMLAsync"}),n.fnUnit=new o.Unit({instanceKey:a+"fnUnit"}),n.fnXMLHttpRequest_Get=new o.XMLHttpRequest_Get({instanceKey:a+"fnXMLHttpRequest_Get"}),n.fnXMLHttpRequest_Get_Ref=new o.XMLHttpRequest_Get_Ref({instanceKey:a+"fnXMLHttpRequest_Get_Ref"}),n.fnXMLHttpRequest_Post=new o.XMLHttpRequest_Post({instanceKey:a+"fnXMLHttpRequest_Post"}),e.STtwUtilCommon=n.fnCommon,e.STtwUtilCustomEvent=n.fnCustomEvent,e.STtwUtilDate=n.fnDate,e.STtwUtilDisObj=n.fnDisObj,e.STtwUtilFile=n.fnFile,e.STtwUtilFlash=n.fnFlash,e.STtwUtilGeom=n.fnGeom,e.STtwUtilHTML=n.fnHTML,e.STtwUtilJSON=n.fnJSON,e.STtwUtilMath=n.fnMath,e.STtwUtilObject=n.fnObject,e.STtwUtilString=n.fnString,e.STtwUtilTemplateHTML=n.fnTemplateHTML,e.STtwUtilTemplateHTMLAsync=n.fnTemplateHTMLAsync,e.STtwUtilUnit=n.fnUnit,e.STtwUtilXMLHttpReqGet=n.fnXMLHttpRequest_Get,e.STtwUtilXMLHttpReqGetRef=n.fnXMLHttpRequest_Get_Ref,e.STtwUtilXMLHttpReqPost=n.fnXMLHttpRequest_Post;var f=["Array","BitmapData","Common","CustomEvent","Date","DisObj","DisObjContainer","Draw","Effect","Event","EventKeyboard","EventMouse","File","Flash","Geom","Geometry","HTML","JSON","Math","Matrix","Object","String","TemplateHTML","TemplateHTMLAsync","Transform","Unit","XMLHttpReqGet","XMLHttpRequest_Get","XMLHttpReqGetRef","XMLHttpRequest_Get_Ref","XMLHttpReqPost","XMLHttpRequest_Post"];n.fnCommon.destroyKeys(i.FN,f);for(var w in e)0==w.indexOf("STtwUtil")&&(e[w.replace("STtwUtil","SUtil")]=e[w]);e.TtwMessageBox=new n.CLASS.DisplayObject.MessageBox({instanceKey:"window.Instance.Ttw.TtwMessageBox"}),n.fnCommon.destroyKeys(n.CLASS.DisplayObject,["MessageBox"]),e.Ttw=n;var T=STtwUtilCommon.destroyKey;T(e,t),T(e,"TtwPackage")}();window.TtwPackageLeaflet=function(){var V=window;V.Lib=V.Lib||{},V.Lib.Ttw=V.Lib.Ttw||{};var a=V.Lib.Ttw;a.CLASS.FN=a.CLASS.FN||{},a.CLASS.FN.GIS=a.CLASS.FN.GIS||{},V.Instance=V.Instance||{},V.Instance.Ttw=V.Instance.Ttw||{};var a=V.Lib.Ttw;a.CONST=a.CONST||{},a.CLASS.FN.GIS_Leaflet=function(V){this.instanceKey=V.instanceKey||"window.Lib.Ttw.fnGIS_Leaflet";var l=a.singleton(V.instanceKey,null);if(l)return l;this["package"]="window.Lib.Ttw.CLASS.FN.GIS_Leaflet";for(var e=(STtwUtilDisObj.mouseEnable,a.abt("VjJ0V2IxVXhXWGxTYmtwcFRUSlNXRmxYZEhkU01YQlhWMnM1V0ZZd2NFaFdSM2h2VlRBd2VXRkdiRmROVm5CVVZYcEtTbVZXVW5OYVJtUllVakZLZGxaWGVGWk5WMGw0Vm01U2JGSXdXazlXYlRFd1RURlplVTFVUW1oU01IQklWbTB4ZDFNd01VZFhXR3hUVjBkNFZWWXdaRFJXUmxsM1drUlNWMDFYZUZaVk1qQTFZV3hhYzFacVRscFdWbHBRV1ZWYVMyTXhaSEZTYkhCT1VtNUNlVmRXWkRSWlZscHhVMnBDVjAxclZqVlZNV2h6VlRGa1NHVkdaRnBXUlhCMldURmFWbVF5UmtaVWJXaFRZa1p2ZUZkVVFtRmhNa1p6Vm1wS01GWXlSWGxUV0d4VFYwZDRWMWxVU205alZsVjNZVVZPYUZKc1dqRlpNRnByWVd4YVZqSjBWMkV5U1hsU1dHeFdZVEpvY1ZVd2FFTmhSbFoxWTBaa2FsWnRlRmxVYkZVMVZHc3hjbUl6Y0ZaU2JFWXpWVVpGT1ZCUlBUMD1kR1ZHYkZWaVJsVXhWa2R6ZUdOdFNYcGpSbHBUWWtWWmVsWlZXa1pQVmtKU1VGUXdQVmR1VW14U2JYaFdXV3RhVmsxV1draGpNMmhxWWxWc05sa3dXbUZWTWtwR1YxaHdWMVpXY0VkVU1WcERWV3hDVlUxRU1XdFNNVnBJV1d0YVYyRldTbk5XV0doWFlUSlNObHBWWkU5a1JrNVpZMGR3VTJKSVFsVlhWM1JYVjIxV2MxZHNXbGhoTVhCUlZtMTBTMVV4VmtkVldHUlJWMFZHTTFZeWVGZFpWMDE0VjJ4b1ZHRXlVbGhXYTFaaFYwWldjVlJyT1U5U2JYUTFWRlpXZDJKSFNsWk9WV2hYVFc1b1VGbFdXa3RXTWtwRlYyeGthVkpzY0c5V1Z6RjZUbFpaZUZKdVRsUmlSVnBZVld0V1JrNVdjRVZTYTBwcldub3dPUT09",5)),t={resolutions:[156543.03390625],scales:[559081145.7863648]},W=0,r=25;r>W;++W)t.resolutions.push(t.resolutions[W]/2);for(var W=0,r=25;r>W;++W)t.scales.push(t.scales[W]/2);this.resAndScales=t;var Z=function(V,a){var l=ttw.gisPack.control[a](V);return V.map.addControl(l),l};this.addControl_Attribution=function(V){return Z(V,"attribution")},this.addControl_Layers=function(V){return Z(V,"layers")},this.addControl_ScaleLine=function(V){return Z(V,"scale")},this.addControl_Zoom=function(V){return Z(V,"zoom")};var F=function(V){var a=ttw.gisPack.featureGroup();return a.addTo(V.map),a._map=a.map=V.map,V.map.DIC_FEATURE_GROUP[V.k]=a,y(a),a};this.addFeatureGroup=function(V){return F(V)};var R=function(V){var a=ttw.gisPack(V.url,V.g);return V.map.DIC_IMAGEOVERLAY[V.k]=a,a.addTo(V.map),a};this.addImageOverlay=function(V){return R(V)},this.addImageOverlay_XY=function(V){return E(V.g),R(V)};var n=function(V,a,l,e){return V.addLayer(a),a.kLayer=e,l[e]=a,a};this.addLayer_Dictionary=function(V,a,l,e){return n(V,a,l,e)};this.addLayer_Dictionary__Target=function(V,a,l,e){return addLayer_Dictionary__Target(V,a,l,e)};var d=function(V){V.map.DIC_LAYERS=V.map.DIC_LAYERS||{};var l=null;V.subdomains="01234567";var e=a.abt("VjFaV2IxVXdNVWhVYTFacFRURndUbFJYZEdGbFZsSklUVlpPVDFZd2NEQlZiVFZUWVVaWmQwMVVSbUZTVjJkM1dsY3hZVlpGTlZWUmJXaFhUVEpvZWxadE1IaGtNVTEzVFZWa1dGZEhlRlJXTUdRMFZsWlpkMXBFVWxkU2JHd3pWMnRTVTFZd01WaGxSbHBXVFdwQk1WbFhlR0ZqTVZweFZHeHdWMVpzY0ZGWFZsWmhVekpOZUZwSVJsTmlTRUpQVlcwMVEyVldaRmRhUkZKYVZteHdlRlV5Y0VOV01ERnlWbXBXVmsxWGFIcFdWRVpyVTBkV1IxcEdjRmRTV0VJeVYxUkdZVlp0VVhsU2ExcFZZbGRvVkZsclduWmxSbVJWVVcxR2FFMXJXbnBXYlhCTFRVWlplVkpZYkZSWFIzaFVWakJrTkZZeGJGVlRiVGxxVm14V00xbFZWazloUmtwelYycEdXazFHY0hKWlYzaGhWbXBLTUZZeVJYbFRXR3hUVjBkNFYxbFVTbTlqVmxWM1lVVk9hRkpzV2pGWk1GcHJZV3hhVmpKMFYyRXlTWGxTV0d4V1lUSm9jVlV3YUVOaFJsWjFZMFprYWxadGVGbFViRlUxVkdzeGNtSXpjRlpTYkVZelZVWkZPVkJSUFQwPWRHVkdiRlZpUmxVeFZrZHplR050U1hwalJscFRZa1ZaZWxaVldrWlBWa0pTVUZRd1BXUkhWa2RpUmxacFVteFZlRlpyWkhwbFIwNTBVMWh3YWxKc2NGUlphMVphWld4YVZsZHJXbEJXYTBwVFZVWlJkMUJXWkhWVmJYaFRZbGhvVjFkWGRHRldhekZYVjJ0b2FrMHlhSEZaYkZaelRteHJkMWR0UmxaTmEzQkhWakZvZDFZeFdsZGpSV1JWVFZad1JGWlhlRU5XVlRGRlRWZDBVMDFXY0VsWFYzUmhWakpHVjFOdVRsZFhSMmhZV1ZSS1UwNXNjRlphUlRsclVtczFXbGt3WkhkVk1rcEpVV3hXV0ZZelVsaFdNakZYWXpGa2MxZHNhR2hOV0VKU1ZtMHhNRk14VlhoV2EyUldWMGRTVWxZd1ZYaE5WbkJJVFZoT2JGWXhTa3BXYlRGdllWWkplRmR0T1ZwTmFsWlVXV3BDTkdSRk5WaGxSM1JTWlcxNGVGZFhjRXBsUjFGM1pETnNWV0pVYkU1YVNHOTNUMUU5UFE9PQ==",5),t="/{z}/{y}/{x}";"Street"==V.layerType?l=ttw.gisPack.tileLayer(e+a.abt("VmxWU1MyTXdNVWRSYkZwYVRUQTFXRmxVUmxkbGJGWllaVWMxYWsxV1NrVmFWVlY0Vld4YWMyTklhRlpOYmtKRVZtcEJlR05zV25GV2JGcE9WakpvTmxac1VrZGhNVTVJVm10a1lWSnVRbGhWYkdoRFRXeGtWVkp0UmxkaVZrWTFWVzEwWVZaWFNsaGhSbEphWVRGd01scFZXbXRXVmtaMFVtMW9UbUV4Y0RaV2JURjNVekF4UjFkWWJGTlhSM2hWVmpCa05GWkdXWGRhUkZKWFRWZDRWbFV5TURWaGJGcHpWbXBPV2xaV1dsQlpWVnBMWXpGa2NWSnNjRTVTYmtKNVYxWmtORmxXV25GVGFrSlhUV3RXTlZVeGFITlZNV1JJWlVaa1dsWkZjSFpaTVZwV1pESkdSbFJ0YUZOaVJtOTRWMVJDWVdFeVJuTldha293VmpKRmVWTlliRk5YUjNoWFdWUktiMk5XVlhkaFJVNW9VbXhhTVZrd1dtdGhiRlZqSjBWMkV5U1hsU1dHeFdZVEpvY1ZVd2FFTmhSbFoxWTBaa2FsWnRlRmxVYkZVMVZHc3hjbUl6Y0ZaU2JFWXpWVVpGT1ZCUlBUMD1wMFpVWnNWV0pHVlRGV1IzTjRZMjFKZW1OR1dsTmlSVmw2VmxWYVJrOVdRbEpRVkRBOVYyNVNiRkp0ZUZaWmExcFdUVlphU0dNemFHcGlWV3cyV1RCYVlWVXlTa1pYV0hCWFZsWndSMVF4V2tOVmJFSlZUVVF4YTFJeFdraFphMXBYWVZaS2MxWllhRmRoTWxJMldsVmtUMlJHVGxsalIzQlRZa2hDVlZkWGRGZFhiVlp6VjJ4YVdHRXhjRkZXYlhSTFZURldSMVZZWkZGV2JWSXhWbGN4TkZVeVNsbGhSbVJZVmpOU2FGWnRjM2hXTVdSeVlVZHdUazF0YUhoWFYzaFhZekExYzJFelpGaGlWVnBYVkZkMGQxSXhXWGhoU0dSWFRWWndXRmt3Vm10V1ZURlhZMFZTVjFZemFFUldiRlY0VWxVeFNFMVhiRmROTVVZelZsVmFhMDFIVW5KbFJtaHJVMGQ0VEZsdGVHRk9WbFpIVm1wQ1ZtUjZNRGs9",5)+t,V):"Satellite"==V.layerType?f0=aV:"Terrain"==V.layerType?f0=lV:"Hybrid"==V.layerType&&(f0=VV);var W=n(V.map,l,V.map.DIC_LAYERS,V.layerType.toLowerCase());return W};this.addLayer_Tile__Bing=function(V){return d(V)};var k=function(V){V.map.DIC_LAYERS=V.map.DIC_LAYERS||{};var l=null;V.continuousWorld=!1,V.reuseTiles=!0,V.maxZoom=14,V.minZoom=0,V.zoomReverse=!0,V.subdomains="0123",V.attribution="",V.tms=!0,"Street"==V.layerType?l=new ttw.gisPack.Proj.TileLayer.TMS(a.abt("VjFaV2IxVXdNVWhVYTFacFRURndUbFJYTVROTk1XdzJWRmhrYTFZd2NGbFZiVFZyWVcxV1ZWWnVTbGhXYldoWVdrVldORmRIU2tsVmJVWnNWa1paZUZZeWVHOVZiVkowVTJ4b1UySnRVbGhaYkdoRFZFWlNWbGRzY0d4V2EzQmFXV3RhVTFkR1NYcGhSbFpYWVd0S2NsUnJXbHBsUjBwSFZteFNhVlpIZUhoV2JURTBWakF3ZUdKR1dsZGhlbXh2VlcxMGQyVnNXWGxqUldSWVlYcEdTRmt3YUV0WGJGbDZZVWRvVjJKWVFreFVWVnBhWlZaS1dXSkdVbGhTTTJoVlZtcENhMDVHV1hoaVJsWlVZbFJzY1ZadGVGZE5NV3hXVm1zNWFGSnJjSHBXTW5CSFYyc3hSMk5JU2xwV00yaG9WbTF3UzAxR1dYbFNXR3hVVjBkNFZGWXdaRFJXTVd4VlUyMDVhbFpzVmpOWlZWWlBZVVpLYzFkcVJscE5SbkJ5V1ZkNFlWWnFTakJXTWtWNVUxaHNVMWRIZUZkWlZFcHZZMVpWZDJGRlRtaFNiRm94V1RCYWEyRnNWakowVjJFeVNYbFNXR3hXWVRKb2NWVXdhRU5oUmxaMVkwWmthbFp0ZUZsVWJGVTFWR3N4Y21JemNGWlNiRVl6VlVaRk9WQlJQVDA9V25SbFJteFZZa1pWTVZaSGMzaGpiVWw2WTBaYVUySkZXWHBXVlZwR1QxWkNVbEJVTUQxa1IxWkhZa1pXYVZKc1ZYaFdhMlI2WlVkT2RGTlljR3BTYkhCVVdXdFdXbVZzV2xaWGExcFFWbXRLVTFWR1VYZFFWMUpJVm10a2FWSnNXbkJWYlhoV1pVWmFjbHBJY0d4U01EVXdWVEZvZDJGc1NuTmpSbEphWVRGYVlWcFhlR0ZXYkdSeVYyeENWMkV3Y0ZSV1ZWcFNaREZDV0ZWcmFGZGhNbEp3VlcxNFlXTkdWblJsUmxwc1VteHdlVmRyYUhkaVJrbDNUbFJDVmsxWGFETlpWM2hMWXpKT1IxVnNjR2hOVm5Cb1YyeGtORmxXV25OYVNFcFlZa1ZLV0ZsVVFuZFdSbHBXVjJ4S2EwMVZTbFZVTVdoRFlWWlpkMWR1VmxoaVJUQXhWVEJWZUZKV1VsbFhiV2hXWlcxbk1GWkZaSGRUYlZGM1pETmtiRkpIVW5OWmJYQkRUV3h3VlZSdVRsQldXR1EyV2tWU1UySldWalpXYWs1YVlsUkdjVlZHUlRsUVVUMDk=",5),V.crs,V):"Satellite"==V.layerType?l=new ttw.gisPack.Proj.TileLayer.TMS(a.abt("",5),V.crs,V):"Hybrid"==V.layerType&&(l=new ttw.gisPack.Proj.TileLayer.TMS(a.abt("",5),V.crs,V));var e=n(V.map,l,V.map.DIC_LAYERS,V.layerType.toLowerCase());return e};this.addLayer_Tile__Daum=function(V){return k(V)};var c=function(V){V.subdomains="0123",V.map.DIC_LAYERS=V.map.DIC_LAYERS||{};var a=null;"Hybrid"==V.layerType?a=ttw.gisPack.tileLayer("http://mt{s}.google.com/vt/lyrs=h&hl=ko&x={x}&y={y}&z={z}",V):"Satellite"==V.layerType?a=ttw.gisPack.tileLayer("http://mt{s}.google.com/vt/lyrs=s&hl=ko&x={x}&y={y}&z={z}",V):"Satellite&Hybrid"==V.layerType?a=ttw.gisPack.tileLayer("http://mt{s}.google.com/vt/lyrs=y&hl=ko&x={x}&y={y}&z={z}",V):"Street"==V.layerType?a=ttw.gisPack.tileLayer("http://mt{s}.google.com/vt/lyrs=m&hl=ko&x={x}&y={y}&z={z}",V):"Terrain"==V.layerType&&(a=ttw.gisPack.tileLayer("http://mt{s}.google.com/vt/lyrs=t&hl=ko&x={x}&y={y}&z={z}",V));var l=n(V.map,a,V.map.DIC_LAYERS,V.layerType.toLowerCase());return l};this.addLayer_Tile__Google=function(V){return c(V)};var U=function(V){V.map.DIC_LAYERS=V.map.DIC_LAYERS||{};var l=null;V.continuousWorld=!1,V.reuseTiles=!0,V.maxZoom=15,V.minZoom=0,V.zoomReverse=!1,V.subdomains="1234",V.attribution="",V.tms=!0,"Street"==V.layerType?l=new ttw.gisPack.Proj.TileLayer.TMS("http://onetile{s}.map.naver.net/get/174/0/0/{z}/{x}/{y}/bl_vc_bg/ol_vc_an",V.crs,V):"Satellite"==V.layerType?l=new ttw.gisPack.Proj.TileLayer.TMS(a.abt("VjFaV2IxVXdNVWhVYTFacFRURndUbFJYY0hOTlZtUnpZVVpPYWxJd2NFbFdiWEJyWVdzeE5sRnFSbHBpUjFKSVdrUkNOR1JGTlZoaFIzUnBWbXh2TVZaRlkzZE5WMHBJVld0U1VGWjZWbWhXTUZwSFRXeGFkRTFZWkZSTlJFWklWakZvYzFVeFpFaGxSbFpYVFVkUk1GWnJXbHBrTVhCRlZXeGtUbFl6YUZkV1ZFbDNUbGRHYzFkdVRsZGhhelZoVm14YVlWVkdiRlpYYTNScVRWZFNlRlZ0ZUhkVWJFcDFVVzVzV0ZadFVUQlhWbHBoWTFaT2NWRnNaRTVoTVZreFZsUkdiMk14VlhoYVJXaHNVbTFTWVZaclZuZGtiR3Q0VjJ4YWEwMXJXa2RXUnpGdlZUSktSMkl6YUZoV1JVcG9XVlJLUjJNeFduRlRha0pYVFd0V05WVXhhSE5WTVdSSVpVWmtXbFpGY0haWk1WcFdaREpHUmxSdGFGTmlSbTk0VjFSQ1lXRXlSbk5XYWtvd1ZqSkZlVk5ZYkZOWFIzaFhXVlJLYjJOV1ZYZGhSVTVvVW14YU1Wa3dXbXRoYkZWakowVjJFeVNYbFNXR3hXWVRKb2NWVXdhRU5oUmxaMVkwWmthbFp0ZUZsVWJGVTFWR3N4Y21JemNGWlNiRVl6VlVaRk9WQlJQVDA9cDBaVVpzVldKR1ZURldSM040WTIxSmVtTkdXbE5pUlZsNlZsVmFSazlXUWxKUVZEQTlWMjVTYkZKdGVGWlphMXBXVFZaYVNHTXphR3BpVld3MldUQmFZVlV5U2taWFdIQlhWbFp3UjFReFdrTlZiRUpWVFVReFdHSnNTbk5WYlRFMFZteHNjbGRzV2s1V2JIQkpXWHBPYjJGdFNsWmlSRnBhVFVad2FGWlVTa3RTYkdSWlkwWmtWMVp1UWtoV1JFWmhVVEZXYzFGc1ZrNVNSRVp5VldwR1lWTkdiSEpYYkdSb1ZtdHdlbFpzYUc5V01rVjVWV3BhWVZaWFVsQmFSVnBQVjFkT1NHTkdUbWxUUlVwV1ZqRmtNRll4WkhSV2JrNVlZa1p3V1ZsVVJuZFZWbHAwWkVWMFZrMVdXa2hXVm1oclZWWmFSbFpZY0ZWaE1EQXdXa1JDTkU1c1JsbFhiWGhPVFRCRk1WWkZVazlOUlRWSVYyeFNVRlpIVW5OV01GSkRUV3hrV0UxVVVtRmlWVEUyVmxjeFlWZHRTbGhVYWtwYVlXdHZNRmR0TVU1bGJGWjBWMnh3VjJWc1JUVT0=",5),V.crs,V):"Cadastral"==V.layerType?l=new ttw.gisPack.Proj.TileLayer.TMS(a.abt("VjFaV2IxVXdNVWhVYTFacFRURndUbFJYY0hOTlZtUnpZVVpPYWxJd2NFbFdiWEJyWVdzeE5sRnFSbHBpUjFKSVdrUkNOR1JGTlZoaFIzUnBWbXh2TVZaRlkzZE5WMHBJVld0U1VGWjZWbWhXTUZwSFRXeGFkRTFZWkZSTlJFWklWakZvYzFVeFpFaGxSbFpYVFVkUk1GWnJXbHBrTVhCRlZXeGtUbFl6YUZkV1ZFbDNUbGRHYzFkdVRsZGhhelZoVm14YVlWVkdiRlpYYTNScVRWZFNlRlZ0ZUhkVWJFcDFVVzVzV0ZadFVUQlhWbHBoWTFaT2NWRnNaRTVoTVZreFZsUkdiMk14VlhoYVJXaHNVbTFTWVZaclZuZGtiR3Q0VjJ4YWEwMXJXa2RXUnpGdlZUSktSMkl6YUZoV1JVcG9XVlJLUjJNeFduRlRha0pYVFd0V05WVXhhSE5WTVdSSVpVWmtXbFpGY0haWk1WcFdaREpHUmxSdGFGTmlSbTk0VjFSQ1lXRXlSbk5XYWtvd1ZqSkZlVk5ZYkZOWFIzaFhXVlJLYjJOV1ZYZGhSVTVvVW14YU1Wa3dXbXRoYkZWakowVjJFeVNYbFNXR3hXWVRKb2NWVXdhRU5oUmxaMVkwWmthbFp0ZUZsVWJGVTFWR3N4Y21JemNGWlNiRVl6VlVaRk9WQlJQVDA9cDBaVVpzVldKR1ZURldSM040WTIxSmVtTkdXbE5pUlZsNlZsVmFSazlXUWxKUVZEQTlWMjVTYkZKdGVGWlphMXBXVFZaYVNHTXphR3BpVld3MldUQmFZVlV5U2taWFdIQlhWbFp3UjFReFdrTlZiRUpWVFVReFdHSnNTbk5WYlRFMFZteHNjbGRzV2s1V2JIQkpXWHBPYjJGdFNsWmlSRnBhVFVad2FGWlVTa3RTYkdSWlkwWmtWMVp1UWtoV1JFWmhVVEZXYzFGc1ZrNVNSRVp5VldwR1lWTkdiSEpYYkdSb1ZtdHdlbFpzYUc5V01rVjVWV3BhWVZaWFVsQmFSVnBQVjFkT1NHTkdUbWxUUlVwV1ZqRmtNRll4WkhSV2JrNVlZa1p3V1ZsVVJuZFZWbHAwWkVWMFZrMVdXa2hXVm1oclZWWmFSbUY2UmxWVFNFSkRXa2R6ZUZKRk9WVmFSM2hwWVd0SmVWZHNVazlpTURsV1pETndhMUpHV25SV1dIQnpZMFpzY2xkVVZrNWlSM1EwVkRGa2MxbFhWbFZpUkVwYVlURnJNVmw2U2s5U01EbFlZMGRzWVdWcVFUVT0=",5),V.crs,V):"Hybrid"==V.layerType&&(l=new ttw.gisPack.Proj.TileLayer.TMS(a.abt("VjFaV2IxVXdNVWhVYTFacFRURndUbFJYY0hOTlZtUnpZVVpPYWxJd2NFbFdiWEJyWVdzeE5sRnFSbHBpUjFKSVdrUkNOR1JGTlZoaFIzUnBWbXh2TVZaRlkzZE5WMHBJVld0U1VGWjZWbWhXTUZwSFRXeFNXR05JU210aGVrWklWakkxUjFaSFJuSlRiR2hWVmpOU1dGUnNXbFpsUjBaSlZHeGFUbFl4U2twWGJGWmhZVEZrYzFkcldtcFRSbkJoVkZaYWQxWXhjRVZUYTJSVFlrWktNRmxWV2s5aFZrcDBUMVJTVjAxV1NrUlhWbVJHWlZaS2RWUnNhR2xpUm5CNFZUSndRMVl3TVhKV2FsWldUVmRvZWxaVVJtdFRSMVpIV2tad1YxSllRakpYVkVaaFZtMVJlVkpyV2xWaVYyaFVXV3RhZG1WR1pGVlJiVVpvVFd0YWVsWnRjRXROUmxsNVVsaHNWRmRIZUZSV01HUTBWakZzVlZOdE9XcFdiRll6V1ZWV1QyRkdTbk5YYWtaYVRVWndjbGxYZUdGV2Frb3dWakpGZVZOWWJGTlhSM2hYV1ZSS2IyTldWWGRoUlU1b1VteGFNVmt3V210aGJGVmpKMFYyRXlTWGxTV0d4V1lUSm9jVlV3YUVOaFJsWjFZMFprYWxadGVGbFViRlUxVkdzeGNtSXpjRlpTYkVZelZVWkZPVkJSUFQwPXAwWlVac1ZXSkdWVEZXUjNONFkyMUplbU5HV2xOaVJWbDZWbFZhUms5V1FsSlFWREE5WkVkV1IySkdWbWxTYkZWNFZtdGtlbVZIVG5SVFdIQnFVbXh3VkZsclZscGxiRnBXVjJ0YVVGWnJTbE5WUmxGM1VGWmtkVlZ0ZUZOaVdHaFhWMWQwWVZack1WZFhhMmhxVFRKb2NWbHNWbk5PYkd0M1YyMUdWazFyY0VkV01XaDNWakZhVjJORlpGVk5WbkJFVmxkNFExWlZNVVZOVms1cFVtdHdNRnBWV21GWGJVVjRZMFprVlZac2NHaFZNR1JPWlcxR1NHTkhiRmRXTTJONVZqRlNRMWxXYkZkV1dHeFVZVEZ3V1ZZd2FFTlhSbHB6VjI1a1UwMVdSalJXTW5SUFZtMUtSbE5zV2xWV1ZrWXpXa2R6ZUZKRk9WVmFSM2hwWVd0SmVWZHNVazlpTURsV1pETndhMUpHV25SV1dIQnpZMFpzY2xkVVZteGlWa3BJVkRGa2MxbFhWbFZpUkVwYVlURnJNVnBYTVZOU01EbFpZa2RHVW1WdGQzbFhWM1JhVGxkV2RGVnJaRkJXTW1od1YyNXZkMDlSUFQwPQ==",5),V.crs,V));var e=n(V.map,l,V.map.DIC_LAYERS,V.layerType.toLowerCase());return e};this.addLayer_Tile__NHN=function(V){return U(V)};var h=function(V){V.map.DIC_LAYERS=V.map.DIC_LAYERS||{};var l=null;"Street"==V.layerType&&(l=ttw.gisPack.tileLayer(a.abt("VjFaV2IxVXdNVWhVYTFacFRURndUbFJVVGxOT2JIQnpWRlJHVGxJd1dsbGFWV1EwVkZkS1ZXSkVXbHBpUm5Cb1dURmFUMk5XUm5OYVJUVm9UVlpyZUZac1VrZGlNazE0Vmxob1lWSlhhSE5WYlRGVFdWWmFjbFp1Wkd0aVIzUTBWako0WVdFd01YSlhhMlJYVW5wR2RsWlVTa3RTTWtsNllVWm9WMUpWY0c5WFZsSkxVakpOZUZwSVZsZGlXRUpNVkZWYVdtVldTbGxpUmxKWVVqTm9WVlpxUW10T1JsbDRZa1pXVkdKVWJIRldiWGhYVFRGc1ZsWnJPV2hTYTNCNlZqSndSMWRyTVVkalNFcGFWak5vYUZadGNFdE5SbGw1VWxoc1ZGZEhlRlJXTUdRMFZqRnNWVk50T1dwV2JGWXpXVlZXVDJGR1NuTlhha1phVFVad2NsbFhlR0ZXYWtvd1ZqSkZlVk5ZYkZOWFIzaFhXVlJLYjJOV1ZYZGhSVTVvVW14YU1Wa3dXbXRoYkZWakowVjJFeVNYbFNXR3hXWVRKb2NWVXdhRU5oUmxaMVkwWmthbFp0ZUZsVWJGVTFWR3N4Y21JemNGWlNiRVl6VlVaRk9WQlJQVDA9cDBaVVpzVldKR1ZURldSM040WTIxSmVtTkdXbE5pUlZsNlZsVmFSazlXUWxKUVZEQTlaRWRXUjJKR1ZtbFNiRlY0Vm10a2VtVkhUblJUV0hCcVVteHdWRmxyVmxwbGJGcFdWMnRhVUZaclNsTlZSbEYzVUZkU1NGWnJaR2xTYkZwd1ZXMTRWbVZHV25KYVNIQnNVakExTUZVeGFIZGhiRXB6WTBaU1dtRXhXbUZhVjNoaFZteGtjbGRzUWxkaE1IQlVWbFZhVW1ReFFsZFRiazVXWWxSRk1GWnRlSE5qYkdSelYyczFWMkpJUWtwWFdIQlBZakpHZEZOc1dtbFNSbkJoVkZWYWQyRkdXbFZUYTNSVFlrZFNXbGt3V210V01WcDFVV3RvVjFKRldtaFZWRVpYWXpGR2MxWnJOVk5TUlVsNFYxZHdUMU15U25Ka00zQnJVa1p3ZEZaWWNISk5NWEJXV2pOa2EySldWalpaYTFKelZGZEtjbE5xUmxoaWJVMDFWVVpGT1ZCUlBUMD0=",5),V)),"Gray"==V.layerType&&(l=ttw.gisPack.tileLayer(a.abt("VjFaV2IxVXdNVWhVYTFacFRURndUbFJYTlc5ak1XUlhXa2RHYWsxWVFscFdWbWhUV1Zaa1NGb3paRnBOYWtaSVdsZDBOR1JHY0VsUmJYUlRUVzFrTkZZeFpISk5WbGw1VW01S2FVMHlVbGhaVjNSM1VqRndWMWRyT1ZoV01IQklWa2Q0YjFVd01IbGhSbXhYVFZad1ZGVjZTa3BsVmxKeldrWmtXRkl4U25aV1YzaFdUVmRKZUZadVVteFNNRnBQVm0weE1FMHhXWGxOVkVKb1VqQndTRlp0TVhkVE1ERkhWMWhzVTFkSGVGVldNR1EwVmtaWmQxcEVVbGROVjNoV1ZUSXdOV0ZzV25OV2FrNWFWbFphVUZsVldrdGpNV1J4VW14d1RsSnVRbmxYVm1RMFdWWmFjVk5xUWxkTmExWTFWVEZvYzFVeFpFaGxSbVJhVmtWd2Rsa3hXbFprTWtaR1ZHMW9VMkpHYjNoWFZFSmhZVEpHYzFacVNqQldNa1Y1VTFoc1UxZEhlRmRaVkVwdlkxWlZkMkZGVG1oU2JGb3hXVEJhYTJGc1ZqSjBWMkV5U1hsU1dHeFdZVEpvY1ZVd2FFTmhSbFoxWTBaa2FsWnRlRmxVYkZVMVZHc3hjbUl6Y0ZaU2JFWXpWVVpGT1ZCUlBUMD1XblJsUm14VllrWlZNVlpIYzNoamJVbDZZMFphVTJKRldYcFdWVnBHVDFaQ1VsQlVNRDFYYmxKc1VtMTRWbGxyV2xaTlZscElZek5vYW1KVmJEWlpNRnBoVlRKS1JsZFljRmRXVm5CSFZERmFRMVZzUWxWTlJERnJVakZhU0ZscldsZGhWa3B6Vmxob1YyRXlValphVldSUFpFWk9XV05IY0ZOaVNFSlZWMWQwVjFkdFZuTlhiRnBZWVRGd1VWWnRkRXRWTVZaSFZWaGtVVmRGUmpOV01uaFhXVmROZUZkc2FGUmhNbEpZVm10V1lWZEdWbkZVYXpsUFVtMTBOVlJXVm5kaVIwcFdUbFZvVjAxdWFGQlpWbHBMVmpKS1JWZHNaR2xTYkhCdlZsY3hlazVXV1hoU2JrNVVZa1ZhV0ZWclZrWk9WbXhYV1hwU2EySlZjRWxXYlRGdldWZEtXV0ZJVG1GU1ZURTBXa1JLVDJSRk9WVlRiV2hYVFZWd2VsZFVTVEZVYlZKMFZHdHNWR0pZYUhKWmJHUTBZekZ3U1dGNlVsRlZWREE1",5),V));var e=n(V.map,l,V.map.DIC_LAYERS,V.layerType.toLowerCase());return e};this.addLayer_Tile__OSM=function(V){return h(V)};var i=function(V){V.map.DIC_LAYERS=V.map.DIC_LAYERS||{};var l=null;V.continuousWorld=!0,V.reuseTiles=!0,"Street"==V.layerType?l=ttw.gisPack.tileLayer(e+a.abt("VjJ4V2ExVXdNSGxUV0hCVVltczFhRlZZY0ZabFZuQkZVMVJXYkZZd2NFbFdWbWhYWVVVd2QyRjZTbFZOUmtwRFZHdFZlRkpGT1VsaVIwWlNaVzE0V1ZkV1pEQmtiVkY0VjI1R1ZHRXhjSE5XYlhNeFYyeHNjbGRyT1ZoU2EydzJXVlZhYjFkR1duTlRhM2hhWVd0d1VGWnFSbUZYVm5CSVlVWk9WMVpHV2pKV2JHTjRUa1pzVmsxV1pHaE5NbEpaV1d4b1UySXhiSEpYYkdSb1lUSTVNMVp0Y0V0U2JWWlhWR3hzYVZKck5WbFZhazV2VjBaa1YxVnJkR2xOYXpWWVZteG9hMkZHU2xaT1Z6bFdZbGhvYUZSV1duSmtNV1IwWkVkb2FWSnNXbkZUYWtKWFRXdFdOVlV4YUhOVk1XUklaVVprV2xaRmNIWlpNVnBXWkRKR1JsUnRhRk5pUm05NFYxUkNZV0V5Um5OV2Frb3dWakpGZVZOWWJGTlhSM2hYV1ZSS2IyTldWWGRoUlU1b1VteGFNVmt3V210aGJGVmpKMFYyRXlTWGxTV0d4V1lUSm9jVlV3YUVOaFJsWjFZMFprYWxadGVGbFViRlUxVkdzeGNtSXpjRlpTYkVZelZVWkZPVkJSUFQwPXAwWlVac1ZXSkdWVEZXUjNONFkyMUplbU5HV2xOaVJWbDZWbFZhUms5V1FsSlFWREE5VjI1U2JGSnRlRlpaYTFwV1RWWmFTR016YUdwaVZXdzJXVEJhWVZVeVNrWlhXSEJYVmxad1IxUXhXa05WYkVKVlRVUXhkMDFHY0ZaWGJrNVhWakJ3U0Zac1VrZFdNVWw2VkdwU1drMXFSa3RhVnpGUFVqRmtjMVJ0YkZOV2JYY3lWbTE0VjFsV1NuSlBWbVJTWWtWd1VsWnJVa0pQVjA1RlVXMUdWMVp1UWpaV2JYaHJVekZKZUZkc1ZsTmlSMUpVVkZSQk1FMUdaRlZUV0doVVlsWmFNRlpIZEd0WFIwcEdUbGhDVm1KR2NIcFViWGhoWXpGYWRGSnNUbWhsYlhoWlZsWmtORk14VmxkWGExWlNWa2Q0VTFsc1ZtRk9iR1J6VkZSU2JGWlVSa1pWYkdoM1ZHeGFSbEpxU21GV1JUVXpWREZXTTJWdFVrVlZiVEZXWlcxemVsZHNXbTVrTWxKWVZHdG9UMVo2VVRrPQ==",5),V):"Satellite"==V.layerType?l=ttw.gisPack.tileLayer(e+a.abt("VjJ4V2ExVXdNSGxUV0hCVVltczFhRlZZY0ZabFZuQkZVMVJXYkZZd2NFbFdWbWhYWVVVd2QyRjZTbFZOUmtwRFZHdFZlRkpGT1VsaVIwWlNaVzE0VmxZeFdtOVZNVmw1VW01S2FVMHlVbGhaVjNSM1VqRndWMWRyT1ZoV01IQklWa2Q0YjFVd01IbGhSbXhYVFZad1ZGVjZTa3BsVmxKeldrWmtXRkl4U25aV1YzaFdUVmRKZUZadVVteFNNRnBQVm0weE1FMHhXWGxOVkVKb1VqQndTRlp0TVhkVE1ERkhWMWhzVTFkSGVGVldNR1EwVmtaWmQxcEVVbGROVjNoV1ZUSXdOV0ZzV25OV2FrNWFWbFphVUZsVldrdGpNV1J4VW14d1RsSnVRbmxYVm1RMFdWWmFjVk5xUWxkTmExWTFWVEZvYzFVeFpFaGxSbVJhVmtWd2Rsa3hXbFprTWtaR1ZHMW9VMkpHYjNoWFZFSmhZVEpHYzFacVNqQldNa1Y1VTFoc1UxZEhlRmRaVkVwdlkxWlZkMkZGVG1oU2JGb3hXVEJhYTJGc1ZqSjBWMkV5U1hsU1dHeFdZVEpvY1ZVd2FFTmhSbFoxWTBaa2FsWnRlRmxVYkZVMVZHc3hjbUl6Y0ZaU2JFWXpWVVpGT1ZCUlBUMD1XblJsUm14VllrWlZNVlpIYzNoamJVbDZZMFphVTJKRldYcFdWVnBHVDFaQ1VsQlVNRDFYYmxKc1VtMTRWbGxyV2xaTlZscElZek5vYW1KVmJEWlpNRnBoVlRKS1JsZFljRmRXVm5CSFZERmFRMVZzUWxWTlJERnJVakZhU0ZscldsZGhWa3B6Vmxob1YyRXlValphVldSUFpFWk9XV05IY0ZOaVNFSlZWMWQwVjFkdFZuTlhiRnBZWVRGd1VWWnRkRXRWTVZaSFZWaGtVVmRGUmpOV01uaFhXVmROZUZkc2FGUmhNbEpZVm10V1lWZEdWbkZVYXpsUFVtMTBOVlJXVm5kaVIwcFdUbFZvVjAxdWFGQlpWbHBMVmpKS1JWZHNaR2xTYkhCdlZsY3hlazVXV1hoU2JrNVVZa1ZhV0ZWclZrWk9WbVJ6V2tSU2FrMXJXbHBXVnpFMFZGZFdjbUpFVGxWV2JFcFBXa1JCZUZaRk9WVmFSM2hwWVd0SmVWZHNVazlpTURsV1pETndhMUpHV25SV1dIQlhaVVpyZDFwR1pHbGFlakE1",5),V):"Hybrid"==V.layerType&&(l=ttw.gisPack.tileLayer(e+a.abt("VjJ4V2ExVXdNSGxUV0hCVVltczFhRlZZY0ZabFZuQkZVMVJXYkZZd2NFbFdWbWhYWVVVd2QyRjZTbFZOUmtwRFZHdFZlRkpGT1VsaVIwWlNaVzE0UzFadE1IaGtNVTEzVFZWa1dGZEhlRlJXTUdRMFZsWlpkMXBFVWxkU2JHd3pWMnRTVTFZd01WaGxSbHBXVFdwQk1WbFhlR0ZqTVZweFZHeHdWMVpzY0ZGWFZsWmhVekpOZUZwSVJsTmlTRUpQVlcwMVEyVldaRmRhUkZKYVZteHdlRlV5Y0VOV01ERnlWbXBXVmsxWGFIcFdWRVpyVTBkV1IxcEdjRmRTV0VJeVYxUkdZVlp0VVhsU2ExcFZZbGRvVkZsclduWmxSbVJWVVcxR2FFMXJXbnBXYlhCTFRVWlplVkpZYkZSWFIzaFVWakJrTkZZeGJGVlRiVGxxVm14V00xbFZWazloUmtwelYycEdXazFHY0hKWlYzaGhWbXBLTUZZeVJYbFRXR3hUVjBkNFYxbFVTbTlqVmxWM1lVVk9hRkpzV2pGWk1GcHJZV3hhVmpKMFYyRXlTWGxTV0d4V1lUSm9jVlV3YUVOaFJsWjFZMFprYWxadGVGbFViRlUxVkdzeGNtSXpjRlpTYkVZelZVWkZPVkJSUFQwPWRHVkdiRlZpUmxVeFZrZHplR050U1hwalJscFRZa1ZaZWxaVldrWlBWa0pTVUZRd1BXUkhWa2RpUmxacFVteFZlRlpyWkhwbFIwNTBVMWh3YWxKc2NGUlphMVphWld4YVZsZHJXbEJXYTBwVFZVWlJkMUJXWkhWVmJYaFRZbGhvVjFkWGRHRldhekZYVjJ0b2FrMHlhSEZaYkZaelRteHJkMWR0UmxaTmEzQkhWakZvZDFZeFdsZGpSV1JWVFZad1JGWlhlRU5XVlRGRlRWZDBVMDFXY0VsWFYzUmhWakpHVjFOdVRsZFhSMmhZV1ZSS1UwNXNjRlphUlRsclVtczFXbGt3WkhkVk1rcEpVV3hXV0ZZelVsaFdNakZYWXpGa2MxZHNhR2hOV0VKU1ZtMHhNRk14VlhoV2EyUldWMGRTVWxZd1pEUmpSbXQ1VFZoT2FFMUlaekpWTVdoclZHeGFSazFVVWxWV1ZUQXhWR3BLVjJSVk1VbFhiWGhPVFcxak1WWkZVazlOUlRWWVYyeFNUMWRIVW5CWmJHUk9UMUU5UFE9PQ==",5),V));var t=n(V.map,l,V.map.DIC_LAYERS,V.layerType.toLowerCase());return t};this.addLayer_Tile__VWorld=function(V){return i(V)};var p=function(V){return n(V.map,new ttw.gisPack.circle(V.c,V),V.map.DIC_LAYERS_VECTOR_CIRCLE,V.k)};this.addLayer_Vector__Circle=function(V){return p(V)},this.addLayer_Vector__Circle_XY=function(V){return J(V.c),p(V)};var T=function(V){return n(V.map,new ttw.gisPack.circleDash(V.c,V),V.map.DIC_LAYERS_VECTOR_CIRCLE,V.k)};this.addLayer_Vector__CircleDash=function(V){return T(V)},this.addLayer_Vector__CircleDash_XY=function(V){return J(V.c),T(V)};var o=function(V){return n(V.map,new ttw.gisPack.circleMarker(V.c,V),V.map.DIC_LAYERS_VECTOR_CIRCLE_MARKER,V.k)};this.addLayer_Vector__CircleMarker=function(V){return o(V)},this.addLayer_Vector__CircleMarker_XY=function(V){return J(V.c),o(V)};var Y=function(V){return n(V.map,new ttw.gisPack.circleMarkeDash(V.c,V),V.map.DIC_LAYERS_VECTOR_CIRCLE_MARKER,V.k)};this.addLayer_Vector__CircleMarkerDash=function(V){return Y(V)},this.addLayer_Vector__CircleMarkerDash_XY=function(V){return J(V.c),Y(V)};var m=function(V){return n(V.map,new ttw.gisPack.polygon(V.g,V),V.map.DIC_LAYERS_VECTOR_POLYGON,V.k)};this.addLayer_Vector__Polygon=function(V){return m(V)},this.addLayer_Vector__Polygon_XY=function(V){return E(V.g),m(V)};var s=function(V){return n(V.map,new ttw.gisPack.polygonDash(V.g,V),V.map.DIC_LAYERS_VECTOR_POLYGON,V.k)};this.addLayer_Vector__PolygonDash=function(V){return s(V)},this.addLayer_Vector__PolygonDash_XY=function(V){return E(V.g),s(V)};var S=function(V){return n(V.map,new ttw.gisPack.polyline(V.g,V),V.map.DIC_LAYERS_VECTOR_POLYLINE,V.k)};this.addLayer_Vector__Polyline=function(V){return S(V)},this.addLayer_Vector__Polyline_XY=function(V){return E(V.g),S(V)};var G=function(V){return n(V.map,new ttw.gisPack.polylineDash(V.g,V),V.map.DIC_LAYERS_VECTOR_POLYLINE,V.k)};this.addLayer_Vector__PolylineDash=function(V){return G(V)},this.addLayer_Vector__PolylineDash_XY=function(V){return E(V.g),G(V)};var b=function(V){return n(V.map,new ttw.gisPack.rectangle(V.g,V),V.map.DIC_LAYERS_VECTOR_RECTANGLE,V.k)};this.addLayer_Vector__Rectangle=function(V){return b(V)},this.addLayer_Vector__Rectangle_XY=function(V){return E(V.g)};var X=function(V){return n(V.map,new ttw.gisPack.rectangleDash(V.g,V),V.map.DIC_LAYERS_VECTOR_RECTANGLE,V.k)};this.addLayer_Vector__RectangleDash=function(V){return X(V)},this.addLayer_Vector__RectangleDash_XY=function(V){return E(V.g)};var _=function(V){var a=ttw.gisPack.layerGroup();return a.addTo(V.map),a._map=a.map=V.map,V.map.DIC_LAYER_GROUP[V.k]=a,u(a),a};this.addLayerGroup=function(V){return _(V)};var N=function(V){var a=ttw.gisPack.marker(V.c,{icon:V.map.DIC_ICON[V.kIcon]});return a.addTo(V.map),V.map.DIC_MARKER[V.k]=a,a};this.addMarker_Icon=function(V){return N(V)},this.addMarker_Icon_XY=function(V){return J(V.c),N(V)};var J=function(V){var a=V[0];return V[0]=V[1],V[1]=a,V},E=function(V){for(var a,l,e=0,t=V.length;t>e;++e)a=V[e],l=a[0],a[0]=a[1],a[1]=l;return V},y=function(V){V.__removeLayer=V.removeLayer},u=function(V){V.__removeLayer=V.removeLayer,V.removeLayer=function(a,l){V.__removeLayer(a);try{delete l[a.kLayer]}catch(e){}}},M=function(V){V.DIC_FEATURE_GROUP={},V.DIC_ICON={},V.DIC_IMAGEOVERLAY={},V.DIC_LAYER_GROUP={},V.DIC_LAYERS={},V.DIC_LAYERS_VECTOR_CIRCLE={},V.DIC_LAYERS_VECTOR_CIRCLE_MARKER={},V.DIC_LAYERS_VECTOR_POLYGON={},V.DIC_LAYERS_VECTOR_POLYLINE={},V.DIC_LAYERS_VECTOR_RECTANGLE={},V.DIC_MARKER={},V.DIC_STYLE_CIRCLE={},V.DIC_STYLE_FILL={},V.DIC_STYLE_ICON={},V.DIC_STYLE_IMAGE={},V.DIC_STYLE_REGULARSHAPE={},V.DIC_STYLE_STROKE={},V.DIC_STYLE_STYLE={},V.DIC_STYLE_TEXT={}},x=function(V){var a=ttw.gisPack.icon(V);return V.map.DIC_ICON[V.k]=a,a};this.createIcon=function(V){return x(V)};var w=function(V){var a=ttw.gisPack(V.url,V.g);return V.map.DIC_IMAGEOVERLAY[V.k]=a,a};this.createImageOverlay=function(V){return w(V)};var H=function(V){var a=ttw.gisPack.marker(V.c,{icon:V.map.DIC_ICON[V.kIcon]});return V.map.DIC_MARKER[V.k]=a,a};this.createMarker_Icon=function(V){return H(V)};var C=function(V,a,l){return V.kLayer=l,a[l]=V,V};this.createLayer_Dictionary=function(V,a,l){return C(V,a,l)};var I=function(V){return C(new ttw.gisPack.circle(V.c,V),V.map.DIC_LAYERS_VECTOR_CIRCLE,V.k)};this.createLayer_Vector__Circle=function(V){return I(V)},this.createLayer_Vector__Circle_XY=function(V){return J(V.c),I(V)};var j=function(V){return C(new ttw.gisPack.circleDash(V.c,V),V.map.DIC_LAYERS_VECTOR_CIRCLE,V.k)};this.createLayer_Vector__CircleDash=function(V){return j(V)},this.createLayer_Vector__CircleDash_XY=function(V){return J(V.c),j(V)};var O=function(V){return C(new ttw.gisPack.circleMarker(V.c,V),V.map.DIC_LAYERS_VECTOR_CIRCLE_MARKER,V.k)};this.createLayer_Vector__CircleMarker=function(V){return O(V)},this.createLayer_Vector__CircleMarker_XY=function(V){return J(V.c),O(V)};var z=function(V){return C(new ttw.gisPack.circleMarkerDash(V.c,V),V.map.DIC_LAYERS_VECTOR_CIRCLE_MARKER,V.k)};this.createLayer_Vector__CircleMarkerDash=function(V){return z(V)},this.createLayer_Vector__CircleMarkerDash_XY=function(V){return J(V.c),z(V)};var D=function(V){return C(new ttw.gisPack.polygon(V.g,V),V.map.DIC_LAYERS_VECTOR_POLYGON,V.k)};this.createLayer_Vector__Polygon=function(V){return D(V)},this.createLayer_Vector__Polygon_XY=function(V){return E(V.g),D(V)};var v=function(V){return C(new ttw.gisPack.polygonDash(V.g,V),V.map.DIC_LAYERS_VECTOR_POLYGON,V.k)};this.createLayer_Vector__PolygonDash=function(V){return v(V)},this.createLayer_Vector__PolygonDash_XY=function(V){return E(V.g),v(V)};var B=function(V){return C(new ttw.gisPack.polyline(V.g,V),V.map.DIC_LAYERS_VECTOR_POLYLINE,V.k)};this.createLayer_Vector__Polyline=function(V){return B(V)},this.createLayer_Vector__Polyline_XY=function(V){return E(V.g),B(V)};var g=function(V){return C(new ttw.gisPack.polylineDash(V.g,V),V.map.DIC_LAYERS_VECTOR_POLYLINE,V.k)};this.createLayer_Vector__PolylineDash=function(V){return g(V)},this.createLayer_Vector__PolylineDash_XY=function(V){return E(V.g),g(V)};var f=function(V){return C(new ttw.gisPack.rectangle(V.g,V),V.map.DIC_LAYERS_VECTOR_RECTANGLE,V.k)};this.createLayer_Vector__Rectangle=function(V){return f(V)},this.createLayer_Vector__Rectangle_XY=function(V){return E(V.g),f(V)};var P=function(V){return C(new ttw.gisPack.rectangleDash(V.g,V),V.map.DIC_LAYERS_VECTOR_RECTANGLE,V.k)};this.createLayer_Vector__RectangleDash=function(V){return P(V)},this.createLayer_Vector__RectangleDash_XY=function(V){return E(V.g),P(V)};var Q=function(V){V.renderer_Canvas_A=ttw.gisPack.canvas_Fast(),V.renderer_Canvas_L=ttw.gisPack.canvas_Fast(),V.renderer_Canvas_P=ttw.gisPack.canvas_Fast()},K=function(V){V.CANVAS=!0,V.renderer=ttw.gisPack.canvas();var a=ttw.gisPack.map(V.id,V);return a.attributionControl.remove(),a.zoomControl.remove(),M(a),Q(a),a};this.create_Map=function(V){return K(V)};var A=function(V){V.continuousWorld=!0,V.worldCopyJump=!1,V.zoomControl=!0,V.CANVAS=!0,V.renderer=ttw.gisPack.canvas();var a=ttw.gisPack.map(V.id,V);return a.attributionControl.remove(),a.zoomControl.remove(),M(a),Q(a),a};this.create_Map__EPSG5179=function(V){return A(V)};var q=function(V){V.continuousWorld=!0,V.worldCopyJump=!1,V.zoomControl=!0,V.CANVAS=!0,V.renderer=ttw.gisPack.canvas();var a=ttw.gisPack.map(V.id,V);return a.attributionControl.remove(),a.zoomControl.remove(),M(a),Q(a),a};this.create_Map__EPSG5181=function(V){return q(V)};var $=function(V){for(var a=[V[0],V[1],-V[2]-1],l=[],e=a[0];e>0;--e){var t=0,W=1<<e-1;0!=(a[1]&W)&&t++,0!=(a[2]&W)&&(t++,t++),l.push(t)}return l.join("")},VV=function(V){var l=_create_source_OSM__getParamsObj(V);return l.url=e+a.abt("VjJ4V2ExVXdNSGxUV0hCVVltczFhRlZZY0ZabFZuQkZVMVJXYkZZd2NFbFdWbWhYWVVVd2QyRjZTbFZOUmtwRFZHdFZlRkpGT1VsaVIwWlNaVzE0UzFadE1IaGtNVTEzVFZWa1dGZEhlRlJXTUdRMFZsWlpkMXBFVWxkU2JHd3pWMnRTVTFZd01WaGxSbHBXVFdwQk1WbFhlR0ZqTVZweFZHeHdWMVpzY0ZGWFZsWmhVekpOZUZwSVJsTmlTRUpQVlcwMVEyVldaRmRhUkZKYVZteHdlRlV5Y0VOV01ERnlWbXBXVmsxWGFIcFdWRVpyVTBkV1IxcEdjRmRTV0VJeVYxUkdZVlp0VVhsU2ExcFZZbGRvVkZsclduWmxSbVJWVVcxR2FFMXJXbnBXYlhCTFRVWlplVkpZYkZSWFIzaFVWakJrTkZZeGJGVlRiVGxxVm14V00xbFZWazloUmtwelYycEdXazFHY0hKWlYzaGhWbXBLTUZZeVJYbFRXR3hUVjBkNFYxbFVTbTlqVmxWM1lVVk9hRkpzV2pGWk1GcHJZV3hhVmpKMFYyRXlTWGxTV0d4V1lUSm9jVlV3YUVOaFJsWjFZMFprYWxadGVGbFViRlUxVkdzeGNtSXpjRlpTYkVZelZVWkZPVkJSUFQwPWRHVkdiRlZpUmxVeFZrZHplR050U1hwalJscFRZa1ZaZWxaVldrWlBWa0pTVUZRd1BXUkhWa2RpUmxacFVteFZlRlpyWkhwbFIwNTBVMWh3YWxKc2NGUlphMVphWld4YVZsZHJXbEJXYTBwVFZVWlJkMUJXWkhWVmJYaFRZbGhvVjFkWGRHRldhekZYVjJ0b2FrMHlhSEZaYkZaelRteHJkMWR0UmxaTmEzQkhWakZvZDFZeFdsZGpSV1JWVFZad1JGWlhlRU5XVlRGRlRWZDBVMDFXY0VsWFYzUmhWakpHVjFOdVRsZFhSMmhZV1ZSS1UwNXNjRlphUlRsclVtczFXbGt3WkhkVk1rcEpVV3hXV0ZZelVsaFdNakZYWXpGa2MxZHNhR2hOV0VKU1ZtMHhNRk14VlhoV2EyUldWMGRTVWxZd1pEUmpSbXQ1VFZoT2FFMUlaekpWTVdoclZHeGFSazFVVWxWV1ZUQXhWR3BLVjJSVk1VbFhiWGhPVFcxak1WWkZVazlOUlRWWVYyeFNUMWRIVW5CWmJHUk9UMUU5UFE9PQ==",5),new ttw.gisPack.source.OSM(l)},aV=function(V){var l=_create_source_OSM__getParamsObj(V);_create_source_OSM__Bing__getCommonParams_URLs(l);var e=a.abt("VmxWU1MyTXdNVWRSYkZwVFYwVTFWRnBXYUc5VWJFNTBUVWhvYW1KR2NEQlpNRll3Vkd4S2MySkVWbFppUjJoNlZtdGFhMU5IVmtkVmJHUk9VakZGZDFadGNFZGpNVnBYVkc1U1VGWXpRbGhaYTFwYVpXeGtWMVpzWkZWTmExcElWVEkxVDFkSFJuSlhiVVpWVmxad00xa3llSE5YUjFaSVVteGthR0V5T1ROV2JYQkxVbTFXVjFSc2JHbFNhelZaVldwT2IxZEdaRmRWYTNScFRXczFXRlpzYUd0aFJrcFdUbGM1Vm1KWWFHaFVWbHB5WkRGa2RHUkhhR2xTYkZweFUycENWMDFyVmpWVk1XaHpWVEZrU0dWR1pGcFdSWEIyV1RGYVZtUXlSa1pVYldoVFlrWnZlRmRVUW1GaE1rWnpWbXBLTUZZeVJYbFRXR3hUVjBkNFYxbFVTbTlqVmxWM1lVVk9hRkpzV2pGWk1GcHJZV3hhVmpKMFYyRXlTWGxTV0d4V1lUSm9jVlV3YUVOaFJsWjFZMFprYWxadGVGbFViRlUxVkdzeGNtSXpjRlpTYkVZelZVWkZPVkJSUFQwPWRHVkdiRlZpUmxVeFZrZHplR050U1hwalJscFRZa1ZaZWxaVldrWlBWa0pTVUZRd1BWZHVVbXhTYlhoV1dXdGFWazFXV2toak0yaHFZbFZzTmxrd1dtRlZNa3BHVjFod1YxWldjRWRVTVZwRFZXeENWVTFFTVhkTlJuQldWMjVPVjFZd2NFaFdiRkpIVmpGSmVsUnFVbHBOYWtaTFdsY3hUMUl4WkhOVWJXeFRWbTEzTWxadGVGZFpWa3B5VDFaa1VtSkZjRkpXYTFKQ1QxWndSbHBHWkZOTmEzQklWbTB4YzFVeVNrZFdhbEpYWWxoU2NscFhNVmRUUmxKMVZXeFNXRk5GU25oV1Z6RTBaREZhUjJKSVNsZGlTRUp6V1d0YWQxWXhXWGxrUjBaV1VteHdlVlV5ZUU5V2JFcHpVbXBPVmxKdGFGTlVNV1JHWlZVNVNWVnRhRTVOUjNnd1YydGFiMU5yT1ZkVVdHaFVWa1JCT1E9PQ==",5);return l.tileLoadFunction=function(V,a){var t=$(V.getTileCoord());""==t&&(V.getImage().src=null),V.getImage().src=l.urls._getUrls()+t+e},new ttw.gisPack.source.OSM(l)},lV=function(V){var l=_create_source_OSM__getParamsObj(V);_create_source_OSM__Bing__getCommonParams_URLs(l);var e=a.abt("VmxWU1MyTXdNVWRSYkZwYVRUQTFXRmxVUmxkbGJGWllaVWMxYWsxV1NrVmFWVlY0Vld4VmVHTkVRbHBXUlRWVFZERmtSbVZHWkhWU2JGSm9ZVEJ3V1ZaR1pEQldNRFZYVmxob2FGTkZOVmRVVm1SVFUxWndWbGR0ZEZoaVJuQkhXVEJvWVZkck1WZGpSbVJoVWtWd1NGVnRlRk5rUjBaSFZHMXNVMkpVYXpCV2FrWlRVVEZzV0ZKWWJGTmlhelZaV1cxNFlXTldUbkZSYkdST1lURlpNVlpVUm05ak1WVjRXa1ZvYkZKdFVtRldhMVozWkd4cmVGZHNXbXROYTFwSFZrY3hiMVV5U2tkaU0yaFlWa1ZLYUZsVVNrZGpNVnB4VTJwQ1YwMXJWalZWTVdoelZURmtTR1ZHWkZwV1JYQjJXVEZhVm1ReVJrWlViV2hUWWtadmVGZFVRbUZoTWtaelZtcEtNRll5UlhsVFdHeFRWMGQ0VjFsVVNtOWpWbFYzWVVWT2FGSnNXakZaTUZwcllXeGFWakowVjJFeVNYbFNXR3hXWVRKb2NWVXdhRU5oUmxaMVkwWmthbFp0ZUZsVWJGVTFWR3N4Y21JemNGWlNiRVl6VlVaRk9WQlJQVDA9ZEdWR2JGVmlSbFV4VmtkemVHTnRTWHBqUmxwVFlrVlplbFpWV2taUFZrSlNVRlF3UFZkdVVteFNiWGhXV1d0YVZrMVdXa2hqTTJocVlsVnNObGt3V21GVk1rcEdWMWh3VjFaV2NFZFVNVnBEVld4Q1ZVMUVNVmhpYkVwelZXMHhORlpzYkhKWGJGcE9WbXh3U1ZsNlRtOWhiVXBXWWtSYVdrMUdjR2hXVkVwTFVteGtXV05HWkZkV2JrSklWa1JHWVZFeFZuTlJiRlpPVWtSR1ZGbHJXa3RrUjFaSFYyeHdhRTFZUWxoV1JscGhXVlpPU0ZSWWNHaFNNMEp3Vm14a00wMXNaRlZSYlVaYVZteFdOVlV5ZEdGWFJtUkpVV3hvVjJKR2NETlZha1pTWlVaa2NsUnNXbWxTVlhCWFZrWldVbVZIVW5KbFJtaHJVMGQ0VEZsdGVHRk9WbFpIVm1wQ1ZrMUlRakZXUnpBMVYyeFplRk51WkZwaVZFWnhWREZrUjFOSFNrbFViV3hTVmtSQk5RPT0=",5);return l.tileLoadFunction=function(V,a){var t=$(V.getTileCoord());""==t&&(V.getImage().src=null),V.getImage().src=l.urls._getUrls()+t+e},new ttw.gisPack.source.OSM(l)},eV=function(V){var a=V.map,l=ttw.gis.addFeatureGroup({map:a,k:V.k?V.k:"FeatureGroup_Editor",renderer:L.canvas()}),e=V.control,t=e.draw,W=e.edit,W=e.event,r=new L.Control.Draw({position:e.position?e.position:"topright",draw:{polyline:t.polyline?t.polyline:!1,polygon:t.polygon?t.polygon:!1,circle:t.circle?t.circle:!1,marker:t.marker?t.marker:!1},edit:{featureGroup:l,remove:W.remove?W.remove:!1}});a.addControl(r),a.on("draw:created",W.draw_created?W.draw_created:function(V){var a=(V.layerType,V.layer);l.addLayer(a)}),a.on("draw:edited",W.draw_edited?W.draw_edited:function(V){var a=V.layers,l=0;a.eachLayer(function(V){l++})})};this.initialize_GeometryEditor=function(V){return eV(V)};var tV=function(V){V.tileLayer||(V.tileLayer={});var a=V.tileLayer;return a.map=K(V),a.layerType="Street",d(a),{map:V.map,layers:V.map.DIC_LAYERS}};this.initialize_Map__Tile__Bing=function(V){return tV(V)};var WV=function(V){var a=new ttw.gisPack.Proj.CRS.TMS("EPSG:5181","+proj=tmerc +lat_0=38 +lon_0=127 +k=1 +x_0=200000 +y_0=500000 +ellps=GRS80 +units=m +no_defs",[-3e4,-6e4,494288,988576],{resolutions:[2048,1024,512,256,128,64,32,16,8,4,2,1,.5,.25]});V.tileLayer||(V.tileLayer={});var l=V.tileLayer;return V.crs=l.crs=a,l.map=q(V),V.bStreet&&(l.layerType="Street",k(l)),V.bSatellite&&(l.layerType="Satellite",k(l)),V.bHybrid&&(l.layerType="Hybrid",k(l)),l.map.setView([38,127],0),{map:l.map,layers:l.map.DIC_LAYERS}};this.initialize_Map__Tile__Daum=function(V){return WV(V)};var rV=function(V){V.tileLayer||(V.tileLayer={});var a=V.tileLayer;return a.map=K(V),V.bStreet&&(a.layerType="Street",c(a)),V.bSatellite&&(a.layerType="Satellite",c(a)),V.bSatellite_Hybrid&&(a.layerType="Satellite&Hybrid",c(a)),V.bTerrain&&(a.layerType="Terrain",c(a)),V.bHybrid&&(a.layerType="Hybrid",c(a)),{map:a.map,layers:a.map.DIC_LAYERS}};this.initialize_Map__Tile__Google=function(V){return rV(V)};var ZV=function(V){var a=new ttw.gisPack.Proj.CRS.TMS("EPSG:5179","+proj=tmerc +lat_0=38 +lon_0=127.5 +k=0.9996 +x_0=1000000 +y_0=2000000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",{resolutions:[2048,1024,512,256,128,64,32,16,8,4,2,1,.5,.25]});V.tileLayer||(V.tileLayer={});var l=V.tileLayer;return V.crs=l.crs=a,l.map=A(V),V.bStreet&&(l.layerType="Street",U(l)),V.bSatellite&&(l.layerType="Satellite",U(l)),V.bCadastral&&(l.layerType="Cadastral",U(l)),V.bHybrid&&(l.layerType="Hybrid",U(l)),l.map.setView([38,127],0),{map:l.map,layers:l.map.DIC_LAYERS}};this.initialize_Map__Tile__NHN=function(V){return ZV(V)};var FV=function(V){V.tileLayer||(V.tileLayer={});var a=V.tileLayer;return a.map=K(V),a.layerType="Street",h(a),{map:a.map,layers:a.map.DIC_LAYERS}};this.initialize_Map__Tile__OSM=function(V){return FV(V)};var RV=function(V){V.tileLayer||(V.tileLayer={});var a=V.tileLayer;return a.map=K(V),V.bStreet&&(a.layerType="Street",i(a)),V.bSatellite&&(a.layerType="Satellite",i(a)),V.bHybrid&&(a.layerType="Hybrid",i(a)),{map:a.map,layers:a.map.DIC_LAYERS}};this.initialize_Map__Tile__VWorld=function(V){return RV(V)},this.getValue__CheckHasOwnProperty=function(V,a,l){return V.hasOwnProperty(a)?V[a]:l};var nV=function(V){e=V};this.setURL_Proxy=function(V){nV(V)};for(var dV=[],W=0,r=dV.length;r>W;++W)dV[W].owner=this;return this}}();window.TtwPackageLeafletInitialize=function(){var t="TtwPackageLeafletInitialize",e=window,a=e.Lib.Ttw,i=a.CLASS,w="window.Lib.Ttw.",n=i.FN;a.fnLeaflet=new n.GIS_Leaflet({instanceKey:w+"fnGIS_Leaflet"}),e.STtwUtilGISLeaflet=a.fnLeaflet,e.ttw=e.ttw||{};var l=e.ttw;l.gisPack=e.L,l.gis=e.STtwUtilGISLeaflet,e.TT=l.template=STtwUtilTemplateHTML,a.fnCommon.destroyKeys(i.FN,["GIS_Leaflet"]);var f=STtwUtilCommon.destroyKey,L=function(t){f(window,t)};L(t),L("TtwPackageLeaflet")}();window.global=window,function(){var e=function(e){for(var n=new Date,t=SUtilTemplateHTML.addJS__URL,r=SUtilXMLHttpReqGetRef.reqSyncReturn,s=function(e){return JSON.parse(r(null,e+"__list.json").responseText)},o=e,i=s(o),l=0,a=i.length;a>l;++l){var f=o+i[l]+"/",u=s(f),c=0;for(jLen=u.length;c<jLen;++c){var _=f+u[c]+"/",d=s(_),v=0,p=d.length;if(++n,"__define"==u[c])for(;p>v;++v)t(_+d[v]+".js?n="+n);else for(;p>v;++v)t(_+d[v]+".js?n="+n)}}},n=function(e){var n=document,t=n.head,r=SUtilXMLHttpReqGetRef.reqSyncReturn,s=function(e){return JSON.parse(r(null,e+"__list.json").responseText)},o=function(e){return JSON.parse(r(null,e+"__listDir.json").responseText)},i=function(e){for(var r=s(e),l=0,a=r.length;a>l;++l){var f=n.createElement("LINK");f.type="text/css",f.rel="stylesheet",f.href=e+r[l],t.appendChild(f)}var u=o(e);for(var l in u)u[l]=e+u[l]+"/";for(var l=0,a=u.length;a>l;++l)i(u[l])},l="./css/";i(l)};
if(window._$TATIC_CONST_DEBUG)e("./js/");else SUtilTemplateHTML.addJS__URL(Lib.Ttw.abt("VjFaV2IxVXdNVWhVYTFacFRURndUbHBYZEhOT1JsSlhWRlJDYkZaVVZsWlZiR2hYVkcxR2NrMUliRlZTTTBKSFZGVlZOVkpYU2paUmJFSlhVbFJGTVZaR2FISk9WbGw1VW01S2FVMHlVbGhaVjNSM1VqRndWMWRyT1ZoV01IQklWa2Q0YjFVd01IbGhSbXhYVFZad1ZGVjZTa3BsVmxKeldrWmtXRkl4U25aV1YzaFdUVmRKZUZadVVteFNNRnBQVm0weE1FMHhXWGxOVkVKb1VqQndTRlp0TVhkVE1ERkhWMWhzVTFkSGVGVldNR1EwVmtaWmQxcEVVbGROVjNoV1ZUSXdOV0ZzV25OV2FrNWFWbFphVUZsVldrdGpNV1J4VW14d1RsSnVRbmxYVm1RMFdWWmFjVk5xUWxkTmExWTFWVEZvYzFVeFpFaGxSbVJhVmtWd2Rsa3hXbFprTWtaR1ZHMW9VMkpHYjNoWFZFSmhZVEpHYzFacVNqQldNa1Y1VTFoc1UxZEhlRmRaVkVwdlkxWlZkMkZGVG1oU2JGb3hXVEJhYTJGc1ZqSjBWMkV5U1hsU1dHeFdZVEpvY1ZVd2FFTmhSbFoxWTBaa2FsWnRlRmxVYkZVMVZHc3hjbUl6Y0ZaU2JFWXpWVVpGT1ZCUlBUMD1XblJsUm14VllrWlZNVlpIYzNoamJVbDZZMFphVTJKRldYcFdWVnBHVDFaQ1VsQlVNRDFYYmxKc1VtMTRWbGxyV2xaTlZscElZek5vYW1KVmJEWlpNRnBoVlRKS1JsZFljRmRXVm5CSFZERmFRMVZzUWxWTlJERnJVakZhU0ZscldsZGhWa3B6Vmxob1YyRXlValphVldSUFpFWk9XV05IY0ZOaVNFSlZWMWQwVjFkdFZuTlhiRnBZWVRGd1VWWnRkRXRWTVZaSFZWaGtVVmRGUmpOV01uaFhXVmROZUZkc2FGUmhNbEpZVm10V1lWZEdWbkZVYXpsUFVtMTBOVlJXVm5kaVIwcFdUbFZvVjAxdWFGQlpWbHBMVmpKS1JWZHNaR2xTYkhCdlZsY3hlazVXV1hoU2JrNVVZa1ZhV0ZWclZrWk9WbXhZVGxVMWExSXdjRmxXYlRWeldWVXhjMVpxU2xoU1JWVXhWMjB4UzFkR1duVmlSMFpPWWtad2RGZFhlR3RqTWxKWFdqTnNVMkpyTlhCVmJYQnZUa1pTU0UxWVpHeGFlakE1",5));
e("./js-common/");
window.b2link.util.importJS__Reuse(window.b2link.url.getServerURLByServers("SYS0015_WebServer")+"/libs/Semantic-UI/import-js.js");
window._$TATIC_CONST_DEBUG=true;
if(window._$TATIC_CONST_DEBUG)e("./js--Semantic-UI/");else window.b2link.util.importJS__Reuse(window.b2link.url.getServerURLByServers("SYS0015_WebServer")+"/js--Semantic-UI/___merge_min_all_1_0.js");
if(window._$TATIC_CONST_DEBUG)e("./js__GIS/");else window.b2link.util.importJS__Reuse(window.b2link.url.getServerURLByServers("SYS0015_WebServer")+"/js__GIS/___merge_min_all_1_0.js");

if(window._$TATIC_CONST_DEBUG)e("./js__mobilian__doorLockCtrlSystem/");else window.b2link.util.importJS__Reuse("./js__mobilian__doorLockCtrlSystem/___merge_min_all_1_0.js");
if(window._$TATIC_CONST_DEBUG)e("./js__mobilian__sessionServer/");else window.b2link.util.importJS__Reuse("./js__mobilian__sessionServer/___merge_min_all_1_0.js");

n("./css/");//./css/*.css 자동 로드 - 사전에 __list.json 빌드가 되어 있어야한다;
}();
window.service_member.session.destroy_session(function(e){window.TtwLog.log(e)});
window.b2link.event.__initialize_Events();

window.b2link.STATIC.CONFIG.URL.UI.LOCALE="kr";
//----------------------------------------------------------------------------------------------------;
var fileNm = "js-common/index--SYS0010.js";
if( console ) console.log( "[ S ] - " + fileNm + "----------" );
//----------------------------------------------------------------------------------------------------;

//----------------------------------------------------------------------------------------------------;

//	STATIC VARIABLES - 알파벳 순 정렬;

//----------------------------------------------------------------------------------------------------;

//--------------------------------------------------public;

//--------------------------------------------------protected;

//--------------------------------------------------private;

//--------------------------------------------------;


//----------------------------------------------------------------------------------------------------;

//	MEMBER VARIABLES - 알파벳 순 정렬;

//----------------------------------------------------------------------------------------------------;

//--------------------------------------------------public;

//--------------------------------------------------protected;

//--------------------------------------------------private;

//----------------------------------------------------------------------------------------------------;

//	EVENT - addEvent***, removeEvent*** 셋트 배치 후 알파벳 순 정렬;
//	- Callback를 정의하는 곳이 아님.
//	- dispatchEvent로 인하여 EventType에 의거해서 구동될 EventListenr만 정의 하는 구역임
//	- Common Interface
//	_addEvent : 이 객체에서 addEventListener를 정의 한다.
//	_removeEvent : 이 객체에서 removeEventListener를 정의 한다.

//----------------------------------------------------------------------------------------------------;

//--------------------------------------------------;

/**
 * 사용 금지
 * window._$TATIC_EVT_COMPLETE__InitializeLibraries를 사용;
 * @function
 */
window.onload = function()
{
	window.console.log( "--[ S ] - TATIC_EVT_COMPLETE__InitializeLibraries" );
	console.log( "Initialize Libraries Complete." );


	//--------------------------------------------------[ S ] - ;
	var f0 = window.b2link.element.mouseDisable__ID;
	var f1 = window.b2link.element.mouseEnable__ID;
	f0("div_0__Background");
	f1("div_0__Application");
	f0("div_0__UI_Component_Fixed");
	f1("div_0__UI_Component_Fixed");
	f0("div_0__UI_Component_Panel");
	f0("div_0__Top");
	f0("div_0__Top_modal");
	//--------------------------------------------------[ E ] - ;


	//--------------------------------------------------[ S ] - HTML, JavaScript UI;
	//*///--------------------------------------------------TemplateHTML API - addHTMLJS__URL 활용;

	window.b2link_ui.test.test_Menu();

	window.b2link.ui.set_APPEND_CHILD_TARGET_ELEMENT( "div_0__UI_Component_Fixed" );

	//*/
	var o =
		window.ui_member.common.sign_in();
		//window.ui_member.common.sign_in.modal();

	var el = o[ 0 ];
	var elC = o[ 1 ];
	//*/
		//*/
		elC.evt_Complete__SignIn = function( result )
		{
			window.TtwLog.timeStamp( "[ S ] - window.ui_member.common.sign_in._evt_Complete__SignIn():void----------" );

			if( window.b2link.response.getResultStatus( result ) )
			{
				//*/
				window.doorLockCtrlSystem.ui_layout.container_main();
				//window.b2ker.ui_dashboard.main();
				/*/
				//window.b2link_ui.test.test_Menu();
				//*/

				//------------------------------;
				//WebSocket을 생성하여 WebSocketServer과 연결한다.;
				//모든 메세지가 전체 송/수신 되는 기능;
				//sid(session id)와 mid(member id)를 체크한다.;
				//if( !window.__WS__MessageBox ) try{window.__WS__MessageBox=window.b2link.websocket_browser.connectAndCheckSession__MessageBox_message({host:"localhost",port:42322})}catch(e){window.TtwLog.error("[ 테스트 코드 ] - 웹소켓 연결에 실패 함. - "+e)}
				//if( !window.__WS__MessageBox ) try{window.__WS__MessageBox=window.b2link.websocket_browser.connectAndCheckSession__MessageBox_message({host:"222.239.10.122",port:42322})}catch(e){window.TtwLog.error("[ 테스트 코드 ] - 웹소켓 연결에 실패 함. - "+e)}
				//------------------------------;
			}
			else window.b2link.log.error__Signin_failure();

			window.TtwLog.timeStamp( "[ E ] - window.ui_member.common.sign_in._evt_Complete__SignIn():void----------" );
		};
		//*/

	window.b2link.element.appendChild_SetPositionCenterMiddle( window.b2link.STATIC.CONST.ROOT_DIV.EL_UI_COMPONENT_FIXED, el, 200 );

	window.b2link.ui.set_APPEND_CHILD_TARGET_ELEMENT( "div_0__UI_Component_Fixed" );
	//*/

	//*///--------------------------------------------------TemplateHTML API - addHTMLJS__URL 활용;
	//--------------------------------------------------[ E ] - HTML, JavaScript UI;
};

//----------------------------------------------------------------------------------------------------;

//	FUNCTION - 알파벳 순 정렬;
//	- Common Interface
//	_dispose : 이 객체의 removeEvent를 실행하고 이 객체가 보유한 dispose가 있는 인스턴스들의 dispose를 호출해준다.

//----------------------------------------------------------------------------------------------------;

//----------------------------------------------------------------------------------------------------;

//	GETTER / SETTER - GET METHOD, SET METHOD, GET/SET set METHOD, GETTER Property, SETTER Property, GETTER/SETTER Property, 구간 안에서 알파벳 정렬;
//	- Common Interface
//	_setData : 이 객체가 정상적으로 작동되기 위한 값들을 주입 받는 다.

//----------------------------------------------------------------------------------------------------;

//--------------------------------------------------GET;

//--------------------------------------------------SET;

//--------------------------------------------------GET / SET;

//--------------------------------------------------GETTER;

//--------------------------------------------------SETTER;

//--------------------------------------------------GETTER / SETTER;

//--------------------------------------------------;

//----------------------------------------------------------------------------------------------------;

//	LOGIC;

//----------------------------------------------------------------------------------------------------;

//----------------------------------------------------------------------------------------------------;
if( console ) console.log( "[ E ] - " + fileNm + "----------" );
//----------------------------------------------------------------------------------------------------;